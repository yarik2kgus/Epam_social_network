(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[193],{1264:(pe,R,S)=>{"use strict";var H=S(9919),k=S(2601),W=S(6243);function x(){return v.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function b(h,s){if(x()<s)throw new RangeError("Invalid typed array length");return v.TYPED_ARRAY_SUPPORT?(h=new Uint8Array(s)).__proto__=v.prototype:(null===h&&(h=new v(s)),h.length=s),h}function v(h,s,a){if(!(v.TYPED_ARRAY_SUPPORT||this instanceof v))return new v(h,s,a);if("number"==typeof h){if("string"==typeof s)throw new Error("If encoding is specified then the first argument must be a string");return K(this,h)}return U(this,h,s,a)}function U(h,s,a,p){if("number"==typeof s)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer?function X(h,s,a,p){if(a<0||s.byteLength<a)throw new RangeError("'offset' is out of bounds");if(s.byteLength<a+(p||0))throw new RangeError("'length' is out of bounds");return s=void 0===a&&void 0===p?new Uint8Array(s):void 0===p?new Uint8Array(s,a):new Uint8Array(s,a,p),v.TYPED_ARRAY_SUPPORT?(h=s).__proto__=v.prototype:h=q(h,s),h}(h,s,a,p):"string"==typeof s?function Y(h,s,a){if(("string"!=typeof a||""===a)&&(a="utf8"),!v.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var p=0|Fe(s,a),C=(h=b(h,p)).write(s,a);return C!==p&&(h=h.slice(0,C)),h}(h,s,a):function ne(h,s){if(v.isBuffer(s)){var a=0|ge(s.length);return 0===(h=b(h,a)).length||s.copy(h,0,0,a),h}if(s){if(typeof ArrayBuffer<"u"&&s.buffer instanceof ArrayBuffer||"length"in s)return"number"!=typeof s.length||function Ze(h){return h!=h}(s.length)?b(h,0):q(h,s);if("Buffer"===s.type&&W(s.data))return q(h,s.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(h,s)}function V(h){if("number"!=typeof h)throw new TypeError('"size" argument must be a number');if(h<0)throw new RangeError('"size" argument must not be negative')}function K(h,s){if(V(s),h=b(h,s<0?0:0|ge(s)),!v.TYPED_ARRAY_SUPPORT)for(var a=0;a<s;++a)h[a]=0;return h}function q(h,s){var a=s.length<0?0:0|ge(s.length);h=b(h,a);for(var p=0;p<a;p+=1)h[p]=255&s[p];return h}function ge(h){if(h>=x())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x().toString(16)+" bytes");return 0|h}function Fe(h,s){if(v.isBuffer(h))return h.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(h)||h instanceof ArrayBuffer))return h.byteLength;"string"!=typeof h&&(h=""+h);var a=h.length;if(0===a)return 0;for(var p=!1;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return Ie(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return Qe(h).length;default:if(p)return Ie(h).length;s=(""+s).toLowerCase(),p=!0}}function Be(h,s,a){var p=!1;if((void 0===s||s<0)&&(s=0),s>this.length||((void 0===a||a>this.length)&&(a=this.length),a<=0)||(a>>>=0)<=(s>>>=0))return"";for(h||(h="utf8");;)switch(h){case"hex":return re(this,s,a);case"utf8":case"utf-8":return O(this,s,a);case"ascii":return ue(this,s,a);case"latin1":case"binary":return be(this,s,a);case"base64":return M(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,s,a);default:if(p)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),p=!0}}function _e(h,s,a){var p=h[s];h[s]=h[a],h[a]=p}function Le(h,s,a,p,C){if(0===h.length)return-1;if("string"==typeof a?(p=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,isNaN(a)&&(a=C?0:h.length-1),a<0&&(a=h.length+a),a>=h.length){if(C)return-1;a=h.length-1}else if(a<0){if(!C)return-1;a=0}if("string"==typeof s&&(s=v.from(s,p)),v.isBuffer(s))return 0===s.length?-1:$e(h,s,a,p,C);if("number"==typeof s)return s&=255,v.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?C?Uint8Array.prototype.indexOf.call(h,s,a):Uint8Array.prototype.lastIndexOf.call(h,s,a):$e(h,[s],a,p,C);throw new TypeError("val must be string, number or Buffer")}function $e(h,s,a,p,C){var we,T=1,P=h.length,fe=s.length;if(void 0!==p&&("ucs2"===(p=String(p).toLowerCase())||"ucs-2"===p||"utf16le"===p||"utf-16le"===p)){if(h.length<2||s.length<2)return-1;T=2,P/=2,fe/=2,a/=2}function ve(St,gt){return 1===T?St[gt]:St.readUInt16BE(gt*T)}if(C){var Me=-1;for(we=a;we<P;we++)if(ve(h,we)===ve(s,-1===Me?0:we-Me)){if(-1===Me&&(Me=we),we-Me+1===fe)return Me*T}else-1!==Me&&(we-=we-Me),Me=-1}else for(a+fe>P&&(a=P-fe),we=a;we>=0;we--){for(var ye=!0,st=0;st<fe;st++)if(ve(h,we+st)!==ve(s,st)){ye=!1;break}if(ye)return we}return-1}function j(h,s,a,p){a=Number(a)||0;var C=h.length-a;p?(p=Number(p))>C&&(p=C):p=C;var T=s.length;if(T%2!=0)throw new TypeError("Invalid hex string");p>T/2&&(p=T/2);for(var P=0;P<p;++P){var fe=parseInt(s.substr(2*P,2),16);if(isNaN(fe))return P;h[a+P]=fe}return P}function B(h,s,a,p){return je(Ie(s,h.length-a),h,a,p)}function I(h,s,a,p){return je(function Ge(h){for(var s=[],a=0;a<h.length;++a)s.push(255&h.charCodeAt(a));return s}(s),h,a,p)}function J(h,s,a,p){return I(h,s,a,p)}function z(h,s,a,p){return je(Qe(s),h,a,p)}function F(h,s,a,p){return je(function Ye(h,s){for(var a,p,T=[],P=0;P<h.length&&!((s-=2)<0);++P)p=(a=h.charCodeAt(P))>>8,T.push(a%256),T.push(p);return T}(s,h.length-a),h,a,p)}function M(h,s,a){return H.fromByteArray(0===s&&a===h.length?h:h.slice(s,a))}function O(h,s,a){a=Math.min(h.length,a);for(var p=[],C=s;C<a;){var ve,we,Me,ye,T=h[C],P=null,fe=T>239?4:T>223?3:T>191?2:1;if(C+fe<=a)switch(fe){case 1:T<128&&(P=T);break;case 2:128==(192&(ve=h[C+1]))&&(ye=(31&T)<<6|63&ve)>127&&(P=ye);break;case 3:we=h[C+2],128==(192&(ve=h[C+1]))&&128==(192&we)&&(ye=(15&T)<<12|(63&ve)<<6|63&we)>2047&&(ye<55296||ye>57343)&&(P=ye);break;case 4:we=h[C+2],Me=h[C+3],128==(192&(ve=h[C+1]))&&128==(192&we)&&128==(192&Me)&&(ye=(15&T)<<18|(63&ve)<<12|(63&we)<<6|63&Me)>65535&&ye<1114112&&(P=ye)}null===P?(P=65533,fe=1):P>65535&&(p.push((P-=65536)>>>10&1023|55296),P=56320|1023&P),p.push(P),C+=fe}return function te(h){var s=h.length;if(s<=Z)return String.fromCharCode.apply(String,h);for(var a="",p=0;p<s;)a+=String.fromCharCode.apply(String,h.slice(p,p+=Z));return a}(p)}R.lW=v,R.h2=50,v.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function $(){try{var h=new Uint8Array(1);return h.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===h.foo()&&"function"==typeof h.subarray&&0===h.subarray(1,1).byteLength}catch{return!1}}(),x(),v.poolSize=8192,v._augment=function(h){return h.__proto__=v.prototype,h},v.from=function(h,s,a){return U(null,h,s,a)},v.TYPED_ARRAY_SUPPORT&&(v.prototype.__proto__=Uint8Array.prototype,v.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&v[Symbol.species]===v&&Object.defineProperty(v,Symbol.species,{value:null,configurable:!0})),v.alloc=function(h,s,a){return function N(h,s,a,p){return V(s),s<=0?b(h,s):void 0!==a?"string"==typeof p?b(h,s).fill(a,p):b(h,s).fill(a):b(h,s)}(null,h,s,a)},v.allocUnsafe=function(h){return K(null,h)},v.allocUnsafeSlow=function(h){return K(null,h)},v.isBuffer=function(s){return!(null==s||!s._isBuffer)},v.compare=function(s,a){if(!v.isBuffer(s)||!v.isBuffer(a))throw new TypeError("Arguments must be Buffers");if(s===a)return 0;for(var p=s.length,C=a.length,T=0,P=Math.min(p,C);T<P;++T)if(s[T]!==a[T]){p=s[T],C=a[T];break}return p<C?-1:C<p?1:0},v.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(s,a){if(!W(s))throw new TypeError('"list" argument must be an Array of Buffers');if(0===s.length)return v.alloc(0);var p;if(void 0===a)for(a=0,p=0;p<s.length;++p)a+=s[p].length;var C=v.allocUnsafe(a),T=0;for(p=0;p<s.length;++p){var P=s[p];if(!v.isBuffer(P))throw new TypeError('"list" argument must be an Array of Buffers');P.copy(C,T),T+=P.length}return C},v.byteLength=Fe,v.prototype._isBuffer=!0,v.prototype.swap16=function(){var s=this.length;if(s%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<s;a+=2)_e(this,a,a+1);return this},v.prototype.swap32=function(){var s=this.length;if(s%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<s;a+=4)_e(this,a,a+3),_e(this,a+1,a+2);return this},v.prototype.swap64=function(){var s=this.length;if(s%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<s;a+=8)_e(this,a,a+7),_e(this,a+1,a+6),_e(this,a+2,a+5),_e(this,a+3,a+4);return this},v.prototype.toString=function(){var s=0|this.length;return 0===s?"":0===arguments.length?O(this,0,s):Be.apply(this,arguments)},v.prototype.equals=function(s){if(!v.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s||0===v.compare(this,s)},v.prototype.inspect=function(){var s="",a=R.h2;return this.length>0&&(s=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(s+=" ... ")),"<Buffer "+s+">"},v.prototype.compare=function(s,a,p,C,T){if(!v.isBuffer(s))throw new TypeError("Argument must be a Buffer");if(void 0===a&&(a=0),void 0===p&&(p=s?s.length:0),void 0===C&&(C=0),void 0===T&&(T=this.length),a<0||p>s.length||C<0||T>this.length)throw new RangeError("out of range index");if(C>=T&&a>=p)return 0;if(C>=T)return-1;if(a>=p)return 1;if(this===s)return 0;for(var P=(T>>>=0)-(C>>>=0),fe=(p>>>=0)-(a>>>=0),ve=Math.min(P,fe),we=this.slice(C,T),Me=s.slice(a,p),ye=0;ye<ve;++ye)if(we[ye]!==Me[ye]){P=we[ye],fe=Me[ye];break}return P<fe?-1:fe<P?1:0},v.prototype.includes=function(s,a,p){return-1!==this.indexOf(s,a,p)},v.prototype.indexOf=function(s,a,p){return Le(this,s,a,p,!0)},v.prototype.lastIndexOf=function(s,a,p){return Le(this,s,a,p,!1)},v.prototype.write=function(s,a,p,C){if(void 0===a)C="utf8",p=this.length,a=0;else if(void 0===p&&"string"==typeof a)C=a,p=this.length,a=0;else{if(!isFinite(a))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");a|=0,isFinite(p)?(p|=0,void 0===C&&(C="utf8")):(C=p,p=void 0)}var T=this.length-a;if((void 0===p||p>T)&&(p=T),s.length>0&&(p<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");for(var P=!1;;)switch(C){case"hex":return j(this,s,a,p);case"utf8":case"utf-8":return B(this,s,a,p);case"ascii":return I(this,s,a,p);case"latin1":case"binary":return J(this,s,a,p);case"base64":return z(this,s,a,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,s,a,p);default:if(P)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),P=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;function ue(h,s,a){var p="";a=Math.min(h.length,a);for(var C=s;C<a;++C)p+=String.fromCharCode(127&h[C]);return p}function be(h,s,a){var p="";a=Math.min(h.length,a);for(var C=s;C<a;++C)p+=String.fromCharCode(h[C]);return p}function re(h,s,a){var p=h.length;(!s||s<0)&&(s=0),(!a||a<0||a>p)&&(a=p);for(var C="",T=s;T<a;++T)C+=Ve(h[T]);return C}function oe(h,s,a){for(var p=h.slice(s,a),C="",T=0;T<p.length;T+=2)C+=String.fromCharCode(p[T]+256*p[T+1]);return C}function ie(h,s,a){if(h%1!=0||h<0)throw new RangeError("offset is not uint");if(h+s>a)throw new RangeError("Trying to access beyond buffer length")}function ce(h,s,a,p,C,T){if(!v.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>C||s<T)throw new RangeError('"value" argument is out of bounds');if(a+p>h.length)throw new RangeError("Index out of range")}function me(h,s,a,p){s<0&&(s=65535+s+1);for(var C=0,T=Math.min(h.length-a,2);C<T;++C)h[a+C]=(s&255<<8*(p?C:1-C))>>>8*(p?C:1-C)}function De(h,s,a,p){s<0&&(s=4294967295+s+1);for(var C=0,T=Math.min(h.length-a,4);C<T;++C)h[a+C]=s>>>8*(p?C:3-C)&255}function le(h,s,a,p,C,T){if(a+p>h.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function xe(h,s,a,p,C){return C||le(h,0,a,4),k.write(h,s,a,p,23,4),a+4}function Ue(h,s,a,p,C){return C||le(h,0,a,8),k.write(h,s,a,p,52,8),a+8}v.prototype.slice=function(s,a){var C,p=this.length;if((s=~~s)<0?(s+=p)<0&&(s=0):s>p&&(s=p),(a=void 0===a?p:~~a)<0?(a+=p)<0&&(a=0):a>p&&(a=p),a<s&&(a=s),v.TYPED_ARRAY_SUPPORT)(C=this.subarray(s,a)).__proto__=v.prototype;else{var T=a-s;C=new v(T,void 0);for(var P=0;P<T;++P)C[P]=this[P+s]}return C},v.prototype.readUIntLE=function(s,a,p){s|=0,a|=0,p||ie(s,a,this.length);for(var C=this[s],T=1,P=0;++P<a&&(T*=256);)C+=this[s+P]*T;return C},v.prototype.readUIntBE=function(s,a,p){s|=0,a|=0,p||ie(s,a,this.length);for(var C=this[s+--a],T=1;a>0&&(T*=256);)C+=this[s+--a]*T;return C},v.prototype.readUInt8=function(s,a){return a||ie(s,1,this.length),this[s]},v.prototype.readUInt16LE=function(s,a){return a||ie(s,2,this.length),this[s]|this[s+1]<<8},v.prototype.readUInt16BE=function(s,a){return a||ie(s,2,this.length),this[s]<<8|this[s+1]},v.prototype.readUInt32LE=function(s,a){return a||ie(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+16777216*this[s+3]},v.prototype.readUInt32BE=function(s,a){return a||ie(s,4,this.length),16777216*this[s]+(this[s+1]<<16|this[s+2]<<8|this[s+3])},v.prototype.readIntLE=function(s,a,p){s|=0,a|=0,p||ie(s,a,this.length);for(var C=this[s],T=1,P=0;++P<a&&(T*=256);)C+=this[s+P]*T;return C>=(T*=128)&&(C-=Math.pow(2,8*a)),C},v.prototype.readIntBE=function(s,a,p){s|=0,a|=0,p||ie(s,a,this.length);for(var C=a,T=1,P=this[s+--C];C>0&&(T*=256);)P+=this[s+--C]*T;return P>=(T*=128)&&(P-=Math.pow(2,8*a)),P},v.prototype.readInt8=function(s,a){return a||ie(s,1,this.length),128&this[s]?-1*(255-this[s]+1):this[s]},v.prototype.readInt16LE=function(s,a){a||ie(s,2,this.length);var p=this[s]|this[s+1]<<8;return 32768&p?4294901760|p:p},v.prototype.readInt16BE=function(s,a){a||ie(s,2,this.length);var p=this[s+1]|this[s]<<8;return 32768&p?4294901760|p:p},v.prototype.readInt32LE=function(s,a){return a||ie(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},v.prototype.readInt32BE=function(s,a){return a||ie(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},v.prototype.readFloatLE=function(s,a){return a||ie(s,4,this.length),k.read(this,s,!0,23,4)},v.prototype.readFloatBE=function(s,a){return a||ie(s,4,this.length),k.read(this,s,!1,23,4)},v.prototype.readDoubleLE=function(s,a){return a||ie(s,8,this.length),k.read(this,s,!0,52,8)},v.prototype.readDoubleBE=function(s,a){return a||ie(s,8,this.length),k.read(this,s,!1,52,8)},v.prototype.writeUIntLE=function(s,a,p,C){s=+s,a|=0,p|=0,C||ce(this,s,a,p,Math.pow(2,8*p)-1,0);var P=1,fe=0;for(this[a]=255&s;++fe<p&&(P*=256);)this[a+fe]=s/P&255;return a+p},v.prototype.writeUIntBE=function(s,a,p,C){s=+s,a|=0,p|=0,C||ce(this,s,a,p,Math.pow(2,8*p)-1,0);var P=p-1,fe=1;for(this[a+P]=255&s;--P>=0&&(fe*=256);)this[a+P]=s/fe&255;return a+p},v.prototype.writeUInt8=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,1,255,0),v.TYPED_ARRAY_SUPPORT||(s=Math.floor(s)),this[a]=255&s,a+1},v.prototype.writeUInt16LE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,2,65535,0),v.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8):me(this,s,a,!0),a+2},v.prototype.writeUInt16BE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,2,65535,0),v.TYPED_ARRAY_SUPPORT?(this[a]=s>>>8,this[a+1]=255&s):me(this,s,a,!1),a+2},v.prototype.writeUInt32LE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,4,4294967295,0),v.TYPED_ARRAY_SUPPORT?(this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=255&s):De(this,s,a,!0),a+4},v.prototype.writeUInt32BE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,4,4294967295,0),v.TYPED_ARRAY_SUPPORT?(this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=255&s):De(this,s,a,!1),a+4},v.prototype.writeIntLE=function(s,a,p,C){if(s=+s,a|=0,!C){var T=Math.pow(2,8*p-1);ce(this,s,a,p,T-1,-T)}var P=0,fe=1,ve=0;for(this[a]=255&s;++P<p&&(fe*=256);)s<0&&0===ve&&0!==this[a+P-1]&&(ve=1),this[a+P]=(s/fe>>0)-ve&255;return a+p},v.prototype.writeIntBE=function(s,a,p,C){if(s=+s,a|=0,!C){var T=Math.pow(2,8*p-1);ce(this,s,a,p,T-1,-T)}var P=p-1,fe=1,ve=0;for(this[a+P]=255&s;--P>=0&&(fe*=256);)s<0&&0===ve&&0!==this[a+P+1]&&(ve=1),this[a+P]=(s/fe>>0)-ve&255;return a+p},v.prototype.writeInt8=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,1,127,-128),v.TYPED_ARRAY_SUPPORT||(s=Math.floor(s)),s<0&&(s=255+s+1),this[a]=255&s,a+1},v.prototype.writeInt16LE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,2,32767,-32768),v.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8):me(this,s,a,!0),a+2},v.prototype.writeInt16BE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,2,32767,-32768),v.TYPED_ARRAY_SUPPORT?(this[a]=s>>>8,this[a+1]=255&s):me(this,s,a,!1),a+2},v.prototype.writeInt32LE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,4,2147483647,-2147483648),v.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24):De(this,s,a,!0),a+4},v.prototype.writeInt32BE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),v.TYPED_ARRAY_SUPPORT?(this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=255&s):De(this,s,a,!1),a+4},v.prototype.writeFloatLE=function(s,a,p){return xe(this,s,a,!0,p)},v.prototype.writeFloatBE=function(s,a,p){return xe(this,s,a,!1,p)},v.prototype.writeDoubleLE=function(s,a,p){return Ue(this,s,a,!0,p)},v.prototype.writeDoubleBE=function(s,a,p){return Ue(this,s,a,!1,p)},v.prototype.copy=function(s,a,p,C){if(p||(p=0),!C&&0!==C&&(C=this.length),a>=s.length&&(a=s.length),a||(a=0),C>0&&C<p&&(C=p),C===p||0===s.length||0===this.length)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("sourceStart out of bounds");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),s.length-a<C-p&&(C=s.length-a+p);var P,T=C-p;if(this===s&&p<a&&a<C)for(P=T-1;P>=0;--P)s[P+a]=this[P+p];else if(T<1e3||!v.TYPED_ARRAY_SUPPORT)for(P=0;P<T;++P)s[P+a]=this[P+p];else Uint8Array.prototype.set.call(s,this.subarray(p,p+T),a);return T},v.prototype.fill=function(s,a,p,C){if("string"==typeof s){if("string"==typeof a?(C=a,a=0,p=this.length):"string"==typeof p&&(C=p,p=this.length),1===s.length){var T=s.charCodeAt(0);T<256&&(s=T)}if(void 0!==C&&"string"!=typeof C)throw new TypeError("encoding must be a string");if("string"==typeof C&&!v.isEncoding(C))throw new TypeError("Unknown encoding: "+C)}else"number"==typeof s&&(s&=255);if(a<0||this.length<a||this.length<p)throw new RangeError("Out of range index");if(p<=a)return this;var P;if(a>>>=0,p=void 0===p?this.length:p>>>0,s||(s=0),"number"==typeof s)for(P=a;P<p;++P)this[P]=s;else{var fe=v.isBuffer(s)?s:Ie(new v(s,C).toString()),ve=fe.length;for(P=0;P<p-a;++P)this[P+a]=fe[P%ve]}return this};var Pe=/[^+\/0-9A-Za-z-_]/g;function Ve(h){return h<16?"0"+h.toString(16):h.toString(16)}function Ie(h,s){s=s||1/0;for(var a,p=h.length,C=null,T=[],P=0;P<p;++P){if((a=h.charCodeAt(P))>55295&&a<57344){if(!C){if(a>56319){(s-=3)>-1&&T.push(239,191,189);continue}if(P+1===p){(s-=3)>-1&&T.push(239,191,189);continue}C=a;continue}if(a<56320){(s-=3)>-1&&T.push(239,191,189),C=a;continue}a=65536+(C-55296<<10|a-56320)}else C&&(s-=3)>-1&&T.push(239,191,189);if(C=null,a<128){if((s-=1)<0)break;T.push(a)}else if(a<2048){if((s-=2)<0)break;T.push(a>>6|192,63&a|128)}else if(a<65536){if((s-=3)<0)break;T.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((s-=4)<0)break;T.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return T}function Qe(h){return H.toByteArray(function Re(h){if((h=function Ne(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}(h).replace(Pe,"")).length<2)return"";for(;h.length%4!=0;)h+="=";return h}(h))}function je(h,s,a,p){for(var C=0;C<p&&!(C+a>=s.length||C>=h.length);++C)s[C+a]=h[C];return C}},8064:(pe,R,S)=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.RawSha256=void 0;var f=S(4515),H=function(){function k(){this.state=Int32Array.from(f.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return k.prototype.update=function(W){if(this.finished)throw new Error("Attempted to update an already finished hash.");var $=0,x=W.byteLength;if(this.bytesHashed+=x,8*this.bytesHashed>f.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;x>0;)this.buffer[this.bufferLength++]=W[$++],x--,this.bufferLength===f.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},k.prototype.digest=function(){if(!this.finished){var W=8*this.bytesHashed,$=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),x=this.bufferLength;if($.setUint8(this.bufferLength++,128),x%f.BLOCK_SIZE>=f.BLOCK_SIZE-8){for(var b=this.bufferLength;b<f.BLOCK_SIZE;b++)$.setUint8(b,0);this.hashBuffer(),this.bufferLength=0}for(b=this.bufferLength;b<f.BLOCK_SIZE-8;b++)$.setUint8(b,0);$.setUint32(f.BLOCK_SIZE-8,Math.floor(W/4294967296),!0),$.setUint32(f.BLOCK_SIZE-4,W),this.hashBuffer(),this.finished=!0}var v=new Uint8Array(f.DIGEST_LENGTH);for(b=0;b<8;b++)v[4*b]=this.state[b]>>>24&255,v[4*b+1]=this.state[b]>>>16&255,v[4*b+2]=this.state[b]>>>8&255,v[4*b+3]=this.state[b]>>>0&255;return v},k.prototype.hashBuffer=function(){for(var $=this.buffer,x=this.state,b=x[0],v=x[1],U=x[2],V=x[3],N=x[4],K=x[5],Y=x[6],q=x[7],X=0;X<f.BLOCK_SIZE;X++){if(X<16)this.temp[X]=(255&$[4*X])<<24|(255&$[4*X+1])<<16|(255&$[4*X+2])<<8|255&$[4*X+3];else{var ne=this.temp[X-2];this.temp[X]=(((ne>>>17|ne<<15)^(ne>>>19|ne<<13)^ne>>>10)+this.temp[X-7]|0)+((((ne=this.temp[X-15])>>>7|ne<<25)^(ne>>>18|ne<<14)^ne>>>3)+this.temp[X-16]|0)}var Fe=(((N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7))+(N&K^~N&Y)|0)+(q+(f.KEY[X]+this.temp[X]|0)|0)|0,Be=((b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10))+(b&v^b&U^v&U)|0;q=Y,Y=K,K=N,N=V+Fe|0,V=U,U=v,v=b,b=Fe+Be|0}x[0]+=b,x[1]+=v,x[2]+=U,x[3]+=V,x[4]+=N,x[5]+=K,x[6]+=Y,x[7]+=q},k}();R.RawSha256=H},4515:(pe,R)=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.MAX_HASHABLE_LENGTH=R.INIT=R.KEY=R.DIGEST_LENGTH=R.BLOCK_SIZE=void 0,R.BLOCK_SIZE=64,R.DIGEST_LENGTH=32,R.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],R.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},7197:(pe,R,S)=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0}),(0,S(3541).__exportStar)(S(1237),R)},1237:(pe,R,S)=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.Sha256=void 0;var f=S(3541),H=S(4515),k=S(8064),W=S(9999),$=function(){function b(v){if(this.hash=new k.RawSha256,v){this.outer=new k.RawSha256;var U=function x(b){var v=(0,W.convertToBuffer)(b);if(v.byteLength>H.BLOCK_SIZE){var U=new k.RawSha256;U.update(v),v=U.digest()}var V=new Uint8Array(H.BLOCK_SIZE);return V.set(v),V}(v),V=new Uint8Array(H.BLOCK_SIZE);V.set(U);for(var N=0;N<H.BLOCK_SIZE;N++)U[N]^=54,V[N]^=92;for(this.hash.update(U),this.outer.update(V),N=0;N<U.byteLength;N++)U[N]=0}}return b.prototype.update=function(v){if(!(0,W.isEmptyData)(v)&&!this.error)try{this.hash.update((0,W.convertToBuffer)(v))}catch(U){this.error=U}},b.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},b.prototype.digest=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(v){return[2,this.digestSync()]})})},b}();R.Sha256=$},4275:(pe,R,S)=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.convertToBuffer=void 0;var f=S(3470),H=typeof Buffer<"u"&&Buffer.from?function(W){return Buffer.from(W,"utf8")}:f.fromUtf8;R.convertToBuffer=function k(W){return W instanceof Uint8Array?W:"string"==typeof W?H(W):ArrayBuffer.isView(W)?new Uint8Array(W.buffer,W.byteOffset,W.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(W)}},9999:(pe,R,S)=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=R.numToUint8=R.isEmptyData=R.convertToBuffer=void 0;var f=S(4275);Object.defineProperty(R,"convertToBuffer",{enumerable:!0,get:function(){return f.convertToBuffer}});var H=S(885);Object.defineProperty(R,"isEmptyData",{enumerable:!0,get:function(){return H.isEmptyData}});var k=S(372);Object.defineProperty(R,"numToUint8",{enumerable:!0,get:function(){return k.numToUint8}});var W=S(862);Object.defineProperty(R,"uint32ArrayFrom",{enumerable:!0,get:function(){return W.uint32ArrayFrom}})},885:(pe,R)=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.isEmptyData=void 0,R.isEmptyData=function S(f){return"string"==typeof f?0===f.length:0===f.byteLength}},372:(pe,R)=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.numToUint8=void 0,R.numToUint8=function S(f){return new Uint8Array([(4278190080&f)>>24,(16711680&f)>>16,(65280&f)>>8,255&f])}},862:(pe,R)=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=void 0,R.uint32ArrayFrom=function S(f){if(!Array.from){for(var H=new Uint32Array(f.length);0<f.length;)H[0]=f[0];return H}return Uint32Array.from(f)}},3470:(pe,R,S)=>{"use strict";S.r(R),S.d(R,{fromUtf8:()=>$,toUtf8:()=>x});var $=function(b){return"function"==typeof TextEncoder?function k(b){return(new TextEncoder).encode(b)}(b):function(b){for(var v=[],U=0,V=b.length;U<V;U++){var N=b.charCodeAt(U);if(N<128)v.push(N);else if(N<2048)v.push(N>>6|192,63&N|128);else if(U+1<b.length&&55296==(64512&N)&&56320==(64512&b.charCodeAt(U+1))){var K=65536+((1023&N)<<10)+(1023&b.charCodeAt(++U));v.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}else v.push(N>>12|224,N>>6&63|128,63&N|128)}return Uint8Array.from(v)}(b)},x=function(b){return"function"==typeof TextDecoder?function W(b){return new TextDecoder("utf-8").decode(b)}(b):function(b){for(var v="",U=0,V=b.length;U<V;U++){var N=b[U];if(N<128)v+=String.fromCharCode(N);else if(192<=N&&N<224){var K=b[++U];v+=String.fromCharCode((31&N)<<6|63&K)}else if(240<=N&&N<365){var q="%"+[N,b[++U],b[++U],b[++U]].map(function(X){return X.toString(16)}).join("%");v+=decodeURIComponent(q)}else v+=String.fromCharCode((15&N)<<12|(63&b[++U])<<6|63&b[++U])}return v}(b)}},9685:(pe,R,S)=>{"use strict";S.d(R,{Fp:()=>x,HF:()=>W,Zr:()=>$,iP:()=>k,wd:()=>H,xb:()=>f});var f=function(b){return b.FirstStep="firstStep",b.SecondStep="secondStep",b.ThirdStep="thirdStep",b}(f||{});const H={activeStep:f.FirstStep,isSecondStepDisabled:!0,isThirdStepDisabled:!0};var k=function(b){return b.Continue="Continue",b.CreateAccount="Create account",b}(k||{}),W=function(b){return b.NewPassword="newPassword",b.ConfirmNewPassword="confirmNewPassword",b.Password="password",b.RepeatPassword="repeatPassword",b}(W||{});const $={email:"",password:"",givenName:"",familyName:"",avatar:"",socialMedia:{linkedin:"",instagram:"",facebook:"",skype:"",telegram:""}};var x=function(b){return b.IncorrectUser="User does not exist.",b.IncorrectPassword="Incorrect username or password.",b}(x||{})},9045:(pe,R,S)=>{"use strict";S.d(R,{s:()=>b});var f=S(5678),H=S(7337),k=S(8180),W=S(9397),$=S(9862);const x=H.N.apiBaseUrl;let b=(()=>{class v{constructor(V){this.http=V,this.currentUser$=(0,f.tdS)(null),this.currentUser=this.currentUser$.asReadonly()}getUserList(V,N){return this.http.get(`${x}/users?limit=${V}&hashkey=${N}`).pipe((0,k.q)(1))}getFilteredUserList(V,N,K){return this.http.post(`${x}/match?limit=${N}&rangekey=${K}`,V).pipe((0,k.q)(1))}getUser(V){return this.http.get(`${x}/users/${V}`).pipe((0,k.q)(1))}getCurrentUser(V){return this.getUser(V).pipe((0,W.b)(N=>{this.currentUser$.set(N)}))}updateUser(V,N){return this.http.put(`${x}/users/${V}`,N).pipe((0,k.q)(1))}createUser(V){return this.http.post(`${x}/users`,V).pipe((0,k.q)(1))}clearUserData(){this.currentUser$.set(null),sessionStorage.clear()}static#e=this.\u0275fac=function(N){return new(N||v)(f.LFG($.eN))};static#t=this.\u0275prov=f.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},2333:(pe,R,S)=>{"use strict";S.d(R,{e:()=>x});var f=S(8180),H=S(4664),k=S(9685),W=S(5678),$=S(9045);let x=(()=>{class b{constructor(U){this.apiService=U,this.draftAuthForm=structuredClone(k.Zr)}saveFormValue(U){delete U.repeatPassword,this.draftAuthForm={...this.draftAuthForm,...this.filterFormValue(U)}}getDraftFormValue(){return this.draftAuthForm}resetDraftFormValue(){this.draftAuthForm=structuredClone(k.Zr)}createUser(U){return this.apiService.createUser(U).pipe((0,f.q)(1),(0,H.w)(()=>this.apiService.getCurrentUser(U.email)))}getCurrentUser(U){return this.apiService.getCurrentUser(U).pipe((0,f.q)(1))}isUserLoggedIn(){return!(!this.apiService.currentUser()&&!this.getUserNameFromStorage())}getUserNameFromStorage(){const U=sessionStorage.getItem("userEmail");return U?JSON.parse(U):""}filterFormValue(U){return Object.entries(U).forEach(([V,N])=>{N||delete U[V],"object"==typeof N&&Object.entries(N).length&&(U[V]=this.filterFormValue(N)),"object"==typeof N&&!Object.entries(N).length&&delete U[V]}),U}static#e=this.\u0275fac=function(V){return new(V||b)(W.LFG($.s))};static#t=this.\u0275prov=W.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},9834:(pe,R,S)=>{"use strict";S.d(R,{A:()=>Qs});var f=function(r,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(r,e)};function H(r,e){function t(){this.constructor=r}f(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var k=function(){return k=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},k.apply(this,arguments)};function v(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})}function U(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}}function Y(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var o,c,i=t.call(r),n=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)n.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return n}var B=function(r){return r.Cognito="COGNITO",r.Google="Google",r.Facebook="Facebook",r.Amazon="LoginWithAmazon",r.Apple="SignInWithApple",r}(B||{});function I(r){return r&&!!["provider"].find(function(t){return r.hasOwnProperty(t)})}function F(r){return void 0!==r.redirectSignIn}var r,M=function(r){return r.NoConfig="noConfig",r.MissingAuthConfig="missingAuthConfig",r.EmptyUsername="emptyUsername",r.InvalidUsername="invalidUsername",r.EmptyPassword="emptyPassword",r.EmptyCode="emptyCode",r.SignUpError="signUpError",r.NoMFA="noMFA",r.InvalidMFA="invalidMFA",r.EmptyChallengeResponse="emptyChallengeResponse",r.NoUserSession="noUserSession",r.Default="default",r.DeviceConfig="deviceConfig",r.NetworkError="networkError",r.AutoSignInError="autoSignInError",r}(M||{}),De=function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var o,c,i=t.call(r),n=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)n.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return n},le=function(r,e,t){if(t||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)(n||!(i in e))&&(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},xe={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},Ue=function(r){return r.DEBUG="DEBUG",r.ERROR="ERROR",r.INFO="INFO",r.WARN="WARN",r.VERBOSE="VERBOSE",r}(Ue||{}),Pe=function(){function r(e,t){void 0===t&&(t=Ue.WARN),this.name=e,this.level=t,this._pluggables=[]}return r.prototype._padding=function(e){return e<10?"0"+e:""+e},r.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},r.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},r.prototype._log=function(e){for(var t,i,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];var c=this.level;if(r.LOG_LEVEL&&(c=r.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(c=window.LOG_LEVEL),xe[e]>=xe[c]){var u=console.log.bind(console);e===Ue.ERROR&&console.error&&(u=console.error.bind(console)),e===Ue.WARN&&console.warn&&(u=console.warn.bind(console));var y="[".concat(e,"] ").concat(this._ts()," ").concat(this.name),A="";if(1===o.length&&"string"==typeof o[0])u(A="".concat(y," - ").concat(o[0]));else if(1===o.length)A="".concat(y," ").concat(o[0]),u(y,o[0]);else if("string"==typeof o[0]){var D=o.slice(1);1===D.length&&(D=D[0]),A="".concat(y," - ").concat(o[0]," ").concat(D),u("".concat(y," - ").concat(o[0]),D)}else A="".concat(y," ").concat(o),u(y,o);try{for(var G=function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._pluggables),L=G.next();!L.done;L=G.next()){var Q=L.value,se={message:A,timestamp:Date.now()};Q.pushLogs([se])}}catch(ae){t={error:ae}}finally{try{L&&!L.done&&(i=G.return)&&i.call(G)}finally{if(t)throw t.error}}}},r.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,le([Ue.INFO],De(e),!1))},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,le([Ue.INFO],De(e),!1))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,le([Ue.WARN],De(e),!1))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,le([Ue.ERROR],De(e),!1))},r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,le([Ue.DEBUG],De(e),!1))},r.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,le([Ue.VERBOSE],De(e),!1))},r.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},r.prototype.listPluggables=function(){return this._pluggables},r.LOG_LEVEL=null,r}(),Re=function(){return Re=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},Re.apply(this,arguments)},Ne=function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var o,c,i=t.call(r),n=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)n.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return n},Ve=function(r,e,t){if(t||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)(n||!(i in e))&&(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},Ie=new Pe("Hub"),Ge=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Qe=function(){function r(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return r.prototype._remove=function(e,t){if(e instanceof RegExp){var i=this.patterns.find(function(n){return n.pattern.source===e.source});if(!i)return void Ie.warn("No listeners for ".concat(e));this.patterns=Ve([],Ne(this.patterns.filter(function(n){return n!==i})),!1)}else{var o=this.listeners[e];if(!o)return void Ie.warn("No listeners for ".concat(e));this.listeners[e]=Ve([],Ne(o.filter(function(n){return n.callback!==t})),!1)}},r.prototype.remove=function(e,t){this._remove(e,t)},r.prototype.dispatch=function(e,t,i,o){void 0===i&&(i=""),this.protectedChannels.indexOf(e)>-1&&(o===Ge||Ie.warn("WARNING: ".concat(e," is protected and dispatching on it can have unintended consequences")));var c={channel:e,payload:Re({},t),source:i,patternInfo:[]};try{this._toListeners(c)}catch(d){Ie.error(d)}},r.prototype.listen=function(e,t,i){var n,o=this;if(void 0===i&&(i="noname"),function Ye(r){return void 0!==r.onHubCapsule}(t))Ie.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),n=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");n=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:n});else{var c=this.listeners[e];c||(this.listeners[e]=c=[]),c.push({name:i,callback:n})}return function(){o._remove(e,n)}},r.prototype._toListeners=function(e){var t=e.channel,i=e.payload,o=this.listeners[t];if(o&&o.forEach(function(c){Ie.debug("Dispatching to ".concat(t," with "),i);try{c.callback(e)}catch(d){Ie.error(d)}}),this.patterns.length>0){if(!i.message)return void Ie.warn("Cannot perform pattern matching without a message key");var n=i.message;this.patterns.forEach(function(c){var d=n.match(c.pattern);if(d){var u=Ne(d).slice(1),y=Re(Re({},e),{patternInfo:u});try{c.callback(y)}catch(A){Ie.error(A)}}})}},r}(),je=new Qe("__default__"),Ze={},h=function(){function r(){}return r.setItem=function(e,t){return Ze[e]=t,Ze[e]},r.getItem=function(e){return Object.prototype.hasOwnProperty.call(Ze,e)?Ze[e]:void 0},r.removeItem=function(e){return delete Ze[e]},r.clear=function(){return Ze={}},r}(),s=function(){function r(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=h}}return r.prototype.getStorage=function(){return this.storageWindow},r}(),ye=function(){return{isBrowser:typeof window<"u"&&typeof window.document<"u",isNode:typeof process<"u"&&null!=process.versions&&null!=process.versions.node}},di=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),wr=function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})},Mn=function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}},pi=function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var o,c,i=t.call(r),n=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)n.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return n},Cr=function(r,e,t){if(t||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)(n||!(i in e))&&(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},Rt=new Pe("Util"),bt=function(r){function e(t){var i=r.call(this,t)||this;return i.nonRetryable=!0,i}return di(e,r),e}(Error);function kt(r){return void 0===r&&(r=3e5),function(i){var o=100*Math.pow(2,i)+100*Math.random();return!(o>r)&&o}}var _t,lt=new Pe("CognitoCredentials"),dn=new Promise(function(r,e){return ye().isBrowser?window.gapi&&window.gapi.auth2&&window.gapi.auth2?(lt.debug("google api already loaded"),r()):void setTimeout(function(){return r()},2e3):(lt.debug("not in the browser, directly resolved"),r())}),Sr=function(){function r(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return r.prototype.refreshGoogleToken=function(){return function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})}(this,void 0,void 0,function(){return function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}}(this,function(e){switch(e.label){case 0:return this.initialized?[3,2]:(lt.debug("need to wait for the Google SDK loaded"),[4,dn]);case 1:e.sent(),this.initialized=!0,lt.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},r.prototype._refreshGoogleTokenImpl=function(){var e=null;return ye().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise(function(t,i){e.getAuthInstance().then(function(o){o||(lt.debug("google Auth undefined"),i(new bt("google Auth undefined")));var n=o.currentUser.get();n.isSignedIn()?(lt.debug("refreshing the google access token"),n.reloadAuthResponse().then(function(c){t({token:c.id_token,expires_at:c.expires_at})}).catch(function(c){i(c&&"network_error"===c.error?"Network error reloading google auth response":new bt("Failed to reload google auth response"))})):i(new bt("User is not signed in with Google"))}).catch(function(o){lt.debug("Failed to refresh google token",o),i(new bt("Failed to refresh google token"))})}):(lt.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},r}(),ft=new Pe("CognitoCredentials"),Yt=new Promise(function(r,e){return ye().isBrowser?window.FB?(ft.debug("FB SDK already loaded"),r()):void setTimeout(function(){return r()},2e3):(ft.debug("not in the browser, directly resolved"),r())}),Vt=function(){function r(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return r.prototype.refreshFacebookToken=function(){return function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})}(this,void 0,void 0,function(){return function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}}(this,function(e){switch(e.label){case 0:return this.initialized?[3,2]:(ft.debug("need to wait for the Facebook SDK loaded"),[4,Yt]);case 1:e.sent(),this.initialized=!0,ft.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},r.prototype._refreshFacebookTokenImpl=function(){var e=null;if(ye().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return ft.debug(t),Promise.reject(new bt(t))}return new Promise(function(i,o){e.getLoginStatus(function(n){if(n&&n.authResponse){var d=n.authResponse,w=d.accessToken,A=1e3*d.expiresIn+(new Date).getTime();w||(ft.debug(c="the jwtToken is undefined"),o(new bt(c))),i({token:w,expires_at:A})}else{var c;ft.debug(c="no response from facebook when refreshing the jwt token"),o(new bt(c))}},{scope:"public_profile,email"})})},r}(),vi=new Sr,yi=new Vt,zt=new Pe("Amplify"),wi=function(){function r(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=Pe,this.ServiceWorker=null}return r.prototype.register=function(e){zt.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):zt.debug("no getModuleName method for component",e),e.configure(this._config)},r.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),zt.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(i){var o=function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var o,c,i=t.call(r),n=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)n.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return n}(i,2),c=o[1];Object.keys(c).forEach(function(d){t._modules[d]&&(c[d]=t._modules[d])})}),this._components.map(function(i){i.configure(t._config)}),this._config):this._config},r.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map(function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)})},r}(),at=new wi,xt={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},qt={partitions:[xt,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},Jt=function(r){var e,t,i=qt.partitions;try{for(var o=function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),n=o.next();!n.done;n=o.next()){var c=n.value,d=c.regions,w=c.outputs,y=new RegExp(c.regionRegex);if(d.includes(r)||y.test(r))return w.dnsSuffix}}catch(A){e={error:A}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return xt.outputs.dnsSuffix},mt=function(){return mt=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},mt.apply(this,arguments)},Er=function(r,e){if(e?.aborted)return Promise.resolve();var t,i,o=new Promise(function(n){i=n,t=setTimeout(n,r)});return e?.addEventListener("abort",function n(c){clearTimeout(t),e?.removeEventListener("abort",n),i()}),o},gn=function(r,e){var t;"[object Object]"===Object.prototype.toString.call(r)&&(r.$metadata=mt(mt({},null!==(t=r.$metadata)&&void 0!==t?t:{}),{attempts:e}))},Tr=function(r,e){return function(t,i){for(var o={},n=function(u){return r(u,i)},c=e.length-1;c>=0;c--)n=(0,e[c])(i)(n,o);return n(t)}},Lt=(S(9557),function(r){var e;return function(){return e||(e=r()),e}}),mn=function(){return mn=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},mn.apply(this,arguments)},Ur=function(r){return!["HEAD","GET","DELETE"].includes(r.toUpperCase())},yn=Tr(function(r,e){var t=r.url,i=r.method,o=r.headers,n=r.body,c=e.abortSignal;return function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})}(void 0,void 0,void 0,function(){var d,w,u,y,A,D,G;return function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}}(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,fetch(t,{method:i,headers:o,body:Ur(i)?n:void 0,signal:c})];case 1:return d=L.sent(),[3,3];case 2:throw(w=L.sent())instanceof TypeError?new Error("Network error"):w;case 3:return u={},null===(D=d.headers)||void 0===D||D.forEach(function(Q,se){u[se.toLowerCase()]=Q}),y={statusCode:d.status,headers:u,body:null},A=Object.assign(null!==(G=d.body)&&void 0!==G?G:{},{text:Lt(function(){return d.text()}),blob:Lt(function(){return d.blob()}),json:Lt(function(){return d.json()})}),[2,mn(mn({},y),{body:A})]}})})},[function(r){var e=r.userAgentHeader,t=void 0===e?"x-amz-user-agent":e,i=r.userAgentValue,o=void 0===i?"":i;return function(n){return function(d){return function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})}(this,void 0,void 0,function(){var u;return function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}}(this,function(A){switch(A.label){case 0:return 0!==o.trim().length?[3,2]:[4,n(d)];case 1:case 3:return[2,A.sent()];case 2:return u=t.toLowerCase(),d.headers[u]=d.headers[u]?"".concat(d.headers[u]," ").concat(o):o,[4,n(d)]}})})}}},function(r){var e=r.maxAttempts,t=void 0===e?3:e,i=r.retryDecider,o=r.computeDelay,n=r.abortSignal;if(t<1)throw new Error("maxAttempts must be greater than 0");return function(c,d){return function(u){var y;return function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})}(this,void 0,void 0,function(){var A,D,G,L,Q,se;return function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}}(this,function(ae){switch(ae.label){case 0:D=null!==(y=d.attemptsCount)&&void 0!==y?y:0,L=function(){if(G)return gn(G,D),G;throw gn(A,D),A},ae.label=1;case 1:if(n?.aborted||!(D<t))return[3,11];ae.label=2;case 2:return ae.trys.push([2,4,,5]),[4,c(u)];case 3:return G=ae.sent(),A=void 0,[3,5];case 4:return Q=ae.sent(),A=Q,G=void 0,[3,5];case 5:return d.attemptsCount=D=d.attemptsCount>D?d.attemptsCount:D+1,[4,i(G,A)];case 6:return ae.sent()?!n?.aborted&&D<t?(se=o(D),[4,Er(se,n)]):[3,8]:[3,9];case 7:ae.sent(),ae.label=8;case 8:return[3,1];case 9:return[2,L()];case 10:return[3,1];case 11:if(n?.aborted)throw new Error("Request aborted.");return[2,L()]}})})}}}]),Zt=function(){return Zt=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},Zt.apply(this,arguments)},_n=function(r){var e,t,i=r.headers,o=r.statusCode;return Zt(Zt({},Pr(r)?r.$metadata:{}),{httpStatusCode:o,requestId:null!==(t=null!==(e=i["x-amzn-requestid"])&&void 0!==e?e:i["x-amzn-request-id"])&&void 0!==t?t:i["x-amz-request-id"],extendedRequestId:i["x-amz-id-2"],cfId:i["x-amz-cf-id"]})},Pr=function(r){return"object"==typeof r?.$metadata},It=function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})},Xt=function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}},Qt=function(r){return It(void 0,void 0,void 0,function(){var e,t,i,o,n,c,d,w,u,y;return Xt(this,function(A){switch(A.label){case 0:return!r||r.statusCode<300?[2]:[4,ht(r)];case 1:return e=A.sent(),t=function(D){var G=function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var o,c,i=t.call(r),n=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)n.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return n}(D.toString().split(/[\,\:]+/),1),L=G[0];return L.includes("#")?L.split("#")[1]:L},i=t(null!==(w=null!==(d=null!==(c=r.headers["x-amzn-errortype"])&&void 0!==c?c:e.code)&&void 0!==d?d:e.__type)&&void 0!==w?w:"UnknownError"),o=null!==(y=null!==(u=e.message)&&void 0!==u?u:e.Message)&&void 0!==y?y:"Unknown error",n=new Error(o),[2,Object.assign(n,{name:i,$metadata:_n(r)})]}})})},ht=function(r){return It(void 0,void 0,void 0,function(){var e;return Xt(this,function(t){switch(t.label){case 0:if(!r.body)throw new Error("Missing response payload");return[4,r.body.json()];case 1:return e=t.sent(),[2,Object.assign(e,{$metadata:_n(r)})]}})})},bi=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],Dr=function(r){return bi.includes(r)},xi=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],Ii=["TimeoutError","RequestTimeout","RequestTimeoutException"],Mr=function(r,e){return 429===r||xi.includes(e)},Vn=function(r){return"Network error"===r?.name},Or=function(r,e){return[500,502,503,504].includes(r)||Ii.includes(e)},Ke=function(r){return r.WebUnknown="0",r.React="1",r.NextJs="2",r.Angular="3",r.VueJs="4",r.Nuxt="5",r.Svelte="6",r.ServerSideUnknown="100",r.ReactSSR="101",r.NextJsSSR="102",r.AngularSSR="103",r.VueJsSSR="104",r.NuxtSSR="105",r.SvelteSSR="106",r.ReactNative="201",r.Expo="202",r}(Ke||{}),Bn=function(r){return r.API="api",r.Auth="auth",r.Analytics="analytics",r.DataStore="datastore",r.Geo="geo",r.InAppMessaging="inappmessaging",r.Interactions="interactions",r.Predictions="predictions",r.PubSub="pubsub",r.PushNotification="pushnotification",r.Storage="storage",r}(Bn||{}),Rr=function(r){return r.FederatedSignIn="30",r}(Rr||{}),vt=function(){return typeof global<"u"},dt=function(){return typeof window<"u"},Wn=function(){return typeof document<"u"},jt=function(){return typeof process<"u"},Tt=function(r,e){return!!Object.keys(r).find(function(t){return t.startsWith(e)})},yt=[{platform:Ke.Expo,detectionMethod:function qn(){return vt()&&typeof global.expo<"u"}},{platform:Ke.ReactNative,detectionMethod:function Kr(){return typeof navigator<"u"&&typeof navigator.product<"u"&&"ReactNative"===navigator.product}},{platform:Ke.NextJs,detectionMethod:function Gr(){return dt()&&window.next&&"object"==typeof window.next}},{platform:Ke.Nuxt,detectionMethod:function zn(){return dt()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:Ke.Angular,detectionMethod:function Ui(){var r=!(!Wn()||!document.querySelector("[ng-version]")),e=!!(dt()&&typeof window.ng<"u");return r||e}},{platform:Ke.React,detectionMethod:function Br(){var r=function(i){return i.startsWith("_react")||i.startsWith("__react")};return Wn()&&Array.from(document.querySelectorAll("[id]")).some(function(i){return Object.keys(i).find(r)})}},{platform:Ke.VueJs,detectionMethod:function Lr(){return dt()&&Tt(window,"__VUE")}},{platform:Ke.Svelte,detectionMethod:function jr(){return dt()&&Tt(window,"__SVELTE")}},{platform:Ke.WebUnknown,detectionMethod:function Jn(){return dt()}},{platform:Ke.NextJsSSR,detectionMethod:function Hr(){return vt()&&(Tt(global,"__next")||Tt(global,"__NEXT"))}},{platform:Ke.NuxtSSR,detectionMethod:function Wr(){return vt()&&typeof global.__NUXT_PATHS__<"u"}},{platform:Ke.ReactSSR,detectionMethod:function Kn(){return jt()&&typeof process.env<"u"&&!!Object.keys(process.env).find(function(r){return r.includes("react")})}},{platform:Ke.VueJsSSR,detectionMethod:function Yn(){return vt()&&Tt(global,"__VUE")}},{platform:Ke.AngularSSR,detectionMethod:function xn(){var r;return jt()&&"object"==typeof process.env&&(null===(r=process.env.npm_lifecycle_script)||void 0===r?void 0:r.startsWith("ng "))||!1}},{platform:Ke.SvelteSSR,detectionMethod:function En(){return jt()&&typeof process.env<"u"&&!!Object.keys(process.env).find(function(r){return r.includes("svelte")})}}],en=[],Ut=!1,tn=function(){if(!_t){if(_t=function Yr(){var r;return(null===(r=yt.find(function(e){return e.detectionMethod()}))||void 0===r?void 0:r.platform)||Ke.ServerSideUnknown}(),Ut)for(;en.length;)en.pop()();else en.forEach(function(r){return r()});Xn(Ke.ServerSideUnknown,10),Xn(Ke.WebUnknown,10)}return _t},$n=function(r){Ut||en.push(r)};function Xn(r,e){_t===r&&!Ut&&setTimeout(function(){(function Zn(){_t=void 0})(),Ut=!0,setTimeout(tn,1e3)},e)}var er="aws-amplify",tr=function(){function r(){this.userAgent="".concat(er,"/").concat("5.3.12")}return Object.defineProperty(r.prototype,"framework",{get:function(){return tn()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isReactNative",{get:function(){return this.framework===Ke.ReactNative||this.framework===Ke.Expo},enumerable:!1,configurable:!0}),r.prototype.observeFrameworkChanges=function(e){$n(e)},r}(),Tn=new tr,rr=function(r){var e=function(r){var e=void 0===r?{}:r,t=e.category,n=[[er,"5.3.12"]];return t&&n.push([t,e.action]),n.push(["framework",tn()]),n}(r),t=e.map(function(i){var o=function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var o,c,i=t.call(r),n=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)n.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return n}(i,2),c=o[1];return"".concat(o[0],"/").concat(c)}).join(" ");return t},Jr=Tr(yn,[function(){return function(r,e){return function(i){return function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})}(this,void 0,void 0,function(){return function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}}(this,function(o){return i.headers["cache-control"]="no-store",[2,r(i)]})})}}}]),nn={service:"cognito-identity",endpointResolver:function(r){var e=r.region;return{url:new URL("https://cognito-identity.".concat(e,".").concat(Jt(e)))}},retryDecider:function(r){return function(e,t){return function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})}(void 0,void 0,void 0,function(){var i,o,n,c;return function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}}(this,function(d){switch(d.label){case 0:return null==t?[3,1]:(o=t,[3,3]);case 1:return[4,r(e)];case 2:o=d.sent(),d.label=3;case 3:return i=(null!==(c=o)&&void 0!==c?c:{}).name,n=e?.statusCode,[2,Vn(t)||Mr(n,i)||Dr(i)||Or(n,i)]}})})}}(Qt),computeDelay:function(r){var t=kt(3e5)(r);return!1===t?3e5:t},userAgentValue:rr()};$n(function(){nn.userAgentValue=rr()});var Un=function(r){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(r)}},sr=function(r,e,t){return{headers:e,url:r.url,body:t,method:"POST"}},rn=function(){return rn=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},rn.apply(this,arguments)},ar=function(r,e,t,i){return function(o,n){return function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})}(void 0,void 0,void 0,function(){var c,d,w,u;return function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}}(this,function(y){switch(y.label){case 0:return[4,(c=rn(rn({},i),o)).endpointResolver(c,n)];case 1:return d=y.sent(),[4,e(n,d)];case 2:return w=y.sent(),[4,r(w,rn({},c))];case 3:return u=y.sent(),[4,t(u)];case 4:return[2,y.sent()]}})})}},E=ar(Jr,function(r,e){var t=Un("GetId"),i=JSON.stringify(r);return sr(e,t,i)},function(r){return function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})}(void 0,void 0,void 0,function(){return function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}}(this,function(i){switch(i.label){case 0:return r.statusCode>=300?[4,Qt(r)]:[3,2];case 1:throw i.sent();case 2:return[4,ht(r)];case 3:return[2,{IdentityId:i.sent().IdentityId,$metadata:_n(r)}]}})})},nn),Pt=function(r){return void 0===r&&(r={}),{AccessKeyId:r.AccessKeyId,SecretKey:r.SecretKey,SessionToken:r.SessionToken,Expiration:new Date(1e3*r.Expiration)}},Ct=ar(Jr,function(r,e){var t=Un("GetCredentialsForIdentity"),i=JSON.stringify(r);return sr(e,t,i)},function(r){return function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})}(void 0,void 0,void 0,function(){var t;return function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}}(this,function(i){switch(i.label){case 0:return r.statusCode>=300?[4,Qt(r)]:[3,2];case 1:throw i.sent();case 2:return[4,ht(r)];case 3:return[2,{IdentityId:(t=i.sent()).IdentityId,Credentials:Pt(t.Credentials),$metadata:_n(r)}]}})})},nn),Dt=function(){return Dt=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},Dt.apply(this,arguments)},Zr=new Pe("Parser"),Fi=function(r){var i,e={};return r.aws_mobile_analytics_app_id&&(e.Analytics={AWSPinpoint:{appId:r.aws_mobile_analytics_app_id,region:r.aws_mobile_analytics_app_region}}),(r.aws_cognito_identity_pool_id||r.aws_user_pools_id)&&(e.Auth={userPoolId:r.aws_user_pools_id,userPoolWebClientId:r.aws_user_pools_web_client_id,region:r.aws_cognito_region,identityPoolId:r.aws_cognito_identity_pool_id,identityPoolRegion:r.aws_cognito_region,mandatorySignIn:"enable"===r.aws_mandatory_sign_in,signUpVerificationMethod:r.aws_cognito_sign_up_verification_method||"code"}),i=r.aws_user_files_s3_bucket?{AWSS3:{bucket:r.aws_user_files_s3_bucket,region:r.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:r.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:r?r.Storage||r:{},r.Logging&&(e.Logging=Dt(Dt({},r.Logging),{region:r.aws_project_region})),r.geo&&(e.Geo=Object.assign({},r.geo),r.geo.amazon_location_service&&(e.Geo={AmazonLocationService:r.geo.amazon_location_service})),e.Analytics=Object.assign({},e.Analytics,r.Analytics),e.Auth=Object.assign({},e.Auth,r.Auth),e.Storage=Object.assign({},i),e.Logging=Object.assign({},e.Logging,r.Logging),Zr.debug("parse config",r,"to amplifyconfig",e),e},ur=function(){return ur=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},ur.apply(this,arguments)},et=function(r,e,t,i){return new(t||(t=Promise))(function(n,c){function d(y){try{u(i.next(y))}catch(A){c(A)}}function w(y){try{u(i.throw(y))}catch(A){c(A)}}function u(y){y.done?n(y.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(y.value).then(d,w)}u((i=i.apply(r,e||[])).next())})},tt=function(r,e){var i,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(u){return function(y){return function w(u){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(i=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(y){u=[6,y],o=0}finally{i=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,y])}}},Oe=new Pe("Credentials"),no=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",io=function(){function r(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=vi.refreshGoogleToken,this._refreshHandlers.facebook=yi.refreshFacebookToken}return r.prototype.getModuleName=function(){return"Credentials"},r.prototype.getCredSource=function(){return this._credentials_source},r.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=ur(ur({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new s).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),je.dispatch("core",{event:"credentials_configured",data:null,message:"Credentials has been configured successfully"},"Credentials",no),this._config},r.prototype.get=function(){return Oe.debug("getting credentials"),this._pickupCredentials()},r.prototype._getCognitoIdentityIdStorageKey=function(e){return"".concat("CognitoIdentityId-").concat(e)},r.prototype._pickupCredentials=function(){return Oe.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Oe.debug("getting old cred promise"):(Oe.debug("getting new cred promise"),this._gettingCredPromise=function(r){if(r.isResolved)return r;var e=!0,t=!1,i=!1,o=r.then(function(n){return i=!0,e=!1,n},function(n){throw t=!0,e=!1,n});return o.isFullfilled=function(){return i},o.isPending=function(){return e},o.isRejected=function(){return t},o}(this._keepAlive())),this._gettingCredPromise},r.prototype._keepAlive=function(){return et(this,void 0,void 0,function(){var e,t,i,o,n,c,w;return tt(this,function(u){switch(u.label){case 0:if(Oe.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return Oe.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(Oe.debug("need to get a new credential or refresh the existing one"),!(i=void 0===(t=this.Auth)?at.Auth:t)||"function"!=typeof i.currentUserCredentials)return[2,this._setCredentialsForGuest()];if(this._isExpired(e)||!this._isPastTTL())return[3,6];Oe.debug("ttl has passed but token is not yet expired"),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,i.currentUserPoolUser()];case 2:return o=u.sent(),[4,i.currentSession()];case 3:return n=u.sent(),c=n.refreshToken,[4,new Promise(function(y,A){o.refreshSession(c,function(D,G){return D?A(D):y(G)})})];case 4:return u.sent(),[3,6];case 5:return w=u.sent(),Oe.debug("Error attempting to refreshing the session",w),[3,6];case 6:return[2,i.currentUserCredentials()]}})})},r.prototype.refreshFederatedToken=function(e){Oe.debug("Getting federated credentials");var t=e.provider,i=e.user,o=e.token,n=e.identity_id,c=e.expires_at;c=1970===new Date(c).getFullYear()?1e3*c:c;var d=this;return Oe.debug("checking if federated jwt token expired"),c>(new Date).getTime()?(Oe.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:o,user:i,identity_id:n,expires_at:c})):d._refreshHandlers[t]&&"function"==typeof d._refreshHandlers[t]?(Oe.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:d._refreshHandlers[t],provider:t,user:i})):(Oe.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},r.prototype._providerRefreshWithRetry=function(e){var t=this,o=e.provider,n=e.user;return function(r,e,t,i){return void 0===t&&(t=3e5),function mi(r,e,t,i){return wr(this,void 0,void 0,function(){var o=this;return Mn(this,function(n){if("function"!=typeof r)throw Error("functionToRetry must be a function");return[2,new Promise(function(c,d){return wr(o,void 0,void 0,function(){var w,u,y,A,D,G,L;return Mn(this,function(Q){switch(Q.label){case 0:w=0,u=!1,A=function(){},i&&i.then(function(){u=!0,clearTimeout(y),A()}),G=function(){var se,ae,de,Ce;return Mn(this,function(Te){switch(Te.label){case 0:w++,Rt.debug("".concat(r.name," attempt #").concat(w," with this vars: ").concat(JSON.stringify(e))),Te.label=1;case 1:return Te.trys.push([1,3,,7]),se={},ae=c,[4,r.apply(void 0,Cr([],pi(e),!1))];case 2:return[2,(se.value=ae.apply(void 0,[Te.sent()]),se)];case 3:return de=Te.sent(),D=de,Rt.debug("error on ".concat(r.name),de),function(r){return r&&r.nonRetryable}(de)?(Rt.debug("".concat(r.name," non retryable error"),de),[2,{value:d(de)}]):(Ce=t(w,e,de),Rt.debug("".concat(r.name," retrying in ").concat(Ce," ms")),!1===Ce||u?[2,{value:d(de)}]:[3,4]);case 4:return[4,new Promise(function(ze){A=ze,y=setTimeout(A,Ce)})];case 5:Te.sent(),Te.label=6;case 6:return[3,7];case 7:return[2]}})},Q.label=1;case 1:return u?[3,3]:[5,G()];case 2:return"object"==typeof(L=Q.sent())?[2,L.value]:[3,1];case 3:return d(D),[2]}})})})]})})}(r,e,kt(t),i)}(e.refreshHandler,[],1e4).then(function(d){return Oe.debug("refresh federated token sucessfully",d),t._setCredentialsFromFederation({provider:o,token:d.token,user:n,identity_id:d.identity_id,expires_at:d.expires_at})}).catch(function(d){return"string"==typeof d&&0===d.toLowerCase().lastIndexOf("network error",d.length)||t.clear(),Oe.debug("refresh federated token failed",d),Promise.reject("refreshing federation token failed: "+d)})},r.prototype._isExpired=function(e){if(!e)return Oe.debug("no credentials for expiration check"),!0;Oe.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},r.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},r.prototype._setCredentialsForGuest=function(){var e;return et(this,void 0,void 0,function(){var t,i,o,c,d,w,u,A,D=this;return tt(this,function(G){switch(G.label){case 0:return Oe.debug("setting credentials for guest"),!(null===(e=this._config)||void 0===e)&&e.identityPoolId||(this._config=Object.assign({},this._config,Fi(this._config||{}).Auth)),i=(t=this._config).identityPoolId,o=t.region,c=t.identityPoolRegion,t.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:i?c||o?(w=this,[4,this._getGuestIdentityId()]):(Oe.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(Oe.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return d=w._identityId=G.sent(),u={region:c??o},A=et(D,void 0,void 0,function(){var L,Q;return tt(this,function(se){switch(se.label){case 0:return d?[3,2]:[4,E(u,{IdentityPoolId:i})];case 1:L=se.sent().IdentityId,this._identityId=L,se.label=2;case 2:return[4,Ct(u,{IdentityId:this._identityId})];case 3:return Q=se.sent().Credentials,[2,{identityId:this._identityId,accessKeyId:Q.AccessKeyId,secretAccessKey:Q.SecretKey,sessionToken:Q.SessionToken,expiration:Q.Expiration}]}})}).catch(function(L){return et(D,void 0,void 0,function(){return tt(this,function(Q){throw L})})}),[2,this._loadCredentials(A,"guest",!1,null).then(function(L){return L}).catch(function(L){return et(D,void 0,void 0,function(){var se=this;return tt(this,function(ae){switch(ae.label){case 0:return"ResourceNotFoundException"===L.name&&L.message==="Identity '".concat(d,"' not found.")?(Oe.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return ae.sent(),A=et(se,void 0,void 0,function(){var de,Ce;return tt(this,function(Te){switch(Te.label){case 0:return[4,E(u,{IdentityPoolId:i})];case 1:return de=Te.sent().IdentityId,this._identityId=de,[4,Ct(u,{IdentityId:de})];case 2:return Ce=Te.sent().Credentials,[2,{identityId:de,accessKeyId:Ce.AccessKeyId,secretAccessKey:Ce.SecretKey,sessionToken:Ce.SessionToken,expiration:Ce.Expiration}]}})}).catch(function(de){return et(se,void 0,void 0,function(){return tt(this,function(Ce){throw de})})}),[2,this._loadCredentials(A,"guest",!1,null)];case 2:return[2,L]}})})})]}})})},r.prototype._setCredentialsFromFederation=function(e){var t=this,i=e.provider,o=e.token,n=e.identity_id,d={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[i]||i;if(!d)return Promise.reject("You must specify a federated provider");var w={};w[d]=o;var u=this._config,y=u.identityPoolId,A=u.region,D=u.identityPoolRegion;if(!y)return Oe.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!D&&!A)return Oe.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var G={region:D??A},Q=et(t,void 0,void 0,function(){var se,ae;return tt(this,function(de){switch(de.label){case 0:return n?[3,2]:[4,E(G,{IdentityPoolId:y,Logins:w})];case 1:se=de.sent().IdentityId,n=se,de.label=2;case 2:return[4,Ct(G,{IdentityId:n,Logins:w})];case 3:return ae=de.sent().Credentials,[2,{identityId:n,accessKeyId:ae.AccessKeyId,secretAccessKey:ae.SecretKey,sessionToken:ae.SessionToken,expiration:ae.Expiration}]}})}).catch(function(se){return et(t,void 0,void 0,function(){return tt(this,function(ae){throw se})})});return this._loadCredentials(Q,"federated",!0,e)},r.prototype._setCredentialsFromSession=function(e){var t=this;Oe.debug("set credentials from session");var i=e.getIdToken().getJwtToken(),o=this._config,n=o.region,c=o.userPoolId,d=o.identityPoolId,w=o.identityPoolRegion;if(!d)return Oe.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!w&&!n)return Oe.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var y={};y["cognito-idp."+n+".amazonaws.com/"+c]=i;var A={region:w??n},G=et(t,void 0,void 0,function(){var L,Q,se,ae,de,Ce,Te,ze,qe,We;return tt(this,function(Xe){switch(Xe.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(L=Xe.sent())?[3,3]:[4,E(A,{IdentityPoolId:d,Logins:y})];case 2:se=Xe.sent().IdentityId,Q=se,Xe.label=3;case 3:return[4,Ct(A,{IdentityId:L||Q,Logins:y})];case 4:return ae=Xe.sent(),Ce=(de=ae.Credentials).AccessKeyId,Te=de.Expiration,ze=de.SecretKey,qe=de.SessionToken,this._identityId=We=ae.IdentityId,L?(Oe.debug("The guest identity ".concat(L," has been successfully linked to the logins")),L===We&&Oe.debug("The guest identity ".concat(L," has become the primary identity")),[4,this._removeGuestIdentityId()]):[3,6];case 5:Xe.sent(),Xe.label=6;case 6:return[2,{accessKeyId:Ce,secretAccessKey:ze,sessionToken:qe,expiration:Te,identityId:We}]}})}).catch(function(L){return et(t,void 0,void 0,function(){return tt(this,function(Q){throw L})})});return this._loadCredentials(G,"userPool",!0,null)},r.prototype._loadCredentials=function(e,t,i,o){var n=this,c=this;return new Promise(function(d,w){e.then(function(u){return et(n,void 0,void 0,function(){var y,A,D,G,L;return tt(this,function(Q){switch(Q.label){case 0:if(Oe.debug("Load credentials successfully",u),this._identityId&&!u.identityId&&(u.identityId=this._identityId),c._credentials=u,c._credentials.authenticated=i,c._credentials_source=t,c._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){y=Object.assign({id:this._credentials.identityId},o.user),A=o.provider,D=o.token,G=o.expires_at,L=o.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:A,token:D,user:y,expires_at:G,identity_id:L}))}catch(se){Oe.debug("Failed to put federated info into auth storage",se)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(u.identityId)];case 1:Q.sent(),Q.label=2;case 2:return d(c._credentials),[2]}})})}).catch(function(u){if(u)return Oe.debug("Failed to load credentials",e),Oe.debug("Error loading credentials",u),void w(u)})})},r.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(Oe.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},r.prototype.clear=function(){return et(this,void 0,void 0,function(){return tt(this,function(e){return this._credentials=null,this._credentials_source=null,Oe.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},r.prototype._getGuestIdentityId=function(){return et(this,void 0,void 0,function(){var e,t;return tt(this,function(i){switch(i.label){case 0:e=this._config.identityPoolId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=i.sent(),Oe.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}})})},r.prototype._setGuestIdentityId=function(e){return et(this,void 0,void 0,function(){var t,i;return tt(this,function(o){switch(o.label){case 0:t=this._config.identityPoolId,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._storageSync];case 2:return o.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return i=o.sent(),Oe.debug("Failed to cache guest identityId",i),[3,4];case 4:return[2]}})})},r.prototype._removeGuestIdentityId=function(){return et(this,void 0,void 0,function(){var e;return tt(this,function(t){return Oe.debug("removing ".concat(this._getCognitoIdentityIdStorageKey(e=this._config.identityPoolId)," from storage")),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]})})},r.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},r}(),Ri=new io(null);at.register(Ri);var cr=S(6600);function ki(r,e){void 0===e&&(e={});var t=function uo(r){return r&&"j"===r[0]&&":"===r[1]?r.substr(2):r}(r);if(function ao(r,e){return typeof e>"u"&&(e=!r||"{"!==r[0]&&"["!==r[0]&&'"'!==r[0]),!e}(t,e.doNotParse))try{return JSON.parse(t)}catch{}return r}var Gt=function(){return Gt=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},Gt.apply(this,arguments)},co=function(){function r(e,t){var i=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function so(r,e){return"string"==typeof r?cr.Q(r,e):"object"==typeof r&&null!==r?r:{}}(e,t),new Promise(function(){i.HAS_DOCUMENT_COOKIE=function oo(){return"object"==typeof document&&"string"==typeof document.cookie}()}).catch(function(){})}return r.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=cr.Q(document.cookie,e))},r.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},r.prototype.get=function(e,t,i){return void 0===t&&(t={}),this._updateBrowserValues(i),ki(this.cookies[e],t)},r.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var i={};for(var o in this.cookies)i[o]=ki(this.cookies[o],e);return i},r.prototype.set=function(e,t,i){var o;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=Gt(Gt({},this.cookies),((o={})[e]=t,o)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=cr.q(e,t,i)),this._emitChange({name:e,value:t,options:i})},r.prototype.remove=function(e,t){var i=t=Gt(Gt({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Gt({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=cr.q(e,"",i)),this._emitChange({name:e,value:void 0,options:t})},r.prototype.addChangeListener=function(e){this.changeListeners.push(e)},r.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},r}();const Xr=co;var ut,lr=function(){return lr=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},lr.apply(this,arguments)},Ni=ye().isBrowser,fo=function(){function r(e){void 0===e&&(e={}),this.cookies=new Xr,this.store=Ni?window.localStorage:Object.create(null),this.cookies=e.req?new Xr(decodeURIComponent(e.req.headers.cookie)):new Xr,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(r.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!1,configurable:!0}),r.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map(function(t,i){return e.key(i)}).forEach(function(t){return e.removeItem(t)})},r.prototype.getItem=function(e){return this.getLocalItem(e)},r.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},r.prototype.getUniversalItem=function(e){return this.cookies.get(e)},r.prototype.key=function(e){return Object.keys(this.store)[e]},r.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},r.prototype.removeLocalItem=function(e){delete this.store[e]},r.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},r.prototype.setItem=function(e,t){this.setLocalItem(e,t);var i=e.split(".").pop();["LastAuthUser","accessToken","refreshToken","idToken"].includes(i??"")&&this.setUniversalItem(e,t,{expires:new Date(Date.now()+31536e6)})},r.prototype.setLocalItem=function(e,t){this.store[e]=t},r.prototype.setUniversalItem=function(e,t,i){void 0===i&&(i={}),this.cookies.set(e,t,lr(lr({},i),{path:"/",sameSite:!0,secure:!(Ni&&"localhost"===window.location.hostname)}))},r}(),Vi=function(){function r(t){var i=t||{},n=i.Username,c=i.Password,d=i.AuthParameters,w=i.ClientMetadata;this.validationData=i.ValidationData||{},this.authParameters=d||{},this.clientMetadata=w||{},this.username=n,this.password=c}var e=r.prototype;return e.getUsername=function(){return this.username},e.getPassword=function(){return this.password},e.getValidationData=function(){return this.validationData},e.getAuthParameters=function(){return this.authParameters},e.getClientMetadata=function(){return this.clientMetadata},r}(),He=S(9751);if(typeof window<"u"&&window.crypto&&(ut=window.crypto),!ut&&typeof window<"u"&&window.msCrypto&&(ut=window.msCrypto),!ut&&typeof global<"u"&&global.crypto&&(ut=global.crypto),!ut)try{ut=S(6249)}catch{}function go(){if(ut){if("function"==typeof ut.getRandomValues)try{return ut.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof ut.randomBytes)try{return ut.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}var vo=function(){function r(t,i){t=this.words=t||[],this.sigBytes=null!=i?i:4*t.length}var e=r.prototype;return e.random=function(i){for(var o=[],n=0;n<i;n+=4)o.push(go());return new r(o,i)},e.toString=function(){return function mo(r){for(var e=r.words,t=r.sigBytes,i=[],o=0;o<t;o++){var n=e[o>>>2]>>>24-o%4*8&255;i.push((n>>>4).toString(16)),i.push((15&n).toString(16))}return i.join("")}(this)},r}(),on=S(7197);const Je=Ee;function Ee(r,e){null!=r&&this.fromString(r,e)}function it(){return new Ee(null)}var Mt,Li=typeof navigator<"u";Li&&"Microsoft Internet Explorer"==navigator.appName?(Ee.prototype.am=function wo(r,e,t,i,o,n){for(var c=32767&e,d=e>>15;--n>=0;){var w=32767&this[r],u=this[r++]>>15,y=d*w+u*c;o=((w=c*w+((32767&y)<<15)+t[i]+(1073741823&o))>>>30)+(y>>>15)+d*u+(o>>>30),t[i++]=1073741823&w}return o},Mt=30):Li&&"Netscape"!=navigator.appName?(Ee.prototype.am=function _o(r,e,t,i,o,n){for(;--n>=0;){var c=e*this[r++]+t[i]+o;o=Math.floor(c/67108864),t[i++]=67108863&c}return o},Mt=26):(Ee.prototype.am=function Co(r,e,t,i,o,n){for(var c=16383&e,d=e>>14;--n>=0;){var w=16383&this[r],u=this[r++]>>14,y=d*w+u*c;o=((w=c*w+((16383&y)<<14)+t[i]+o)>>28)+(y>>14)+d*u,t[i++]=268435455&w}return o},Mt=28),Ee.prototype.DB=Mt,Ee.prototype.DM=(1<<Mt)-1,Ee.prototype.DV=1<<Mt,Ee.prototype.FV=Math.pow(2,52),Ee.prototype.F1=52-Mt,Ee.prototype.F2=2*Mt-52;var sn,ct,fr=new Array;for(sn="0".charCodeAt(0),ct=0;ct<=9;++ct)fr[sn++]=ct;for(sn="a".charCodeAt(0),ct=10;ct<36;++ct)fr[sn++]=ct;for(sn="A".charCodeAt(0),ct=10;ct<36;++ct)fr[sn++]=ct;function ji(r){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(r)}function bo(r,e){return fr[r.charCodeAt(e)]??-1}function ei(r){var e=it();return e.fromInt(r),e}function ti(r){var t,e=1;return 0!=(t=r>>>16)&&(r=t,e+=16),0!=(t=r>>8)&&(r=t,e+=8),0!=(t=r>>4)&&(r=t,e+=4),0!=(t=r>>2)&&(r=t,e+=2),0!=(t=r>>1)&&(r=t,e+=1),e}function an(r){this.m=r,this.mp=r.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<r.DB-15)-1,this.mt2=2*r.t}function ni(r){return He.lW.from((new vo).random(r).toString(),"hex")}an.prototype.convert=function Jo(r){var e=it();return r.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),r.s<0&&e.compareTo(Ee.ZERO)>0&&this.m.subTo(e,e),e},an.prototype.revert=function $o(r){var e=it();return r.copyTo(e),this.reduce(e),e},an.prototype.reduce=function Zo(r){for(;r.t<=this.mt2;)r[r.t++]=0;for(var e=0;e<this.m.t;++e){var t=32767&r[e],i=t*this.mpl+((t*this.mph+(r[e]>>15)*this.mpl&this.um)<<15)&r.DM;for(r[t=e+this.m.t]+=this.m.am(0,i,r,e,0,this.m.t);r[t]>=r.DV;)r[t]-=r.DV,r[++t]++}r.clamp(),r.drShiftTo(this.m.t,r),r.compareTo(this.m)>=0&&r.subTo(this.m,r)},an.prototype.mulTo=function Qo(r,e,t){r.multiplyTo(e,t),this.reduce(t)},an.prototype.sqrTo=function Xo(r,e){r.squareTo(e),this.reduce(e)},Ee.prototype.copyTo=function Ao(r){for(var e=this.t-1;e>=0;--e)r[e]=this[e];r.t=this.t,r.s=this.s},Ee.prototype.fromInt=function Eo(r){this.t=1,this.s=r<0?-1:0,r>0?this[0]=r:r<-1?this[0]=r+this.DV:this.t=0},Ee.prototype.fromString=function xo(r,e){var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}this.t=0,this.s=0;for(var i=r.length,o=!1,n=0;--i>=0;){var c=bo(r,i);c<0?"-"==r.charAt(i)&&(o=!0):(o=!1,0==n?this[this.t++]=c:n+t>this.DB?(this[this.t-1]|=(c&(1<<this.DB-n)-1)<<n,this[this.t++]=c>>this.DB-n):this[this.t-1]|=c<<n,(n+=t)>=this.DB&&(n-=this.DB))}this.clamp(),o&&Ee.ZERO.subTo(this,this)},Ee.prototype.clamp=function Io(){for(var r=this.s&this.DM;this.t>0&&this[this.t-1]==r;)--this.t},Ee.prototype.dlShiftTo=function Oo(r,e){var t;for(t=this.t-1;t>=0;--t)e[t+r]=this[t];for(t=r-1;t>=0;--t)e[t]=0;e.t=this.t+r,e.s=this.s},Ee.prototype.drShiftTo=function Fo(r,e){for(var t=r;t<this.t;++t)e[t-r]=this[t];e.t=Math.max(this.t-r,0),e.s=this.s},Ee.prototype.lShiftTo=function Ro(r,e){var d,t=r%this.DB,i=this.DB-t,o=(1<<i)-1,n=Math.floor(r/this.DB),c=this.s<<t&this.DM;for(d=this.t-1;d>=0;--d)e[d+n+1]=this[d]>>i|c,c=(this[d]&o)<<t;for(d=n-1;d>=0;--d)e[d]=0;e[n]=c,e.t=this.t+n+1,e.s=this.s,e.clamp()},Ee.prototype.rShiftTo=function ko(r,e){e.s=this.s;var t=Math.floor(r/this.DB);if(t>=this.t)e.t=0;else{var i=r%this.DB,o=this.DB-i,n=(1<<i)-1;e[0]=this[t]>>i;for(var c=t+1;c<this.t;++c)e[c-t-1]|=(this[c]&n)<<o,e[c-t]=this[c]>>i;i>0&&(e[this.t-t-1]|=(this.s&n)<<o),e.t=this.t-t,e.clamp()}},Ee.prototype.subTo=function No(r,e){for(var t=0,i=0,o=Math.min(r.t,this.t);t<o;)i+=this[t]-r[t],e[t++]=i&this.DM,i>>=this.DB;if(r.t<this.t){for(i-=r.s;t<this.t;)i+=this[t],e[t++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;t<r.t;)i-=r[t],e[t++]=i&this.DM,i>>=this.DB;i-=r.s}e.s=i<0?-1:0,i<-1?e[t++]=this.DV+i:i>0&&(e[t++]=i),e.t=t,e.clamp()},Ee.prototype.multiplyTo=function Vo(r,e){var t=this.abs(),i=r.abs(),o=t.t;for(e.t=o+i.t;--o>=0;)e[o]=0;for(o=0;o<i.t;++o)e[o+t.t]=t.am(0,i[o],e,o,0,t.t);e.s=0,e.clamp(),this.s!=r.s&&Ee.ZERO.subTo(e,e)},Ee.prototype.squareTo=function Bo(r){for(var e=this.abs(),t=r.t=2*e.t;--t>=0;)r[t]=0;for(t=0;t<e.t-1;++t){var i=e.am(t,e[t],r,2*t,0,1);(r[t+e.t]+=e.am(t+1,2*e[t],r,2*t+1,i,e.t-t-1))>=e.DV&&(r[t+e.t]-=e.DV,r[t+e.t+1]=1)}r.t>0&&(r[r.t-1]+=e.am(t,e[t],r,2*t,0,1)),r.s=0,r.clamp()},Ee.prototype.divRemTo=function Lo(r,e,t){var i=r.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t)return e?.fromInt(0),void(null!=t&&this.copyTo(t));null==t&&(t=it());var n=it(),c=this.s,d=r.s,w=this.DB-ti(i[i.t-1]);w>0?(i.lShiftTo(w,n),o.lShiftTo(w,t)):(i.copyTo(n),o.copyTo(t));var u=n.t,y=n[u-1];if(0!=y){var A=y*(1<<this.F1)+(u>1?n[u-2]>>this.F2:0),D=this.FV/A,G=(1<<this.F1)/A,L=1<<this.F2,Q=t.t,se=Q-u,ae=e??it();for(n.dlShiftTo(se,ae),t.compareTo(ae)>=0&&(t[t.t++]=1,t.subTo(ae,t)),Ee.ONE.dlShiftTo(u,ae),ae.subTo(n,n);n.t<u;)n[n.t++]=0;for(;--se>=0;){var de=t[--Q]==y?this.DM:Math.floor(t[Q]*D+(t[Q-1]+L)*G);if((t[Q]+=n.am(0,de,t,se,0,u))<de)for(n.dlShiftTo(se,ae),t.subTo(ae,t);t[Q]<--de;)t.subTo(ae,t)}null!=e&&(t.drShiftTo(u,e),c!=d&&Ee.ZERO.subTo(e,e)),t.t=u,t.clamp(),w>0&&t.rShiftTo(w,t),c<0&&Ee.ZERO.subTo(t,t)}}},Ee.prototype.invDigit=function Go(){if(this.t<1)return 0;var r=this[0];if(!(1&r))return 0;var e=3&r;return(e=(e=(e=(e=e*(2-(15&r)*e)&15)*(2-(255&r)*e)&255)*(2-((65535&r)*e&65535))&65535)*(2-r*e%this.DV)%this.DV)>0?this.DV-e:-e},Ee.prototype.addTo=function Wo(r,e){for(var t=0,i=0,o=Math.min(r.t,this.t);t<o;)i+=this[t]+r[t],e[t++]=i&this.DM,i>>=this.DB;if(r.t<this.t){for(i+=r.s;t<this.t;)i+=this[t],e[t++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;t<r.t;)i+=r[t],e[t++]=i&this.DM,i>>=this.DB;i+=r.s}e.s=i<0?-1:0,i>0?e[t++]=i:i<-1&&(e[t++]=this.DV+i),e.t=t,e.clamp()},Ee.prototype.toString=function To(r){if(this.s<0)return"-"+this.negate().toString(r);var e;if(16==r)e=4;else if(8==r)e=3;else if(2==r)e=1;else if(32==r)e=5;else{if(4!=r)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");e=2}var i,t=(1<<e)-1,o=!1,n="",c=this.t,d=this.DB-c*this.DB%e;if(c-- >0)for(d<this.DB&&(i=this[c]>>d)>0&&(o=!0,n=ji(i));c>=0;)d<e?(i=(this[c]&(1<<d)-1)<<e-d,i|=this[--c]>>(d+=this.DB-e)):(i=this[c]>>(d-=e)&t,d<=0&&(d+=this.DB,--c)),i>0&&(o=!0),o&&(n+=ji(i));return o?n:"0"},Ee.prototype.negate=function Uo(){var r=it();return Ee.ZERO.subTo(this,r),r},Ee.prototype.abs=function Po(){return this.s<0?this.negate():this},Ee.prototype.compareTo=function Do(r){var e=this.s-r.s;if(0!=e)return e;var t=this.t;if(0!=(e=t-r.t))return this.s<0?-e:e;for(;--t>=0;)if(0!=(e=this[t]-r[t]))return e;return 0},Ee.prototype.bitLength=function Mo(){return this.t<=0?0:this.DB*(this.t-1)+ti(this[this.t-1]^this.s&this.DM)},Ee.prototype.mod=function jo(r){var e=it();return this.abs().divRemTo(r,null,e),this.s<0&&e.compareTo(Ee.ZERO)>0&&r.subTo(e,e),e},Ee.prototype.equals=function Ho(r){return 0==this.compareTo(r)},Ee.prototype.add=function Ko(r){var e=it();return this.addTo(r,e),e},Ee.prototype.subtract=function Yo(r){var e=it();return this.subTo(r,e),e},Ee.prototype.multiply=function zo(r){var e=it();return this.multiplyTo(r,e),e},Ee.prototype.divide=function qo(r){var e=it();return this.divRemTo(r,e,null),e},Ee.prototype.modPow=function es(r,e,t){var o,i=r.bitLength(),n=ei(1),c=new an(e);if(i<=0)return n;o=i<18?1:i<48?3:i<144?4:i<768?5:6;var d=new Array,w=3,u=o-1,y=(1<<o)-1;if(d[1]=c.convert(this),o>1){var A=it();for(c.sqrTo(d[1],A);w<=y;)d[w]=it(),c.mulTo(A,d[w-2],d[w]),w+=2}var G,se,D=r.t-1,L=!0,Q=it();for(i=ti(r[D])-1;D>=0;){for(i>=u?G=r[D]>>i-u&y:(G=(r[D]&(1<<i+1)-1)<<u-i,D>0&&(G|=r[D-1]>>this.DB+i-u)),w=o;!(1&G);)G>>=1,--w;if((i-=w)<0&&(i+=this.DB,--D),L)d[G].copyTo(n),L=!1;else{for(;w>1;)c.sqrTo(n,Q),c.sqrTo(Q,n),w-=2;w>0?c.sqrTo(n,Q):(se=n,n=Q,Q=se),c.mulTo(Q,d[G],n)}for(;D>=0&&!(r[D]&1<<i);)c.sqrTo(n,Q),se=n,n=Q,Q=se,--i<0&&(i=this.DB-1,--D)}var ae=c.revert(n);return t(null,ae),ae},Ee.ZERO=ei(0),Ee.ONE=ei(1);var ts=/^[89a-f]/i,un=function(){function r(t){this.N=new Je("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new Je("2",16),this.k=new Je(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=He.lW.from("Caldera Derived Key","utf8"),this.poolName=t}var e=r.prototype;return e.getSmallAValue=function(){return this.smallAValue},e.getLargeAValue=function(i){var o=this;this.largeAValue?i(null,this.largeAValue):this.calculateA(this.smallAValue,function(n,c){n&&i(n,null),o.largeAValue=c,i(null,o.largeAValue)})},e.generateRandomSmallA=function(){var i=ni(128).toString("hex");return new Je(i,16)},e.generateRandomString=function(){return ni(40).toString("base64")},e.getRandomPassword=function(){return this.randomPassword},e.getSaltDevices=function(){return this.SaltToHashDevices},e.getVerifierDevices=function(){return this.verifierDevices},e.generateHashDevice=function(i,o,n){var c=this;this.randomPassword=this.generateRandomString();var w=this.hash(""+i+o+":"+this.randomPassword),u=ni(16).toString("hex");this.SaltToHashDevices=this.padHex(new Je(u,16)),this.g.modPow(new Je(this.hexHash(this.SaltToHashDevices+w),16),this.N,function(y,A){y&&n(y,null),c.verifierDevices=c.padHex(A),n(null,null)})},e.calculateA=function(i,o){var n=this;this.g.modPow(i,this.N,function(c,d){c&&o(c,null),d.mod(n.N).equals(Je.ZERO)&&o(new Error("Illegal paramater. A mod N cannot be 0."),null),o(null,d)})},e.calculateU=function(i,o){return this.UHexHash=this.hexHash(this.padHex(i)+this.padHex(o)),new Je(this.UHexHash,16)},e.hash=function(i){var o=new on.Sha256;o.update(i);var n=o.digestSync(),c=He.lW.from(n).toString("hex");return new Array(64-c.length).join("0")+c},e.hexHash=function(i){return this.hash(He.lW.from(i,"hex"))},e.computehkdf=function(i,o){var n=He.lW.concat([this.infoBits,He.lW.from(String.fromCharCode(1),"utf8")]),c=new on.Sha256(o);c.update(i);var d=c.digestSync(),w=new on.Sha256(d);return w.update(n),w.digestSync().slice(0,16)},e.getPasswordAuthenticationKey=function(i,o,n,c,d){var w=this;if(n.mod(this.N).equals(Je.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(Je.ZERO))throw new Error("U cannot be zero.");var y=this.hash(""+this.poolName+i+":"+o),A=new Je(this.hexHash(this.padHex(c)+y),16);this.calculateS(A,n,function(D,G){D&&d(D,null);var L=w.computehkdf(He.lW.from(w.padHex(G),"hex"),He.lW.from(w.padHex(w.UValue),"hex"));d(null,L)})},e.calculateS=function(i,o,n){var c=this;this.g.modPow(i,this.N,function(d,w){d&&n(d,null),o.subtract(c.k.multiply(w)).modPow(c.smallAValue.add(c.UValue.multiply(i)),c.N,function(y,A){y&&n(y,null),n(null,A.mod(c.N))})})},e.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},e.padHex=function(i){if(!(i instanceof Je))throw new Error("Not a BigInteger");var o=i.compareTo(Je.ZERO)<0,n=i.abs().toString(16);if(n=ts.test(n=n.length%2!=0?"0"+n:n)?"00"+n:n,o){var c=n.split("").map(function(w){var u=15&~parseInt(w,16);return"0123456789ABCDEF".charAt(u)}).join("");(n=new Je(c,16).add(Je.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},r}(),Gi=function(){function r(t){this.jwtToken=t||"",this.payload=this.decodePayload()}var e=r.prototype;return e.getJwtToken=function(){return this.jwtToken},e.getExpiration=function(){return this.payload.exp},e.getIssuedAt=function(){return this.payload.iat},e.decodePayload=function(){var i=this.jwtToken.split(".")[1];try{return JSON.parse(He.lW.from(i,"base64").toString("utf8"))}catch{return{}}},r}();function ri(r,e){return(ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i})(r,e)}var ii=function(r){function e(t){return r.call(this,(void 0===t?{}:t).AccessToken||"")||this}return function is(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,ri(r,e)}(e,r),e}(Gi);function oi(r,e){return(oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i})(r,e)}var si=function(r){function e(t){return r.call(this,(void 0===t?{}:t).IdToken||"")||this}return function os(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,oi(r,e)}(e,r),e}(Gi),ai=function(){function r(t){this.token=(void 0===t?{}:t).RefreshToken||""}return r.prototype.getToken=function(){return this.token},r}(),Hi_userAgent="aws-amplify/5.0.4",Hi_isReactNative=typeof navigator<"u"&&"ReactNative"===navigator.product,ui=function(){function r(t){var i=void 0===t?{}:t,o=i.IdToken,n=i.RefreshToken,c=i.AccessToken,d=i.ClockDrift;if(null==c||null==o)throw new Error("Id token and Access Token must be present.");this.idToken=o,this.refreshToken=n,this.accessToken=c,this.clockDrift=void 0===d?this.calculateClockDrift():d}var e=r.prototype;return e.getIdToken=function(){return this.idToken},e.getRefreshToken=function(){return this.refreshToken},e.getAccessToken=function(){return this.accessToken},e.getClockDrift=function(){return this.clockDrift},e.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},e.isValid=function(){var o=Math.floor(new Date/1e3)-this.clockDrift;return o<this.accessToken.getExpiration()&&o<this.idToken.getExpiration()},r}(),cs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ls=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Wi=function(){function r(){}return r.prototype.getNowString=function(){var i=new Date,o=ls[i.getUTCDay()],n=cs[i.getUTCMonth()],c=i.getUTCDate(),d=i.getUTCHours();d<10&&(d="0"+d);var w=i.getUTCMinutes();w<10&&(w="0"+w);var u=i.getUTCSeconds();return u<10&&(u="0"+u),o+" "+n+" "+c+" "+d+":"+w+":"+u+" UTC "+i.getUTCFullYear()},r}(),cn=function(){function r(t){var i=void 0===t?{}:t,n=i.Value;this.Name=i.Name||"",this.Value=n||""}var e=r.prototype;return e.getValue=function(){return this.Value},e.setValue=function(i){return this.Value=i,this},e.getName=function(){return this.Name},e.setName=function(i){return this.Name=i,this},e.toString=function(){return JSON.stringify(this)},e.toJSON=function(){return{Name:this.Name,Value:this.Value}},r}(),Ht={},fs=function(){function r(){}return r.setItem=function(t,i){return Ht[t]=i,Ht[t]},r.getItem=function(t){return Object.prototype.hasOwnProperty.call(Ht,t)?Ht[t]:void 0},r.removeItem=function(t){return delete Ht[t]},r.clear=function(){return Ht={}},r}(),Ki=function(){function r(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=fs}}return r.prototype.getStorage=function(){return this.storageWindow},r}(),Yi=typeof navigator<"u"?Hi_isReactNative?"react-native":navigator.userAgent:"nodejs",ci=function(){function r(t){if(null==t||null==t.Username||null==t.Pool)throw new Error("Username and Pool information are required.");this.username=t.Username||"",this.pool=t.Pool,this.Session=null,this.client=t.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=t.Storage||(new Ki).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var e=r.prototype;return e.setSignInUserSession=function(i){this.clearCachedUserData(),this.signInUserSession=i,this.cacheTokens()},e.getSignInUserSession=function(){return this.signInUserSession},e.getUsername=function(){return this.username},e.getAuthenticationFlowType=function(){return this.authenticationFlowType},e.setAuthenticationFlowType=function(i){this.authenticationFlowType=i},e.initiateAuth=function(i,o){var n=this,c=i.getAuthParameters();c.USERNAME=this.username;var d=0!==Object.keys(i.getValidationData()).length?i.getValidationData():i.getClientMetadata(),w={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:c,ClientMetadata:d};this.getUserContextData()&&(w.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",w,function(u,y){if(u)return o.onFailure(u);var D=y.ChallengeParameters;return"CUSTOM_CHALLENGE"===y.ChallengeName?(n.Session=y.Session,o.customChallenge(D)):(n.signInUserSession=n.getCognitoUserSession(y.AuthenticationResult),n.cacheTokens(),o.onSuccess(n.signInUserSession))})},e.authenticateUser=function(i,o){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(i,o):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(i,o):o.onFailure(new Error("Authentication flow type is invalid."))},e.authenticateUserDefaultAuth=function(i,o){var w,u,n=this,c=new un(this.pool.getUserPoolName()),d=new Wi,y={};null!=this.deviceKey&&(y.DEVICE_KEY=this.deviceKey),y.USERNAME=this.username,c.getLargeAValue(function(A,D){A&&o.onFailure(A),y.SRP_A=D.toString(16),"CUSTOM_AUTH"===n.authenticationFlowType&&(y.CHALLENGE_NAME="SRP_A");var G=0!==Object.keys(i.getValidationData()).length?i.getValidationData():i.getClientMetadata(),L={AuthFlow:n.authenticationFlowType,ClientId:n.pool.getClientId(),AuthParameters:y,ClientMetadata:G};n.getUserContextData(n.username)&&(L.UserContextData=n.getUserContextData(n.username)),n.client.request("InitiateAuth",L,function(Q,se){if(Q)return o.onFailure(Q);var ae=se.ChallengeParameters;n.username=ae.USER_ID_FOR_SRP,n.userDataKey=n.keyPrefix+"."+n.username+".userData",w=new Je(ae.SRP_B,16),u=new Je(ae.SALT,16),n.getCachedDeviceKeyAndPassword(),c.getPasswordAuthenticationKey(n.username,i.getPassword(),w,u,function(de,Ce){de&&o.onFailure(de);var Te=d.getNowString(),ze=He.lW.concat([He.lW.from(n.pool.getUserPoolName(),"utf8"),He.lW.from(n.username,"utf8"),He.lW.from(ae.SECRET_BLOCK,"base64"),He.lW.from(Te,"utf8")]),qe=new on.Sha256(Ce);qe.update(ze);var We=qe.digestSync(),Xe=He.lW.from(We).toString("base64"),pt={};pt.USERNAME=n.username,pt.PASSWORD_CLAIM_SECRET_BLOCK=ae.SECRET_BLOCK,pt.TIMESTAMP=Te,pt.PASSWORD_CLAIM_SIGNATURE=Xe,null!=n.deviceKey&&(pt.DEVICE_KEY=n.deviceKey);var mr={ChallengeName:"PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:pt,Session:se.Session,ClientMetadata:G};n.getUserContextData()&&(mr.UserContextData=n.getUserContextData()),function vr(yr,Qi){return n.client.request("RespondToAuthChallenge",yr,function(_r,ea){return _r&&"ResourceNotFoundException"===_r.code&&-1!==_r.message.toLowerCase().indexOf("device")?(pt.DEVICE_KEY=null,n.deviceKey=null,n.randomPassword=null,n.deviceGroupKey=null,n.clearCachedDeviceKeyAndPassword(),vr(yr,Qi)):Qi(_r,ea)})}(mr,function(vr,yr){return vr?o.onFailure(vr):n.authenticateUserInternal(yr,c,o)})})})})},e.authenticateUserPlainUsernamePassword=function(i,o){var n=this,c={};if(c.USERNAME=this.username,c.PASSWORD=i.getPassword(),c.PASSWORD){var d=new un(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(c.DEVICE_KEY=this.deviceKey);var w=0!==Object.keys(i.getValidationData()).length?i.getValidationData():i.getClientMetadata(),u={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:c,ClientMetadata:w};this.getUserContextData(this.username)&&(u.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",u,function(y,A){return y?o.onFailure(y):n.authenticateUserInternal(A,d,o)})}else o.onFailure(new Error("PASSWORD parameter is required"))},e.authenticateUserInternal=function(i,o,n){var c=this,d=i.ChallengeName,w=i.ChallengeParameters;if("SMS_MFA"===d)return this.Session=i.Session,n.mfaRequired(d,w);if("SELECT_MFA_TYPE"===d)return this.Session=i.Session,n.selectMFAType(d,w);if("MFA_SETUP"===d)return this.Session=i.Session,n.mfaSetup(d,w);if("SOFTWARE_TOKEN_MFA"===d)return this.Session=i.Session,n.totpRequired(d,w);if("CUSTOM_CHALLENGE"===d)return this.Session=i.Session,n.customChallenge(w);if("NEW_PASSWORD_REQUIRED"===d){this.Session=i.Session;var u=null,y=null,A=[],D=o.getNewPasswordRequiredChallengeUserAttributePrefix();if(w&&(u=JSON.parse(i.ChallengeParameters.userAttributes),y=JSON.parse(i.ChallengeParameters.requiredAttributes)),y)for(var G=0;G<y.length;G++)A[G]=y[G].substr(D.length);return n.newPasswordRequired(u,A)}if("DEVICE_SRP_AUTH"===d)return this.Session=i.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(i.AuthenticationResult),this.challengeName=d,this.cacheTokens();var L=i.AuthenticationResult.NewDeviceMetadata;if(null==L)return n.onSuccess(this.signInUserSession);o.generateHashDevice(i.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(Q){if(Q)return n.onFailure(Q);var se={Salt:He.lW.from(o.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:He.lW.from(o.getVerifierDevices(),"hex").toString("base64")};c.verifierDevices=se.PasswordVerifier,c.deviceGroupKey=L.DeviceGroupKey,c.randomPassword=o.getRandomPassword(),c.client.request("ConfirmDevice",{DeviceKey:L.DeviceKey,AccessToken:c.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:se,DeviceName:Yi},function(ae,de){return ae?n.onFailure(ae):(c.deviceKey=i.AuthenticationResult.NewDeviceMetadata.DeviceKey,c.cacheDeviceKeyAndPassword(),!0===de.UserConfirmationNecessary?n.onSuccess(c.signInUserSession,de.UserConfirmationNecessary):n.onSuccess(c.signInUserSession))})})},e.completeNewPasswordChallenge=function(i,o,n,c){var d=this;if(!i)return n.onFailure(new Error("New password is required."));var w=new un(this.pool.getUserPoolName()),u=w.getNewPasswordRequiredChallengeUserAttributePrefix(),y={};o&&Object.keys(o).forEach(function(D){y[u+D]=o[D]}),y.NEW_PASSWORD=i,y.USERNAME=this.username;var A={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:y,Session:this.Session,ClientMetadata:c};this.getUserContextData()&&(A.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",A,function(D,G){return D?n.onFailure(D):d.authenticateUserInternal(G,w,n)})},e.getDeviceResponse=function(i,o){var n=this,c=new un(this.deviceGroupKey),d=new Wi,w={};w.USERNAME=this.username,w.DEVICE_KEY=this.deviceKey,c.getLargeAValue(function(u,y){u&&i.onFailure(u),w.SRP_A=y.toString(16);var A={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:w,ClientMetadata:o,Session:n.Session};n.getUserContextData()&&(A.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",A,function(D,G){if(D)return i.onFailure(D);var L=G.ChallengeParameters,Q=new Je(L.SRP_B,16),se=new Je(L.SALT,16);c.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,Q,se,function(ae,de){if(ae)return i.onFailure(ae);var Ce=d.getNowString(),Te=He.lW.concat([He.lW.from(n.deviceGroupKey,"utf8"),He.lW.from(n.deviceKey,"utf8"),He.lW.from(L.SECRET_BLOCK,"base64"),He.lW.from(Ce,"utf8")]),ze=new on.Sha256(de);ze.update(Te);var qe=ze.digestSync(),We=He.lW.from(qe).toString("base64"),Xe={};Xe.USERNAME=n.username,Xe.PASSWORD_CLAIM_SECRET_BLOCK=L.SECRET_BLOCK,Xe.TIMESTAMP=Ce,Xe.PASSWORD_CLAIM_SIGNATURE=We,Xe.DEVICE_KEY=n.deviceKey;var pt={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:Xe,Session:G.Session};n.getUserContextData()&&(pt.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",pt,function(gr,mr){return gr?i.onFailure(gr):(n.signInUserSession=n.getCognitoUserSession(mr.AuthenticationResult),n.cacheTokens(),i.onSuccess(n.signInUserSession))})})})})},e.confirmRegistration=function(i,o,n,c){var d={ClientId:this.pool.getClientId(),ConfirmationCode:i,Username:this.username,ForceAliasCreation:o,ClientMetadata:c};this.getUserContextData()&&(d.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",d,function(w){return w?n(w,null):n(null,"SUCCESS")})},e.sendCustomChallengeAnswer=function(i,o,n){var c=this,d={};d.USERNAME=this.username,d.ANSWER=i;var w=new un(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(d.DEVICE_KEY=this.deviceKey);var u={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:d,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(y,A){return y?o.onFailure(y):c.authenticateUserInternal(A,w,o)})},e.sendMFACode=function(i,o,n,c){var d=this,w={};w.USERNAME=this.username,w.SMS_MFA_CODE=i;var u=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===u&&(w.SOFTWARE_TOKEN_MFA_CODE=i),null!=this.deviceKey&&(w.DEVICE_KEY=this.deviceKey);var y={ChallengeName:u,ChallengeResponses:w,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:c};this.getUserContextData()&&(y.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",y,function(A,D){if(A)return o.onFailure(A);if("DEVICE_SRP_AUTH"!==D.ChallengeName){if(d.signInUserSession=d.getCognitoUserSession(D.AuthenticationResult),d.cacheTokens(),null==D.AuthenticationResult.NewDeviceMetadata)return o.onSuccess(d.signInUserSession);var L=new un(d.pool.getUserPoolName());L.generateHashDevice(D.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,D.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(Q){if(Q)return o.onFailure(Q);var se={Salt:He.lW.from(L.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:He.lW.from(L.getVerifierDevices(),"hex").toString("base64")};d.verifierDevices=se.PasswordVerifier,d.deviceGroupKey=D.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,d.randomPassword=L.getRandomPassword(),d.client.request("ConfirmDevice",{DeviceKey:D.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:d.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:se,DeviceName:Yi},function(ae,de){return ae?o.onFailure(ae):(d.deviceKey=D.AuthenticationResult.NewDeviceMetadata.DeviceKey,d.cacheDeviceKeyAndPassword(),!0===de.UserConfirmationNecessary?o.onSuccess(d.signInUserSession,de.UserConfirmationNecessary):o.onSuccess(d.signInUserSession))})})}else d.getDeviceResponse(o)})},e.changePassword=function(i,o,n,c){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:i,ProposedPassword:o,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:c},function(d){return d?n(d,null):n(null,"SUCCESS")})},e.enableMFA=function(i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);var o=[];o.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:o,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(c){return c?i(c,null):i(null,"SUCCESS")})},e.setUserMfaPreference=function(i,o,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:i,SoftwareTokenMfaSettings:o,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(c){return c?n(c,null):n(null,"SUCCESS")})},e.disableMFA=function(i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(n){return n?i(n,null):i(null,"SUCCESS")})},e.deleteUser=function(i,o){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:o},function(c){return c?i(c,null):(n.clearCachedUser(),i(null,"SUCCESS"))})},e.updateAttributes=function(i,o,n){var c=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return o(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:i,ClientMetadata:n},function(d,w){return d?o(d,null):c.getUserData(function(){return o(null,"SUCCESS",w)},{bypassCache:!0})})},e.getUserAttributes=function(i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o,n){if(o)return i(o,null);for(var c=[],d=0;d<n.UserAttributes.length;d++){var u=new cn({Name:n.UserAttributes[d].Name,Value:n.UserAttributes[d].Value});c.push(u)}return i(null,c)})},e.getMFAOptions=function(i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o,n){return o?i(o,null):i(null,n.MFAOptions)})},e.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},e.refreshSessionIfPossible=function(i){var o=this;return void 0===i&&(i={}),new Promise(function(n){var c=o.signInUserSession.getRefreshToken();c&&c.getToken()?o.refreshSession(c,n,i.clientMetadata):n()})},e.getUserData=function(i,o){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),i(new Error("User is not authenticated"),null);var c=this.getUserDataFromCache();if(c)if(this.isFetchUserDataAndTokenRequired(o))this.fetchUserData().then(function(d){return n.refreshSessionIfPossible(o).then(function(){return d})}).then(function(d){return i(null,d)}).catch(i);else try{return void i(null,JSON.parse(c))}catch(d){return this.clearCachedUserData(),void i(d,null)}else this.fetchUserData().then(function(d){i(null,d)}).catch(i)},e.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},e.isFetchUserDataAndTokenRequired=function(i){var n=(i||{}).bypassCache;return void 0!==n&&n},e.fetchUserData=function(){var i=this;return this.createGetUserRequest().then(function(o){return i.cacheUserData(o),o})},e.deleteAttributes=function(i,o){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return o(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(c){return c?o(c,null):n.getUserData(function(){return o(null,"SUCCESS")},{bypassCache:!0})})},e.resendConfirmationCode=function(i,o){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:o};this.client.request("ResendConfirmationCode",n,function(c,d){return c?i(c,null):i(null,d)})},e.getSession=function(i,o){if(void 0===o&&(o={}),null==this.username)return i(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return i(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,c=n+".idToken",d=n+".accessToken",w=n+".refreshToken",u=n+".clockDrift";if(this.storage.getItem(c)){var y=new si({IdToken:this.storage.getItem(c)}),A=new ii({AccessToken:this.storage.getItem(d)}),D=new ai({RefreshToken:this.storage.getItem(w)}),G=parseInt(this.storage.getItem(u),0)||0,Q=new ui({IdToken:y,AccessToken:A,RefreshToken:D,ClockDrift:G});if(Q.isValid())return this.signInUserSession=Q,i(null,this.signInUserSession);if(!D.getToken())return i(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(D,i,o.clientMetadata)}else i(new Error("Local storage is missing an ID Token, Please authenticate"),null)},e.refreshSession=function(i,o,n){var c=this,d=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(o):o,w={};w.REFRESH_TOKEN=i.getToken();var u="CognitoIdentityServiceProvider."+this.pool.getClientId(),y=u+".LastAuthUser";this.storage.getItem(y)&&(this.username=this.storage.getItem(y),this.deviceKey=this.storage.getItem(u+"."+this.username+".deviceKey"),w.DEVICE_KEY=this.deviceKey);var D={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:w,ClientMetadata:n};this.getUserContextData()&&(D.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",D,function(G,L){if(G)return"NotAuthorizedException"===G.code&&c.clearCachedUser(),d(G,null);if(L){var Q=L.AuthenticationResult;return Object.prototype.hasOwnProperty.call(Q,"RefreshToken")||(Q.RefreshToken=i.getToken()),c.signInUserSession=c.getCognitoUserSession(Q),c.cacheTokens(),d(null,c.signInUserSession)}})},e.cacheTokens=function(){var i="CognitoIdentityServiceProvider."+this.pool.getClientId(),n=i+"."+this.username+".accessToken",c=i+"."+this.username+".refreshToken",d=i+"."+this.username+".clockDrift",w=i+".LastAuthUser";this.storage.setItem(i+"."+this.username+".idToken",this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(c,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(d,""+this.signInUserSession.getClockDrift()),this.storage.setItem(w,this.username)},e.cacheUserData=function(i){this.storage.setItem(this.userDataKey,JSON.stringify(i))},e.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},e.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},e.cacheDeviceKeyAndPassword=function(){var i="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,n=i+".randomPasswordKey",c=i+".deviceGroupKey";this.storage.setItem(i+".deviceKey",this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(c,this.deviceGroupKey)},e.getCachedDeviceKeyAndPassword=function(){var i="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,o=i+".deviceKey",n=i+".randomPasswordKey",c=i+".deviceGroupKey";this.storage.getItem(o)&&(this.deviceKey=this.storage.getItem(o),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(c))},e.clearCachedDeviceKeyAndPassword=function(){var i="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,n=i+".randomPasswordKey",c=i+".deviceGroupKey";this.storage.removeItem(i+".deviceKey"),this.storage.removeItem(n),this.storage.removeItem(c)},e.clearCachedTokens=function(){var i="CognitoIdentityServiceProvider."+this.pool.getClientId(),n=i+"."+this.username+".accessToken",c=i+"."+this.username+".refreshToken",d=i+".LastAuthUser",w=i+"."+this.username+".clockDrift";this.storage.removeItem(i+"."+this.username+".idToken"),this.storage.removeItem(n),this.storage.removeItem(c),this.storage.removeItem(d),this.storage.removeItem(w)},e.getCognitoUserSession=function(i){var o=new si(i),n=new ii(i),c=new ai(i);return new ui({IdToken:o,AccessToken:n,RefreshToken:c})},e.forgotPassword=function(i,o){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:o};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,function(c,d){return c?i.onFailure(c):"function"==typeof i.inputVerificationCode?i.inputVerificationCode(d):i.onSuccess(d)})},e.confirmPassword=function(i,o,n,c){var d={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:i,Password:o,ClientMetadata:c};this.getUserContextData()&&(d.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",d,function(w){return w?n.onFailure(w):n.onSuccess("SUCCESS")})},e.getAttributeVerificationCode=function(i,o,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},function(c,d){return c?o.onFailure(c):"function"==typeof o.inputVerificationCode?o.inputVerificationCode(d):o.onSuccess("SUCCESS")})},e.verifyAttribute=function(i,o,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:i,Code:o,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(c){return c?n.onFailure(c):n.onSuccess("SUCCESS")})},e.getDevice=function(i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(o,n){return o?i.onFailure(o):i.onSuccess(n)})},e.forgetSpecificDevice=function(i,o){if(null==this.signInUserSession||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:i},function(n){return n?o.onFailure(n):o.onSuccess("SUCCESS")})},e.forgetDevice=function(i){var o=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:i.onFailure,onSuccess:function(c){return o.deviceKey=null,o.deviceGroupKey=null,o.randomPassword=null,o.clearCachedDeviceKeyAndPassword(),i.onSuccess(c)}})},e.setDeviceStatusRemembered=function(i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(o){return o?i.onFailure(o):i.onSuccess("SUCCESS")})},e.setDeviceStatusNotRemembered=function(i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(o){return o?i.onFailure(o):i.onSuccess("SUCCESS")})},e.listDevices=function(i,o,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var c={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:i};o&&(c.PaginationToken=o),this.client.request("ListDevices",c,function(d,w){return d?n.onFailure(d):n.onSuccess(w)})},e.globalSignOut=function(i){var o=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(n){return n?i.onFailure(n):(o.clearCachedUser(),i.onSuccess("SUCCESS"))})},e.signOut=function(i){var o=this;i&&"function"==typeof i?this.getSession(function(n,c){if(n)return i(n);o.revokeTokens(function(d){o.cleanClientData(),i(d)})}):this.cleanClientData()},e.revokeTokens=function(i){if(void 0===i&&(i=function(){}),"function"!=typeof i)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return i(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return i(new Error("No Access token available"));var d=this.signInUserSession.getRefreshToken().getToken(),w=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(w)&&d)return this.revokeToken({token:d,callback:i});i()},e.isSessionRevocable=function(i){if(i&&"function"==typeof i.decodePayload)try{return!!i.decodePayload().origin_jti}catch{}return!1},e.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},e.revokeToken=function(i){var n=i.callback;this.client.requestWithRetry("RevokeToken",{Token:i.token,ClientId:this.pool.getClientId()},function(c){if(c)return n(c);n()})},e.sendMFASelectionAnswer=function(i,o){var n=this,c={};c.USERNAME=this.username,c.ANSWER=i;var d={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:c,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(d.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",d,function(w,u){return w?o.onFailure(w):(n.Session=u.Session,"SMS_MFA"===i?o.mfaRequired(u.ChallengeName,u.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===i?o.totpRequired(u.ChallengeName,u.ChallengeParameters):void 0)})},e.getUserContextData=function(){return this.pool.getUserContextData(this.username)},e.associateSoftwareToken=function(i){var o=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(n,c){return n?i.onFailure(n):i.associateSecretCode(c.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(n,c){return n?i.onFailure(n):(o.Session=c.Session,i.associateSecretCode(c.SecretCode))})},e.verifySoftwareToken=function(i,o,n){var c=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:i,FriendlyDeviceName:o},function(d,w){return d?n.onFailure(d):n.onSuccess(w)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:i,FriendlyDeviceName:o},function(d,w){if(d)return n.onFailure(d);c.Session=w.Session;var u={};u.USERNAME=c.username;var y={ChallengeName:"MFA_SETUP",ClientId:c.pool.getClientId(),ChallengeResponses:u,Session:c.Session};c.getUserContextData()&&(y.UserContextData=c.getUserContextData()),c.client.request("RespondToAuthChallenge",y,function(A,D){return A?n.onFailure(A):(c.signInUserSession=c.getCognitoUserSession(D.AuthenticationResult),c.cacheTokens(),n.onSuccess(c.signInUserSession))})})},r}();function ot(){}ot.prototype.userAgent=Hi_userAgent;var zi=function(e){ot.framework=e};function li(r){var e="function"==typeof Map?new Map:void 0;return li=function(i){if(null===i||!function ys(r){return-1!==Function.toString.call(r).indexOf("[native code]")}(i))return i;if("function"!=typeof i)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,o)}function o(){return hr(i,arguments,fi(this).constructor)}return o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Pn(o,i)},li(r)}function hr(r,e,t){return(hr=function vs(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct.bind():function(o,n,c){var d=[null];d.push.apply(d,n);var u=new(Function.bind.apply(o,d));return c&&Pn(u,c.prototype),u}).apply(null,arguments)}function Pn(r,e){return(Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i})(r,e)}function fi(r){return(fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(r)}var _s=function(r){function e(t,i,o,n){var c;return(c=r.call(this,t)||this).code=i,c.name=o,c.statusCode=n,c}return function ms(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Pn(r,e)}(e,r),e}(li(Error)),ws=function(){function r(t,i,o){this.endpoint=i||"https://cognito-idp."+t+".amazonaws.com/";var c=(o||{}).credentials;this.fetchOptions=c?{credentials:c}:{}}var e=r.prototype;return e.promisifyRequest=function(i,o){var n=this;return new Promise(function(c,d){n.request(i,o,function(w,u){w?d(new _s(w.message,w.code,w.name,w.statusCode)):c(u)})})},e.requestWithRetry=function(i,o,n){var c=this;(function As(r,e,t){return void 0===t&&(t=bs),qi(r,e,function Ss(r){return function(i){var o=100*Math.pow(2,i)+100*Math.random();return!(o>r)&&o}}(t))})(function(w){return new Promise(function(u,y){c.request(i,w,function(A,D){A?y(A):u(D)})})},[o],5e3).then(function(w){return n(null,w)}).catch(function(w){return n(w)})},e.request=function(i,o,n){var w,d=Object.assign({},this.fetchOptions,{headers:{"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+i,"X-Amz-User-Agent":ot.prototype.userAgent+(ot.category?" "+ot.category:"")+(ot.framework?" framework/"+ot.framework:""),"Cache-Control":"no-store"},method:"POST",mode:"cors",body:JSON.stringify(o)});fetch(this.endpoint,d).then(function(y){return w=y,y},function(y){throw y instanceof TypeError?new Error("Network error"):y}).then(function(y){return y.json().catch(function(){return{}})}).then(function(y){if(w.ok)return n(null,y);var A=(y.__type||y.code).split("#").pop(),D=new Error(y.message||y.Message||null);return D.name=A,D.code=A,n(D)}).catch(function(y){if(w&&w.headers&&w.headers.get("x-amzn-errortype"))try{var A=w.headers.get("x-amzn-errortype").split(":")[0],D=new Error(w.status?w.status.toString():null);return D.code=A,D.name=A,D.statusCode=w.status,n(D)}catch{return n(y)}else y instanceof Error&&"Network error"===y.message&&(y.code="NetworkError");return n(y)})},r}(),dr={debug:function(){}},Cs=function(e){return e&&e.nonRetryable};function qi(r,e,t,i){if(void 0===i&&(i=1),"function"!=typeof r)throw Error("functionToRetry must be a function");return dr.debug(r.name+" attempt #"+i+" with args: "+JSON.stringify(e)),r.apply(void 0,e).catch(function(o){if(dr.debug("error on "+r.name,o),Cs(o))throw dr.debug(r.name+" non retryable error",o),o;var n=t(i,e,o);if(dr.debug(r.name+" retrying in "+n+" ms"),!1!==n)return new Promise(function(c){return setTimeout(c,n)}).then(function(){return qi(r,e,t,i+1)});throw o})}var bs=3e5,xs=function(){function r(t,i){var o=t||{},n=o.UserPoolId,c=o.ClientId,d=o.endpoint,w=o.fetchOptions,u=o.AdvancedSecurityDataCollectionFlag;if(!n||!c)throw new Error("Both UserPoolId and ClientId are required.");if(n.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(n))throw new Error("Invalid UserPoolId format.");var y=n.split("_")[0];this.userPoolId=n,this.clientId=c,this.client=new ws(y,d,w),this.advancedSecurityDataCollectionFlag=!1!==u,this.storage=t.Storage||(new Ki).getStorage(),i&&(this.wrapRefreshSessionCallback=i)}var e=r.prototype;return e.getUserPoolId=function(){return this.userPoolId},e.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},e.getClientId=function(){return this.clientId},e.signUp=function(i,o,n,c,d,w){var u=this,y={ClientId:this.clientId,Username:i,Password:o,UserAttributes:n,ValidationData:c,ClientMetadata:w};this.getUserContextData(i)&&(y.UserContextData=this.getUserContextData(i)),this.client.request("SignUp",y,function(A,D){if(A)return d(A,null);var L={user:new ci({Username:i,Pool:u,Storage:u.storage}),userConfirmed:D.UserConfirmed,userSub:D.UserSub,codeDeliveryDetails:D.CodeDeliveryDetails};return d(null,L)})},e.getCurrentUser=function(){var o=this.storage.getItem("CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser");return o?new ci({Username:o,Pool:this,Storage:this.storage}):null},e.getUserContextData=function(i){if(!(typeof AmazonCognitoAdvancedSecurityData>"u")){var o=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=o.getData(i,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},r}(),Dn=S(1148),Is=function(){function r(t){if(void 0===t&&(t={}),t.domain&&(this.domain=t.domain),this.path=t.path?t.path:"/",this.expires=Object.prototype.hasOwnProperty.call(t,"expires")?t.expires:365,this.secure=!Object.prototype.hasOwnProperty.call(t,"secure")||t.secure,Object.prototype.hasOwnProperty.call(t,"sameSite")){if(!["strict","lax","none"].includes(t.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===t.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=t.sameSite}else this.sameSite=null}var e=r.prototype;return e.setItem=function(i,o){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),Dn.set(i,o,n),Dn.get(i)},e.getItem=function(i){return Dn.get(i)},e.removeItem=function(i){var o={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(o.sameSite=this.sameSite),Dn.remove(i,o)},e.clear=function(){for(var i=Dn.get(),o=Object.keys(i).length,n=0;n<o;++n)this.removeItem(Object.keys(i)[n]);return{}},r}(),Ot=S(2445),Us=function(r){var e=window.open(r,"_self");return e?Promise.resolve(e):Promise.reject()},Fs=S(1264),Ns=(typeof Symbol<"u"&&"function"==typeof Symbol.for&&Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"),typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default"),hi=function(r,e,t){je.dispatch("auth",{event:r,data:e,message:t},"Auth",Ns)},ln=new Pe("OAuth"),Vs=function(){function r(e){var t=e.config,i=e.cognitoClientId,o=e.scopes,n=void 0===o?[]:o;if(this._urlOpener=t.urlOpener||Us,this._config=t,this._cognitoClientId=i,!this.isValidScopes(n))throw Error("scopes must be a String Array");this._scopes=n}return r.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every(function(t){return"string"==typeof t})},r.prototype.oauthSignIn=function(e,t,i,o,n,c){void 0===e&&(e="code"),void 0===n&&(n=B.Cognito);var d=this._generateState(32),w=c?d+"-"+function ho(r){return r.split("").map(function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")}).join("")}(c):d;!function(r){window.sessionStorage.setItem("oauth_state",r)}(w);var u=this._generateRandom(128);!function(r){window.sessionStorage.setItem("ouath_pkce_key",r)}(u);var y=this._generateChallenge(u),D=this._scopes.join(" "),L="https://"+t+"/oauth2/authorize?"+Object.entries(k(k({redirect_uri:i,response_type:e,client_id:o,identity_provider:n,scope:D,state:w},"code"===e?{code_challenge:y}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map(function(Q){var se=Y(Q,2),de=se[1];return encodeURIComponent(se[0])+"="+encodeURIComponent(de)}).join("&");ln.debug("Redirecting to "+L),this._urlOpener(L,i)},r.prototype._handleCodeFlow=function(e){return v(this,void 0,void 0,function(){var t,i,o,n,c,d,w,u,y,D,G,L,Q,se,ae;return U(this,function(de){switch(de.label){case 0:return t=((0,Ot.Qc)(e).query||"").split("&").map(function(Ce){return Ce.split("=")}).reduce(function(Ce,Te){var ze,qe=Y(Te,2),We=qe[0],Xe=qe[1];return k(k({},Ce),((ze={})[We]=Xe,ze))},{code:void 0}).code,i=(0,Ot.Qc)(e).pathname||"/",o=(0,Ot.Qc)(this._config.redirectSignIn).pathname||"/",t&&i===o?(hi("codeFlow",{},"Retrieving tokens from "+(n="https://"+this._config.domain+"/oauth2/token")),c=F(this._config)?this._cognitoClientId:this._config.clientID,d=F(this._config)?this._config.redirectSignIn:this._config.redirectUri,w=function(){var r=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),r}(),u=k({grant_type:"authorization_code",code:t,client_id:c,redirect_uri:d},w?{code_verifier:w}:{}),ln.debug("Calling token endpoint: "+n+" with",u),y=Object.entries(u).map(function(Ce){var Te=Y(Ce,2),qe=Te[1];return encodeURIComponent(Te[0])+"="+encodeURIComponent(qe)}).join("&"),[4,fetch(n,{method:"POST",headers:(ae={"Content-Type":"application/x-www-form-urlencoded"},ae["x-amz-user-agent"]=rr({category:Bn.Auth,action:Rr.FederatedSignIn}),ae),body:y})]):[2];case 1:return[4,de.sent().json()];case 2:if(D=de.sent(),G=D.access_token,L=D.refresh_token,Q=D.id_token,se=D.error)throw new Error(se);return[2,{accessToken:G,refreshToken:L,idToken:Q}]}})})},r.prototype._handleImplicitFlow=function(e){return v(this,void 0,void 0,function(){var t,i,o;return U(this,function(n){return t=((0,Ot.Qc)(e).hash||"#").substr(1).split("&").map(function(c){return c.split("=")}).reduce(function(c,d){var w,u=Y(d,2),y=u[0],A=u[1];return k(k({},c),((w={})[y]=A,w))},{id_token:void 0,access_token:void 0}),i=t.id_token,o=t.access_token,hi("implicitFlow",{},"Got tokens from "+e),ln.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:o,idToken:i,refreshToken:null}]})})},r.prototype.handleAuthResponse=function(e){return v(this,void 0,void 0,function(){var t,o,n,c,d,w;return U(this,function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?k(k({},((0,Ot.Qc)(e).hash||"#").substr(1).split("&").map(function(y){return y.split("=")}).reduce(function(y,A){var D=Y(A,2);return y[D[0]]=D[1],y},{})),((0,Ot.Qc)(e).query||"").split("&").map(function(y){return y.split("=")}).reduce(function(y,A){var D=Y(A,2);return y[D[0]]=D[1],y},{})):{},o=t.error_description,t.error)throw new Error(o);return n=this._validateState(t),ln.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(c=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,k.apply(void 0,[k.apply(void 0,c.concat([u.sent()])),{state:n}])];case 2:return d=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,k.apply(void 0,[k.apply(void 0,d.concat([u.sent()])),{state:n}])];case 4:return[3,6];case 5:throw w=u.sent(),ln.debug("Error handling auth response.",w),w;case 6:return[2]}})})},r.prototype._validateState=function(e){if(e){var t=function(){var r=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),r}(),i=e.state;if(t&&t!==i)throw new Error("Invalid state in OAuth flow");return i}},r.prototype.signOut=function(){return v(this,void 0,void 0,function(){var e,t,i;return U(this,function(o){return e="https://"+this._config.domain+"/logout?",t=F(this._config)?this._cognitoClientId:this._config.oauth.clientID,i=F(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(i)}).map(function(n){var c=Y(n,2);return c[0]+"="+c[1]}).join("&"),hi("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),ln.debug("Signing out from "+e),[2,this._urlOpener(e,i)]})})},r.prototype._generateState=function(e){for(var t="",i=e;i>0;--i)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.round(61*Math.random())];return t},r.prototype._generateChallenge=function(e){var t=new on.Sha256;t.update(e);var i=t.digestSync(),o=Fs.lW.from(i).toString("base64");return this._base64URL(o)},r.prototype._base64URL=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},r.prototype._generateRandom=function(e){var i=new Uint8Array(e);if(typeof window<"u"&&window.crypto)window.crypto.getRandomValues(i);else for(var o=0;o<e;o+=1)i[o]=66*Math.random()|0;return this._bufferToString(i)},r.prototype._bufferToString=function(e){for(var i=[],o=0;o<e.byteLength;o+=1)i.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[e[o]%62]);return i.join("")},r}();const Bs=Vs;var nt=function(r){return r.DEFAULT_MSG="Authentication Error",r.EMPTY_EMAIL="Email cannot be empty",r.EMPTY_PHONE="Phone number cannot be empty",r.EMPTY_USERNAME="Username cannot be empty",r.INVALID_USERNAME="The username should either be a string or one of the sign in types",r.EMPTY_PASSWORD="Password cannot be empty",r.EMPTY_CODE="Confirmation code cannot be empty",r.SIGN_UP_ERROR="Error creating account",r.NO_MFA="No valid MFA method provided",r.INVALID_MFA="Invalid MFA type",r.EMPTY_CHALLENGE="Challenge response cannot be empty",r.NO_USER_SESSION="Failed to get the session because the user is empty",r.NETWORK_ERROR="Network Error",r.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",r.AUTOSIGNIN_ERROR="Please use your credentials to sign in",r}(nt||{}),js=new Pe("AuthError"),Ft=function(r){function e(t){var i=this,o=Hs[t],n=o.message,c=o.log;return(i=r.call(this,n)||this).constructor=e,Object.setPrototypeOf(i,e.prototype),i.name="AuthError",i.log=c||n,js.error(i.log),i}return H(e,r),e}(Error),Gs=function(r){function e(t){var i=r.call(this,t)||this;return i.constructor=e,Object.setPrototypeOf(i,e.prototype),i.name="NoUserPoolError",i}return H(e,r),e}(Ft),Hs={noConfig:{message:nt.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:nt.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:nt.EMPTY_USERNAME},invalidUsername:{message:nt.INVALID_USERNAME},emptyPassword:{message:nt.EMPTY_PASSWORD},emptyCode:{message:nt.EMPTY_CODE},signUpError:{message:nt.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:nt.NO_MFA},invalidMFA:{message:nt.INVALID_MFA},emptyChallengeResponse:{message:nt.EMPTY_CHALLENGE},noUserSession:{message:nt.NO_USER_SESSION},deviceConfig:{message:nt.DEVICE_CONFIG},networkError:{message:nt.NETWORK_ERROR},autoSignInError:{message:nt.AUTOSIGNIN_ERROR},default:{message:nt.DEFAULT_MSG}},ee=new Pe("AuthClass"),Ji="aws.cognito.signin.user.admin",Ks=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",ke=function(r,e,t){je.dispatch("auth",{event:r,data:e,message:t},"Auth",Ks)},qs=function(){function r(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=Ri,this.wrapRefreshSessionCallback=function(i){return function(n,c){return c?ke("tokenRefresh",void 0,"New token retrieved"):ke("tokenRefresh_failure",n,"Failed to retrieve new token"),i(n,c)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),je.listen("auth",function(i){switch(i.payload.event){case"verify":case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}),ot.category="auth",zi(Tn.framework),Tn.observeFrameworkChanges(function(){zi(Tn.framework)})}return r.prototype.getModuleName=function(){return"Auth"},r.prototype.configure=function(e){var t=this;if(!e)return this._config||{};ee.debug("configure Auth");var i=Object.assign({},this._config,Fi(e).Auth,e);this._config=i;var o=this._config,n=o.userPoolId,c=o.userPoolWebClientId,d=o.cookieStorage,w=o.oauth,u=o.region,y=o.identityPoolId,A=o.mandatorySignIn,D=o.refreshHandlers,G=o.identityPoolRegion,L=o.clientMetadata,Q=o.endpoint,se=o.storage;if(se){if(!this._isValidAuthStorage(se))throw ee.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=se}else this._storage=d?new Is(d):e.ssr?new fo:(new s).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),n){var ae={UserPoolId:n,ClientId:c,endpoint:Q};ae.Storage=this._storage,this.userPool=new xs(ae,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:A,region:u,userPoolId:n,identityPoolId:y,refreshHandlers:D,storage:this._storage,identityPoolRegion:G});var de=w?F(this._config.oauth)?w:w.awsCognito:void 0;if(de){var Ce=Object.assign({cognitoClientId:c,UserPoolId:n,domain:de.domain,scopes:de.scope,redirectSignIn:de.redirectSignIn,redirectSignOut:de.redirectSignOut,responseType:de.responseType,Storage:this._storage,urlOpener:de.urlOpener,clientMetadata:L},de.options);this._oAuthHandler=new Bs({scopes:Ce.scopes,config:Ce,cognitoClientId:Ce.cognitoClientId});var Te={};!function(r){if(ye().isBrowser&&window.location)qe={url:window.location.href},Te[We=qe.url]||(Te[We]=!0,t._handleAuthResponse(We));else if(!ye().isNode)throw new Error("Not supported");var qe,We}()}return ke("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&(ke("autoSignIn_failure",null,M.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},r.prototype.signUp=function(e){for(var t=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var n,c,d;if(!this.userPool)return this.rejectNoUserPool();var D,w=null,u=null,y=[],A=null,G={enabled:!1},L={},Q={};if(e&&"string"==typeof e){w=e,u=i?i[0]:null;var se=i?i[1]:null,ae=i?i[2]:null;se&&y.push(new cn({Name:"email",Value:se})),ae&&y.push(new cn({Name:"phone_number",Value:ae}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(M.SignUpError);w=e.username,u=e.password,e&&e.clientMetadata?D=e.clientMetadata:this._config.clientMetadata&&(D=this._config.clientMetadata);var de=e.attributes;de&&Object.keys(de).map(function(Te){y.push(new cn({Name:Te,Value:de[Te]}))});var Ce=e.validationData;Ce&&(A=[],Object.keys(Ce).map(function(Te){A.push(new cn({Name:Te,Value:Ce[Te]}))})),(G=null!==(n=e.autoSignIn)&&void 0!==n?n:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),L=null!==(c=G.validationData)&&void 0!==c?c:{},Q=null!==(d=G.clientMetaData)&&void 0!==d?d:{})}return w?u?(ee.debug("signUp attrs:",y),ee.debug("signUp validation data:",A),new Promise(function(Te,ze){t.userPool.signUp(w,u,y,A,function(qe,We){qe?(ke("signUp_failure",qe,w+" failed to signup"),ze(qe)):(ke("signUp",We,w+" has signed up successfully"),G.enabled&&t.handleAutoSignIn(w,u,L,Q,We),Te(We))},D)})):this.rejectAuthError(M.EmptyPassword):this.rejectAuthError(M.EmptyUsername)},r.prototype.handleAutoSignIn=function(e,t,i,o,n){this.autoSignInInitiated=!0;var c=new Vi({Username:e,Password:t,ValidationData:i,ClientMetadata:o});n.userConfirmed?this.signInAfterUserConfirmed(c):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(c):this.handleCodeAutoSignIn(c)},r.prototype.handleCodeAutoSignIn=function(e){var t=this,i=function(o){"confirmSignUp"===o.payload.event&&t.signInAfterUserConfirmed(e,i)};je.listen("auth",i)},r.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var i=Date.now(),o=setInterval(function(){Date.now()-i>18e4?(clearInterval(o),ke("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,o)},5e3)},r.prototype.signInAfterUserConfirmed=function(e,t,i){return v(this,void 0,void 0,function(){var o,n,c=this;return U(this,function(d){switch(d.label){case 0:o=this.createCognitoUser(e.getUsername()),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,o.authenticateUser(e,this.authCallbacks(o,function(w){ke("autoSignIn",w,e.getUsername()+" has signed in successfully"),t&&je.remove("auth",t),i&&(clearInterval(i),c._storage.removeItem("amplify-polling-started")),c._storage.removeItem("amplify-auto-sign-in")},function(w){ee.error(w),c._storage.removeItem("amplify-auto-sign-in")}))];case 2:return d.sent(),[3,4];case 3:return n=d.sent(),ee.error(n),[3,4];case 4:return[2]}})})},r.prototype.confirmSignUp=function(e,t,i){var o=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(M.EmptyUsername);if(!t)return this.rejectAuthError(M.EmptyCode);var d,n=this.createCognitoUser(e),c=!i||"boolean"!=typeof i.forceAliasCreation||i.forceAliasCreation;return i&&i.clientMetadata?d=i.clientMetadata:this._config.clientMetadata&&(d=this._config.clientMetadata),new Promise(function(w,u){n.confirmRegistration(t,c,function(y,A){y?u(y):(ke("confirmSignUp",A,e+" has been confirmed successfully"),o.isTrueStorageValue("amplify-auto-sign-in")&&!o.autoSignInInitiated&&(ke("autoSignIn_failure",null,M.AutoSignInError),o._storage.removeItem("amplify-auto-sign-in")),w(A))},d)})},r.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},r.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(M.EmptyUsername);var i=this.createCognitoUser(e);return new Promise(function(o,n){i.resendConfirmationCode(function(c,d){c?n(c):o(d)},t)})},r.prototype.signIn=function(e,t,i){if(void 0===i&&(i=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var o=null,n=null,c={};if("string"==typeof e)o=e,n=t;else{if(!function O(r){return!!r.username}(e))return this.rejectAuthError(M.InvalidUsername);typeof t<"u"&&ee.warn("The password should be defined under the first parameter object!"),o=e.username,n=e.password,c=e.validationData}if(!o)return this.rejectAuthError(M.EmptyUsername);var d=new Vi({Username:o,Password:n,ValidationData:c,ClientMetadata:i});return n?this.signInWithPassword(d):this.signInWithoutPassword(d)},r.prototype.authCallbacks=function(e,t,i){var o=this,n=this;return{onSuccess:function(c){return v(o,void 0,void 0,function(){var d,w,u,y;return U(this,function(A){switch(A.label){case 0:ee.debug(c),delete e.challengeName,delete e.challengeParam,A.label=1;case 1:return A.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return A.sent(),[4,this.Credentials.set(c,"session")];case 3:return d=A.sent(),ee.debug("succeed to get cognito credentials",d),[3,9];case 4:return w=A.sent(),ee.debug("cannot get cognito credentials",w),[3,9];case 5:return A.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return u=A.sent(),n.user=u,ke("signIn",u,"A user "+e.getUsername()+" has been signed in"),t(u),[3,8];case 7:return y=A.sent(),ee.error("Failed to get the signed in user",y),i(y),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(c){ee.debug("signIn failure",c),ke("signIn_failure",c,e.getUsername()+" failed to signin"),i(c)},customChallenge:function(c){ee.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=c,t(e)},mfaRequired:function(c,d){ee.debug("signIn MFA required"),e.challengeName=c,e.challengeParam=d,t(e)},mfaSetup:function(c,d){ee.debug("signIn mfa setup",c),e.challengeName=c,e.challengeParam=d,t(e)},newPasswordRequired:function(c,d){ee.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:c,requiredAttributes:d},t(e)},totpRequired:function(c,d){ee.debug("signIn totpRequired"),e.challengeName=c,e.challengeParam=d,t(e)},selectMFAType:function(c,d){ee.debug("signIn selectMFAType",c),e.challengeName=c,e.challengeParam=d,t(e)}}},r.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var i=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise(function(o,n){i.authenticateUser(e,t.authCallbacks(i,function(c){t.pendingSignIn=null,o(c)},function(c){t.pendingSignIn=null,n(c)}))}),this.pendingSignIn},r.prototype.signInWithoutPassword=function(e){var t=this,i=this.createCognitoUser(e.getUsername());return i.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(o,n){i.initiateAuth(e,t.authCallbacks(i,o,n))})},r.prototype.getMFAOptions=function(e){return new Promise(function(t,i){e.getMFAOptions(function(o,n){if(o)return ee.debug("get MFA Options failed",o),void i(o);ee.debug("get MFA options success",n),t(n)})})},r.prototype.getPreferredMFA=function(e,t){var i=this,o=this;return new Promise(function(n,c){e.getUserData(function(u,y){return v(i,void 0,void 0,function(){var A,D;return U(this,function(G){switch(G.label){case 0:if(!u)return[3,5];if(ee.debug("getting preferred mfa failed",u),!this.isSessionInvalid(u))return[3,4];G.label=1;case 1:return G.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return G.sent(),[3,4];case 3:return A=G.sent(),c(new Error("Session is invalid due to: "+u.message+" and failed to clean up invalid session: "+A.message)),[2];case 4:return c(u),[2];case 5:return(D=o._getMfaTypeFromUserData(y))?(n(D),[2]):(c("invalid MFA Type"),[2])}})})},{bypassCache:!!t&&t.bypassCache,clientMetadata:i._config.clientMetadata})})},r.prototype._getMfaTypeFromUserData=function(e){var t=null,i=e.PreferredMfaSetting;if(i)t=i;else{var o=e.UserMFASettingList;o?0===o.length?t="NOMFA":ee.debug("invalid case for getPreferredMFA",e):t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},r.prototype._getUserData=function(e,t){var i=this;return new Promise(function(o,n){e.getUserData(function(c,d){return v(i,void 0,void 0,function(){var w;return U(this,function(u){switch(u.label){case 0:if(!c)return[3,5];if(ee.debug("getting user data failed",c),!this.isSessionInvalid(c))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return w=u.sent(),n(new Error("Session is invalid due to: "+c.message+" and failed to clean up invalid session: "+w.message)),[2];case 4:return n(c),[2];case 5:o(d),u.label=6;case 6:return[2]}})})},t)})},r.prototype.setPreferredMFA=function(e,t){return v(this,void 0,void 0,function(){var i,o,n,c,w,u,A=this;return U(this,function(D){switch(D.label){case 0:return[4,this._getUserData(e,{bypassCache:!0,clientMetadata:i=this._config.clientMetadata})];case 1:switch(o=D.sent(),n=null,c=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return c={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return n={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return w=o.UserMFASettingList,[4,this._getMfaTypeFromUserData(o)];case 5:if("NOMFA"===(u=D.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===u)n={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==u)return[2,this.rejectAuthError(M.InvalidMFA)];c={PreferredMfa:!1,Enabled:!1}}return w&&0!==w.length&&w.forEach(function(G){"SMS_MFA"===G?n={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===G&&(c={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return ee.debug("no validmfa method provided"),[2,this.rejectAuthError(M.NoMFA)];case 7:return[2,new Promise(function(G,L){e.setUserMfaPreference(n,c,function(Q,se){if(Q)return ee.debug("Set user mfa preference error",Q),L(Q);ee.debug("Set user mfa success",se),ee.debug("Caching the latest user data into local"),e.getUserData(function(ae,de){return v(A,void 0,void 0,function(){var Ce;return U(this,function(Te){switch(Te.label){case 0:if(!ae)return[3,5];if(ee.debug("getting user data failed",ae),!this.isSessionInvalid(ae))return[3,4];Te.label=1;case 1:return Te.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return Te.sent(),[3,4];case 3:return Ce=Te.sent(),L(new Error("Session is invalid due to: "+ae.message+" and failed to clean up invalid session: "+Ce.message)),[2];case 4:return[2,L(ae)];case 5:return[2,G(se)]}})})},{bypassCache:!0,clientMetadata:i})})})]}})})},r.prototype.disableSMS=function(e){return new Promise(function(t,i){e.disableMFA(function(o,n){if(o)return ee.debug("disable mfa failed",o),void i(o);ee.debug("disable mfa succeed",n),t(n)})})},r.prototype.enableSMS=function(e){return new Promise(function(t,i){e.enableMFA(function(o,n){if(o)return ee.debug("enable mfa failed",o),void i(o);ee.debug("enable mfa succeed",n),t(n)})})},r.prototype.setupTOTP=function(e){return new Promise(function(t,i){e.associateSoftwareToken({onFailure:function(o){ee.debug("associateSoftwareToken failed",o),i(o)},associateSecretCode:function(o){ee.debug("associateSoftwareToken success",o),t(o)}})})},r.prototype.verifyTotpToken=function(e,t){var i;ee.debug("verification totp token",e,t),e&&"function"==typeof e.getSignInUserSession&&(i=e.getSignInUserSession());var o=i?.isValid();return new Promise(function(n,c){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(d){ee.debug("verifyTotpToken failed",d),c(d)},onSuccess:function(d){o||ke("signIn",e,"A user "+e.getUsername()+" has been signed in"),ke("verify",e,"A user "+e.getUsername()+" has been verified"),ee.debug("verifyTotpToken success",d),n(d)}})})},r.prototype.confirmSignIn=function(e,t,i,o){var n=this;if(void 0===o&&(o=this._config.clientMetadata),!t)return this.rejectAuthError(M.EmptyCode);var c=this;return new Promise(function(d,w){e.sendMFACode(t,{onSuccess:function(u){return v(n,void 0,void 0,function(){var y,A,D,G;return U(this,function(L){switch(L.label){case 0:ee.debug(u),L.label=1;case 1:return L.trys.push([1,4,5,10]),[4,this.Credentials.clear()];case 2:return L.sent(),[4,this.Credentials.set(u,"session")];case 3:return y=L.sent(),ee.debug("succeed to get cognito credentials",y),[3,10];case 4:return A=L.sent(),ee.debug("cannot get cognito credentials",A),[3,10];case 5:c.user=e,L.label=6;case 6:return L.trys.push([6,8,,9]),[4,this.currentUserPoolUser()];case 7:return D=L.sent(),e.attributes=D.attributes,[3,9];case 8:return G=L.sent(),ee.debug("cannot get updated Cognito User",G),[3,9];case 9:return ke("signIn",e,"A user "+e.getUsername()+" has been signed in"),d(e),[7];case 10:return[2]}})})},onFailure:function(u){ee.debug("confirm signIn failure",u),w(u)}},i,o)})},r.prototype.completeNewPassword=function(e,t,i,o){var n=this;if(void 0===i&&(i={}),void 0===o&&(o=this._config.clientMetadata),!t)return this.rejectAuthError(M.EmptyPassword);var c=this;return new Promise(function(d,w){e.completeNewPasswordChallenge(t,i,{onSuccess:function(u){return v(n,void 0,void 0,function(){var y,A;return U(this,function(D){switch(D.label){case 0:ee.debug(u),D.label=1;case 1:return D.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return D.sent(),[4,this.Credentials.set(u,"session")];case 3:return y=D.sent(),ee.debug("succeed to get cognito credentials",y),[3,6];case 4:return A=D.sent(),ee.debug("cannot get cognito credentials",A),[3,6];case 5:return c.user=e,ke("signIn",e,"A user "+e.getUsername()+" has been signed in"),d(e),[7];case 6:return[2]}})})},onFailure:function(u){ee.debug("completeNewPassword failure",u),ke("completeNewPassword_failure",u,n.user+" failed to complete the new password flow"),w(u)},mfaRequired:function(u,y){ee.debug("signIn MFA required"),e.challengeName=u,e.challengeParam=y,d(e)},mfaSetup:function(u,y){ee.debug("signIn mfa setup",u),e.challengeName=u,e.challengeParam=y,d(e)},totpRequired:function(u,y){ee.debug("signIn mfa setup",u),e.challengeName=u,e.challengeParam=y,d(e)}},o)})},r.prototype.sendCustomChallengeAnswer=function(e,t,i){var o=this;return void 0===i&&(i=this._config.clientMetadata),this.userPool?t?new Promise(function(c,d){e.sendCustomChallengeAnswer(t,o.authCallbacks(e,c,d),i)}):this.rejectAuthError(M.EmptyChallengeResponse):this.rejectNoUserPool()},r.prototype.deleteUserAttributes=function(e,t){var i=this;return new Promise(function(o,n){i.userSession(e).then(function(c){e.deleteAttributes(t,function(d,w){return d?n(d):o(w)})})})},r.prototype.deleteUser=function(){return v(this,void 0,void 0,function(){var e,t,i=this;return U(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw e=o.sent(),ee.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(n,c){return v(i,void 0,void 0,function(){var d,w=this;return U(this,function(u){if(this.userPool){if(!(d=this.userPool.getCurrentUser()))return ee.debug("Failed to get user from user pool"),[2,c(new Error("No current user."))];d.getSession(function(y,A){return v(w,void 0,void 0,function(){var D,G=this;return U(this,function(L){switch(L.label){case 0:if(!y)return[3,5];if(ee.debug("Failed to get the user session",y),!this.isSessionInvalid(y))return[3,4];L.label=1;case 1:return L.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(d)];case 2:return L.sent(),[3,4];case 3:return D=L.sent(),c(new Error("Session is invalid due to: "+y.message+" and failed to clean up invalid session: "+D.message)),[2];case 4:return[2,c(y)];case 5:d.deleteUser(function(Q,se){if(Q)c(Q);else{ke("userDeleted",se,"The authenticated user has been deleted."),d.signOut(),G.user=null;try{G.cleanCachedItems()}catch{ee.debug("failed to clear cached items")}t?G.oAuthSignOutRedirect(n,c):(ke("signOut",G.user,"A user has been signed out"),n(se))}}),L.label=6;case 6:return[2]}})})})}else ee.debug("no Congito User pool"),c(new Error("Cognito User pool does not exist"));return[2]})})})]}})})},r.prototype.updateUserAttributes=function(e,t,i){var o=this;void 0===i&&(i=this._config.clientMetadata);var n=[],c=this;return new Promise(function(d,w){c.userSession(e).then(function(u){for(var y in t)"sub"!==y&&y.indexOf("_verified")<0&&n.push({Name:y,Value:t[y]});e.updateAttributes(n,function(D,G,L){if(D)return ke("updateUserAttributes_failure",D,"Failed to update attributes"),w(D);var Q=o.createUpdateAttributesResultList(t,L?.CodeDeliveryDetailsList);return ke("updateUserAttributes",Q,"Attributes successfully updated"),d(G)},i)})})},r.prototype.createUpdateAttributesResultList=function(e,t){var i={};return Object.keys(e).forEach(function(o){i[o]={isUpdated:!0};var n=t?.find(function(c){return c.AttributeName===o});n&&(i[o].isUpdated=!1,i[o].codeDeliveryDetails=n)}),i},r.prototype.userAttributes=function(e){var t=this;return new Promise(function(i,o){t.userSession(e).then(function(n){e.getUserAttributes(function(c,d){c?o(c):i(d)})})})},r.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then(function(i){var o=t.attributesToObject(i),n={},c={};return o.email&&(o.email_verified?c.email=o.email:n.email=o.email),o.phone_number&&(o.phone_number_verified?c.phone_number=o.phone_number:n.phone_number=o.phone_number),{verified:c,unverified:n}})},r.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},r.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},r.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},r.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},r.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},r.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},r.prototype.isPasswordResetRequiredError=function(e){return this.isErrorWithMessage(e)&&"Password reset required for the user"===e.message},r.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},r.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)||this.isPasswordResetRequiredError(e)},r.prototype.cleanUpInvalidSession=function(e){return v(this,void 0,void 0,function(){var i=this;return U(this,function(o){switch(o.label){case 0:e.signOut(),this.user=null,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return o.sent(),[3,4];case 3:return o.sent(),ee.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise(function(n,c){i.oAuthSignOutRedirect(n,c)})]:(ke("signOut",this.user,"A user has been signed out"),[2])}})})},r.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise(function(i,o){t._storageSync.then(function(){return v(t,void 0,void 0,function(){var n,c,d,w,u,A,D=this;return U(this,function(G){switch(G.label){case 0:return this.isOAuthInProgress()?(ee.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(L){var Q=setTimeout(function(){ee.debug("OAuth signIn in progress timeout"),je.remove("auth",se),L()},1e4);function se(ae){var Ce=ae.payload.event;("cognitoHostedUI"===Ce||"cognitoHostedUI_failure"===Ce)&&(ee.debug("OAuth signIn resolved: "+Ce),clearTimeout(Q),je.remove("auth",se),L())}je.listen("auth",se)})]):[3,2];case 1:G.sent(),G.label=2;case 2:if(!(n=this.userPool.getCurrentUser()))return ee.debug("Failed to get user from user pool"),o("No current user"),[2];G.label=3;case 3:return G.trys.push([3,7,,8]),[4,this._userSession(n)];case 4:return c=G.sent(),(d=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,6];case 5:G.sent(),G.label=6;case 6:return w=this._config.clientMetadata,(void 0===(u=c.getAccessToken().decodePayload().scope)?"":u).split(" ").includes(Ji)?(n.getUserData(function(L,Q){return v(D,void 0,void 0,function(){var se,ae,de,Ce,ze,qe;return U(this,function(We){switch(We.label){case 0:if(!L)return[3,7];if(ee.debug("getting user data failed",L),!this.isSessionInvalid(L))return[3,5];We.label=1;case 1:return We.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return We.sent(),[3,4];case 3:return se=We.sent(),o(new Error("Session is invalid due to: "+L.message+" and failed to clean up invalid session: "+se.message)),[2];case 4:return o(L),[3,6];case 5:i(n),We.label=6;case 6:return[2];case 7:for(ae=Q.PreferredMfaSetting||"NOMFA",de=[],Ce=0;Ce<Q.UserAttributes.length;Ce++)ze=new cn({Name:Q.UserAttributes[Ce].Name,Value:Q.UserAttributes[Ce].Value}),de.push(ze);return qe=this.attributesToObject(de),Object.assign(n,{attributes:qe,preferredMFA:ae}),[2,i(n)]}})})},{bypassCache:d,clientMetadata:w}),[3,8]):(ee.debug("Unable to get the user data because the "+Ji+" is not in the scopes of the access token"),[2,i(n)]);case 7:return A=G.sent(),o(A),[3,8];case 8:return[2]}})})}).catch(function(n){return ee.debug("Failed to sync cache info into memory",n),o(n)})}):this.rejectNoUserPool()},r.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},r.prototype.currentAuthenticatedUser=function(e){return v(this,void 0,void 0,function(){var t,i,o,n,c;return U(this,function(d){switch(d.label){case 0:ee.debug("getting current authenticated user"),t=null,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this._storageSync];case 2:return d.sent(),[3,4];case 3:throw i=d.sent(),ee.debug("Failed to sync cache info into memory",i),i;case 4:try{(o=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=k(k({},o.user),{token:o.token}))}catch{ee.debug("cannot load federated user from auth storage")}return t?(this.user=t,ee.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:ee.debug("get current authenticated userpool user"),n=null,d.label=6;case 6:return d.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return n=d.sent(),[3,9];case 8:return"No userPool"===(c=d.sent())&&ee.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),ee.debug("The user is not authenticated by the error",c),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=n,[2,this.user]}})})},r.prototype.currentSession=function(){var e=this;return ee.debug("Getting current session"),this.userPool?new Promise(function(t,i){e.currentUserPoolUser().then(function(o){e.userSession(o).then(function(n){t(n)}).catch(function(n){ee.debug("Failed to get the current session",n),i(n)})}).catch(function(o){ee.debug("Failed to get the current user",o),i(o)})}):Promise.reject(new Error("No User Pool in the configuration."))},r.prototype._userSession=function(e){return v(this,void 0,void 0,function(){var t,i,o=this;return U(this,function(n){switch(n.label){case 0:if(!e)return ee.debug("the user is null"),[2,this.rejectAuthError(M.NoUserSession)];t=this._config.clientMetadata,0===this.inflightSessionPromiseCounter&&(this.inflightSessionPromise=new Promise(function(c,d){e.getSession(function(w,u){return v(o,void 0,void 0,function(){var y;return U(this,function(A){switch(A.label){case 0:if(!w)return[3,5];if(ee.debug("Failed to get the session from user",e),!this.isSessionInvalid(w))return[3,4];A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return A.sent(),[3,4];case 3:return y=A.sent(),d(new Error("Session is invalid due to: "+w.message+" and failed to clean up invalid session: "+y.message)),[2];case 4:return d(w),[2];case 5:return ee.debug("Succeed to get the user session",u),c(u),[2]}})})},{clientMetadata:t})})),this.inflightSessionPromiseCounter++,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return i=n.sent(),e.signInUserSession=i,[2,i];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}})})},r.prototype.userSession=function(e){return this._userSession(e)},r.prototype.currentUserCredentials=function(){return v(this,void 0,void 0,function(){var e,t,i=this;return U(this,function(o){switch(o.label){case 0:ee.debug("Getting current user credentials"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._storageSync];case 2:return o.sent(),[3,4];case 3:throw e=o.sent(),ee.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(n){ee.debug("failed to get or parse item aws-amplify-federatedInfo",n)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then(function(n){return ee.debug("getting session success",n),i.Credentials.set(n,"session")}).catch(function(){return ee.debug("getting guest credentials"),i.Credentials.set(null,"guest")})]}})})},r.prototype.currentCredentials=function(){return ee.debug("getting current credentials"),this.Credentials.get()},r.prototype.verifyUserAttribute=function(e,t,i){return void 0===i&&(i=this._config.clientMetadata),new Promise(function(o,n){e.getAttributeVerificationCode(t,{onSuccess:function(c){return o(c)},onFailure:function(c){return n(c)}},i)})},r.prototype.verifyUserAttributeSubmit=function(e,t,i){return i?new Promise(function(o,n){e.verifyAttribute(t,i,{onSuccess:function(c){o(c)},onFailure:function(c){n(c)}})}):this.rejectAuthError(M.EmptyCode)},r.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then(function(i){return t.verifyUserAttribute(i,e)})},r.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var i=this;return i.currentUserPoolUser().then(function(o){return i.verifyUserAttributeSubmit(o,e,t)})},r.prototype.cognitoIdentitySignOut=function(e,t){return v(this,void 0,void 0,function(){var i,o,n=this;return U(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this._storageSync];case 1:return c.sent(),[3,3];case 2:throw i=c.sent(),ee.debug("Failed to sync cache info into memory",i),i;case 3:return o=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(d,w){e&&e.global?(ee.debug("user global sign out",t),t.getSession(function(y,A){return v(n,void 0,void 0,function(){var D,G=this;return U(this,function(L){switch(L.label){case 0:if(!y)return[3,5];if(ee.debug("failed to get the user session",y),!this.isSessionInvalid(y))return[3,4];L.label=1;case 1:return L.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return L.sent(),[3,4];case 3:return D=L.sent(),w(new Error("Session is invalid due to: "+y.message+" and failed to clean up invalid session: "+D.message)),[2];case 4:return[2,w(y)];case 5:return t.globalSignOut({onSuccess:function(Q){if(ee.debug("global sign out success"),!o)return d();G.oAuthSignOutRedirect(d,w)},onFailure:function(Q){return ee.debug("global sign out failed",Q),w(Q)}}),[2]}})})},{clientMetadata:n._config.clientMetadata})):(ee.debug("user sign out",t),t.signOut(function(){if(!o)return d();n.oAuthSignOutRedirect(d,w)}))})]}})})},r.prototype.oAuthSignOutRedirect=function(e,t){ye().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},r.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},r.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout(function(){return e(Error("Signout timeout fail"))},3e3)},r.prototype.signOut=function(e){return v(this,void 0,void 0,function(){var i;return U(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return o.sent(),[3,3];case 2:return o.sent(),ee.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(i=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,i)]:[3,5]:[3,7];case 4:return o.sent(),[3,6];case 5:ee.debug("no current Cognito user"),o.label=6;case 6:return[3,8];case 7:ee.debug("no Cognito User pool"),o.label=8;case 8:return ke("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},r.prototype.cleanCachedItems=function(){return v(this,void 0,void 0,function(){return U(this,function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}})})},r.prototype.changePassword=function(e,t,i,o){var n=this;return void 0===o&&(o=this._config.clientMetadata),new Promise(function(c,d){n.userSession(e).then(function(w){e.changePassword(t,i,function(u,y){return u?(ee.debug("change password failure",u),d(u)):c(y)},o)})})},r.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(M.EmptyUsername);var i=this.createCognitoUser(e);return new Promise(function(o,n){i.forgotPassword({onSuccess:function(){o()},onFailure:function(c){ee.debug("forgot password failure",c),ke("forgotPassword_failure",c,e+" forgotPassword failed"),n(c)},inputVerificationCode:function(c){ke("forgotPassword",i,e+" has initiated forgot password flow"),o(c)}},t)})},r.prototype.forgotPasswordSubmit=function(e,t,i,o){if(void 0===o&&(o=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(M.EmptyUsername);if(!t)return this.rejectAuthError(M.EmptyCode);if(!i)return this.rejectAuthError(M.EmptyPassword);var n=this.createCognitoUser(e);return new Promise(function(c,d){n.confirmPassword(t,i,{onSuccess:function(w){ke("forgotPasswordSubmit",n,e+" forgotPasswordSubmit successful"),c(w)},onFailure:function(w){ke("forgotPasswordSubmit_failure",w,e+" forgotPasswordSubmit failed"),d(w)}},o)})},r.prototype.currentUserInfo=function(){return v(this,void 0,void 0,function(){var e,t,i,o,n,d,w;return U(this,function(u){switch(u.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch(function(y){return ee.error(y)})];case 1:if(!(w=u.sent()))return[2,null];u.label=2;case 2:return u.trys.push([2,8,,9]),[4,this.userAttributes(w)];case 3:t=u.sent(),i=this.attributesToObject(t),o=null,u.label=4;case 4:return u.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return o=u.sent(),[3,7];case 6:return n=u.sent(),ee.debug("Failed to retrieve credentials while getting current user info",n),[3,7];case 7:return[2,{id:o?o.identityId:void 0,username:w.getUsername(),attributes:i}];case 8:return d=u.sent(),ee.error("currentUserInfo error",d),[2,{}];case 9:return"federated"===e?[2,(w=this.user)||{}]:[2]}})})},r.prototype.federatedSignIn=function(e,t,i){return v(this,void 0,void 0,function(){var o,n,c,d,w,u,G,L;return U(this,function(Q){switch(Q.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(typeof e>"u"&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return I(e)||function J(r){return r&&!!["customProvider"].find(function(t){return r.hasOwnProperty(t)})}(e)||function z(r){return r&&!!["customState"].find(function(t){return r.hasOwnProperty(t)})}(e)||typeof e>"u"?(w=I(o=e||{provider:B.Cognito})?o.provider:o.customProvider,I(o),n=o.customState,this._config.userPoolId&&(c=F(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,d=F(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,d,c,w,n)),[3,4]):[3,1];case 1:w=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&ee.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch{}return[4,this.Credentials.set({provider:w,token:t.token,identity_id:t.identity_id,user:i,expires_at:t.expires_at},"federation")];case 2:return G=Q.sent(),[4,this.currentAuthenticatedUser()];case 3:return L=Q.sent(),ke("signIn",L,"A user "+L.username+" has been signed in"),ee.debug("federated sign in credentials",G),[2,G];case 4:return[2]}})})},r.prototype._handleAuthResponse=function(e){return v(this,void 0,void 0,function(){var t,i,o,n,c,w,u,y,A,D,G,L,Q;return U(this,function(se){switch(se.label){case 0:if(this.oAuthFlowInProgress)return ee.debug("Skipping URL "+e+" current flow in progress"),[2];se.label=1;case 1:if(se.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(ke("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(ye().isBrowser?window.location.href:""),i=!!((0,Ot.Qc)(t).query||"").split("&").map(function(ae){return ae.split("=")}).find(function(ae){var Ce=Y(ae,1)[0];return"code"===Ce||"error"===Ce}),o=!!((0,Ot.Qc)(t).hash||"#").substr(1).split("&").map(function(ae){return ae.split("=")}).find(function(ae){var Ce=Y(ae,1)[0];return"access_token"===Ce||"error"===Ce}),!i&&!o)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),se.label=2;case 2:return se.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return n=se.sent(),c=n.accessToken,w=n.refreshToken,u=n.state,y=new ui({IdToken:new si({IdToken:n.idToken}),RefreshToken:new ai({RefreshToken:w}),AccessToken:new ii({AccessToken:c})}),A=void 0,this._config.identityPoolId?[4,this.Credentials.set(y,"session")]:[3,5];case 4:A=se.sent(),ee.debug("AWS credentials",A),se.label=5;case 5:return D=/-/.test(u),(G=this.createCognitoUser(y.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(y),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ke("signIn",G,"A user "+G.getUsername()+" has been signed in"),ke("cognitoHostedUI",G,"A user "+G.getUsername()+" has been signed in via Cognito Hosted UI"),D&&(L=u.split("-").splice(1).join("-"),ke("customOAuthState",function po(r){return r.match(/.{2}/g).map(function(e){return String.fromCharCode(parseInt(e,16))}).join("")}(L),"State for user "+G.getUsername())),[2,A];case 6:return Q=se.sent(),ee.debug("Error in cognito hosted auth response",Q),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ke("signIn_failure",Q,"The OAuth response flow failed"),ke("cognitoHostedUI_failure",Q,"A failure occurred when returning to the Cognito Hosted UI"),ke("customState_failure",Q,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},r.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},r.prototype.attributesToObject=function(e){var t=this,i={};return e&&e.map(function(o){i[o.Name]="email_verified"===o.Name||"phone_number_verified"===o.Name?t.isTruthyString(o.Value)||!0===o.Value:o.Value}),i},r.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},r.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var i=this._config.authenticationFlowType,o=new ci(t);return i&&o.setAuthenticationFlowType(i),o},r.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},r.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?M.NoConfig:M.MissingAuthConfig},r.prototype.rejectAuthError=function(e){return Promise.reject(new Ft(e))},r.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new Gs(e))},r.prototype.rememberDevice=function(){return v(this,void 0,void 0,function(){var e,t;return U(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=i.sent(),[3,3];case 2:return t=i.sent(),ee.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(o,n){e.setDeviceStatusRemembered({onSuccess:function(c){o(c)},onFailure:function(c){n("InvalidParameterException"===c.code?new Ft(M.DeviceConfig):"NetworkError"===c.code?new Ft(M.NetworkError):c)}})})]}})})},r.prototype.forgetDevice=function(){return v(this,void 0,void 0,function(){var e,t;return U(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=i.sent(),[3,3];case 2:return t=i.sent(),ee.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(o,n){e.forgetDevice({onSuccess:function(c){o(c)},onFailure:function(c){n("InvalidParameterException"===c.code?new Ft(M.DeviceConfig):"NetworkError"===c.code?new Ft(M.NetworkError):c)}})})]}})})},r.prototype.fetchDevices=function(){return v(this,void 0,void 0,function(){var e,t;return U(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=i.sent(),[3,3];case 2:throw t=i.sent(),ee.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(o,n){e.listDevices(60,null,{onSuccess:function(d){var w=d.Devices.map(function(u){var y=u.DeviceAttributes.find(function(D){return"device_name"===D.Name})||{};return{id:u.DeviceKey,name:y.Value}});o(w)},onFailure:function(d){n("InvalidParameterException"===d.code?new Ft(M.DeviceConfig):"NetworkError"===d.code?new Ft(M.NetworkError):d)}})})]}})})},r}(),Wt=new qs(null);at.register(Wt);var fn=S(7715),pr=S(9397),Js=S(4664),$i=S(8180),$s=S(7398),Zi=S(553),Zs=S(5803),Xi=S(5678),Xs=S(7367);let Qs=(()=>{class r{constructor(t){this.wsService=t,this.initAmplify()}signUp({email:t,password:i,familyName:o,givenName:n}){const c=this.toUsername(t).toLowerCase();return(0,fn.D)(Wt.signUp({username:c,password:i,attributes:{given_name:n,family_name:o,email:t}}))}signIn({email:t,password:i}){const o=(0,Zs.F)(t.toLowerCase());return(0,fn.D)(Wt.signIn(o,i)).pipe((0,pr.b)(()=>{sessionStorage.setItem("userEmail",JSON.stringify(o))}),(0,Js.w)(()=>this.getToken()),(0,pr.b)(this.saveTokenInStorage),(0,pr.b)(()=>this.wsService.connect(o)))}forgotPassword(t){const i=t.toLowerCase();return(0,fn.D)(Wt.forgotPassword(i)).pipe((0,$i.q)(1))}forgotPasswordSubmit(t,i,o){const n=t.toLowerCase();return(0,fn.D)(Wt.forgotPasswordSubmit(n,i,o)).pipe((0,$i.q)(1))}logout(){return(0,fn.D)(Wt.signOut()).pipe((0,pr.b)(()=>this.wsService.close()))}getToken(){return(0,fn.D)(Wt.currentSession()).pipe((0,$s.U)(t=>t.getIdToken().getJwtToken()))}saveTokenInStorage(t){sessionStorage.setItem("accessToken",t)}initAmplify(){setTimeout(()=>{at.configure({Auth:{userPoolId:Zi.N.cognito.userPoolId,userPoolWebClientId:Zi.N.cognito.clientId},storage:window.sessionStorage})})}toUsername(t){return t.replace("@","-at-")}static#e=this.\u0275fac=function(i){return new(i||r)(Xi.LFG(Xs.r))};static#t=this.\u0275prov=Xi.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},9074:(pe,R,S)=>{"use strict";S.d(R,{r:()=>U});var f=S(5678),H=S(9281),k=S(2181),W=S(7398),$=S(1631),x=S(9397),b=S(7110),v=S(6814);let U=(()=>{class V{constructor(K,Y,q){this.route=K,this.router=Y,this.location=q,this.headerSettings$=(0,f.tdS)(b.dR.mainRoot),this.headerSettings=(0,f.Flj)(this.headerSettings$)}initSubscription(){this.router.events.pipe((0,k.h)(K=>K instanceof H.m2||K instanceof H.Xs),(0,W.U)(()=>this.rootRoute(this.route)),(0,$.z)(K=>K.data),(0,x.b)(K=>{this.headerSettings$.set(K)})).subscribe()}addTitle(K){this.headerSettings$.update(Y=>({...Y,title:K}))}back(){this.location.back()}rootRoute(K){for(;K.firstChild;)K=K.firstChild;return K}static#e=this.\u0275fac=function(Y){return new(Y||V)(f.LFG(H.gz),f.LFG(H.F0),f.LFG(v.Ye))};static#t=this.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},8151:(pe,R,S)=>{"use strict";S.d(R,{M:()=>N});var f=S(5678),H=S(9281),k=S(2181),W=S(7921),$=S(9397),x=S(7110);const b={notLoggedIn:{title:"Wanna connect with U-pamers?",description:"Start your journey with ",linkedText:"login",url:["/",x.zV.Auth]},notFilledProfile:{title:"Wanna stand out?",description:"Help others connect with you faster by ",linkedText:"adding more profile details",url:["/",x.zV.Main,x.zV.ProfileSettings,x.zV.Info]}},v={title:"",description:"",linkedText:"",url:[""]};var U=S(2333),V=S(9045);let N=(()=>{class K{constructor(q,X,ne){this.authService=q,this.apiService=X,this.router=ne,this.isHidden$=(0,f.tdS)(!0),this.toasterSettings$=(0,f.tdS)(v),this.isHidden=this.isHidden$.asReadonly(),this.toasterSettings=this.toasterSettings$.asReadonly(),this.routerNames=x.zV}openToaster(){this.isHidden$.set(!1)}closeToaster(){this.isHidden$.set(!0)}setupNavigationEventListener(){this.router.events.pipe((0,k.h)(q=>q instanceof H.m2),(0,W.O)(this.router),(0,$.b)(()=>{this.toasterSettings$.set(this.getToasterSettings()),this.manageContactPageToaster()})).subscribe()}resetToasterSettings(){this.toasterSettings$.set(b.notLoggedIn),this.openToaster()}manageContactPageToaster(){this.shouldDisplayContactPageToaster()&&this.toasterSettings()!==v?this.openToaster():this.closeToaster()}getToasterSettings(){return this.authService.isUserLoggedIn()?this.shouldDisplayProfileToaster()?b.notFilledProfile:v:b.notLoggedIn}shouldDisplayContactPageToaster(){return this.router.url===`/${this.routerNames.Main}/${this.routerNames.Contact}`}shouldDisplayProfileToaster(){return!this.apiService.currentUser()?.about&&!!this.apiService.currentUser()?.interests.length}static#e=this.\u0275fac=function(X){return new(X||K)(f.LFG(U.e),f.LFG(V.s),f.LFG(H.F0))};static#t=this.\u0275prov=f.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},7367:(pe,R,S)=>{"use strict";S.d(R,{r:()=>I});var f=S(8645),H=S(4664),k=S(2737),$=S(6306),x=S(9397),b=S(6232),v=S(4829),U=S(9360),V=S(8251),K=S(9694),Y=S(4825),q=S(305),X=S(5592),ne=S(7394),ge=S(4552);class Se extends f.x{constructor(z=1/0,F=1/0,M=ge.l){super(),this._bufferSize=z,this._windowTime=F,this._timestampProvider=M,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=F===1/0,this._bufferSize=Math.max(1,z),this._windowTime=Math.max(1,F)}next(z){const{isStopped:F,_buffer:M,_infiniteTimeWindow:O,_timestampProvider:Z,_windowTime:te}=this;F||(M.push(z),!O&&M.push(Z.now()+te)),this._trimBuffer(),super.next(z)}_subscribe(z){this._throwIfClosed(),this._trimBuffer();const F=this._innerSubscribe(z),{_infiniteTimeWindow:M,_buffer:O}=this,Z=O.slice();for(let te=0;te<Z.length&&!z.closed;te+=M?1:2)z.next(Z[te]);return this._checkFinalizedStatuses(z),F}_trimBuffer(){const{_bufferSize:z,_timestampProvider:F,_buffer:M,_infiniteTimeWindow:O}=this,Z=(O?1:2)*z;if(z<1/0&&Z<M.length&&M.splice(0,M.length-Z),!O){const te=F.now();let ue=0;for(let be=1;be<M.length&&M[be]<=te;be+=2)ue=be;ue&&M.splice(0,ue+1)}}}const Fe={url:"",deserializer:J=>JSON.parse(J.data),serializer:J=>JSON.stringify(J)};class _e extends f.u{constructor(z,F){if(super(),this._socket=null,z instanceof X.y)this.destination=F,this.source=z;else{const M=this._config=Object.assign({},Fe);if(this._output=new f.x,"string"==typeof z)M.url=z;else for(const O in z)z.hasOwnProperty(O)&&(M[O]=z[O]);if(!M.WebSocketCtor&&WebSocket)M.WebSocketCtor=WebSocket;else if(!M.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new Se}}lift(z){const F=new _e(this._config,this.destination);return F.operator=z,F.source=this,F}_resetState(){this._socket=null,this.source||(this.destination=new Se),this._output=new f.x}multiplex(z,F,M){const O=this;return new X.y(Z=>{try{O.next(z())}catch(ue){Z.error(ue)}const te=O.subscribe({next:ue=>{try{M(ue)&&Z.next(ue)}catch(be){Z.error(be)}},error:ue=>Z.error(ue),complete:()=>Z.complete()});return()=>{try{O.next(F())}catch(ue){Z.error(ue)}te.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:z,protocol:F,url:M,binaryType:O}=this._config,Z=this._output;let te=null;try{te=F?new z(M,F):new z(M),this._socket=te,O&&(this._socket.binaryType=O)}catch(be){return void Z.error(be)}const ue=new ne.w0(()=>{this._socket=null,te&&1===te.readyState&&te.close()});te.onopen=be=>{const{_socket:re}=this;if(!re)return te.close(),void this._resetState();const{openObserver:oe}=this._config;oe&&oe.next(be);const ie=this.destination;this.destination=q.Lv.create(ce=>{if(1===te.readyState)try{const{serializer:me}=this._config;te.send(me(ce))}catch(me){this.destination.error(me)}},ce=>{const{closingObserver:me}=this._config;me&&me.next(void 0),ce&&ce.code?te.close(ce.code,ce.reason):Z.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:ce}=this._config;ce&&ce.next(void 0),te.close(),this._resetState()}),ie&&ie instanceof Se&&ue.add(ie.subscribe(this.destination))},te.onerror=be=>{this._resetState(),Z.error(be)},te.onclose=be=>{te===this._socket&&this._resetState();const{closeObserver:re}=this._config;re&&re.next(be),be.wasClean?Z.complete():Z.error(be)},te.onmessage=be=>{try{const{deserializer:re}=this._config;Z.next(re(be))}catch(re){Z.error(re)}}}_subscribe(z){const{source:F}=this;return F?F.subscribe(z):(this._socket||this._connectSocket(),this._output.subscribe(z),z.add(()=>{const{_socket:M}=this;0===this._output.observers.length&&(M&&(1===M.readyState||0===M.readyState)&&M.close(),this._resetState())}),z)}unsubscribe(){const{_socket:z}=this;z&&(1===z.readyState||0===z.readyState)&&z.close(),this._resetState(),super.unsubscribe()}}var $e=S(553),j=S(5678);const B=$e.N.wsUrl;let I=(()=>{class J{constructor(){this.RECONNECT_INTERVAL=2e3,this.messagesSubject$=new f.x,this.messages$=this.messagesSubject$.pipe(function W(){return(0,H.w)(k.y)}(),(0,$.K)(F=>{throw F}))}connect(F,M={reconnect:!1}){if(!this.socket$||this.socket$.closed){this.socket$=this.getSocket(F);const O=this.socket$.pipe(M.reconnect?this.reconnect:Z=>Z,(0,x.b)({error:Z=>console.log(Z)}),(0,$.K)(Z=>b.E));this.messagesSubject$.next(O)}}reconnect(F){return F.pipe(function N(J){return(0,U.e)((z,F)=>{let M,Z,O=!1;const te=()=>{M=z.subscribe((0,V.x)(F,void 0,void 0,ue=>{Z||(Z=new f.x,(0,v.Xf)(J(Z)).subscribe((0,V.x)(F,()=>M?te():O=!0))),Z&&Z.next(ue)})),O&&(M.unsubscribe(),M=null,O=!1,te())};te()})}(M=>M.pipe((0,x.b)(O=>console.log("[WS Service] Try to reconnect",O)),(0,K.j)(O=>(0,Y.H)(this.RECONNECT_INTERVAL)))))}close(){this.socket$.complete(),this.socket$=null}sendMessage(F){this.socket$.next(F)}getSocket(F){return function Le(J){return new _e(J)}({url:`${B}?userId=${F}`,openObserver:{next:()=>{console.log("connection ok")}},closeObserver:{next:()=>{console.log("connection closed"),this.socket$=null,this.connect(F,{reconnect:!0})}}})}static#e=this.\u0275fac=function(M){return new(M||J)};static#t=this.\u0275prov=j.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})()},8954:(pe,R,S)=>{"use strict";S.d(R,{c:()=>x});var f=S(6814),H=S(5678);function k(b,v){if(1&b&&(H.O4$(),H.TgZ(0,"svg",2),H._UZ(1,"use"),H.qZA()),2&b){const U=H.oxw();H.xp6(1),H.uIk("href","/assets/icons/sprite.svg#"+U.iconName,null,"xlink")}}const W=b=>({hidden:b}),$=["*"];let x=(()=>{class b{constructor(){this.isDisabled=!1,this.type="button",this.isHidden=!1}static#e=this.\u0275fac=function(V){return new(V||b)};static#t=this.\u0275cmp=H.Xpm({type:b,selectors:[["epm-button"]],inputs:{additionalStyles:"additionalStyles",isDisabled:"isDisabled",iconName:"iconName",type:"type",isHidden:"isHidden"},standalone:!0,features:[H.jDz],ngContentSelectors:$,decls:3,vars:7,consts:[[1,"button",3,"type","ngStyle","disabled","ngClass"],["class","icon"],[1,"icon"]],template:function(V,N){1&V&&(H.F$t(),H.TgZ(0,"button",0),H.YNc(1,k,2,1,":svg:svg",1),H.Hsn(2),H.qZA()),2&V&&(H.Q6J("type",N.type)("ngStyle",N.additionalStyles)("disabled",N.isDisabled)("ngClass",H.VKq(5,W,N.isHidden)),H.xp6(1),H.um2(1,N.iconName?1:-1))},dependencies:[f.ez,f.mk,f.PC],styles:[".icon-right[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{flex-direction:row-reverse}.primary[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{color:#fff;background-color:#6168e4}.primary[_nghost-%COMP%] > .button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#fff}.primary[_nghost-%COMP%] > .button[_ngcontent-%COMP%]:enabled:active{color:#fff;background-color:#5538ee}.primary[_nghost-%COMP%] > .button[_ngcontent-%COMP%]:disabled{background-color:#f2f3f7}.secondary[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{color:#6168e4;border:1px solid #6168e4}.secondary[_nghost-%COMP%] > .button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#6168e4}.secondary[_nghost-%COMP%] > .button[_ngcontent-%COMP%]:enabled:active{color:#5538ee;border-color:#5538ee}.secondary[_nghost-%COMP%] > .button[_ngcontent-%COMP%]:enabled:active   svg[_ngcontent-%COMP%]{stroke:#5538ee}.secondary[_nghost-%COMP%] > .button[_ngcontent-%COMP%]:disabled{border-color:#a5a8ba}.link[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500;height:auto;padding:0;color:#0078ff;line-height:normal}.link[_nghost-%COMP%] > .button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#0078ff}.link[_nghost-%COMP%] > .button[_ngcontent-%COMP%]:enabled:active{color:#0067db}.link[_nghost-%COMP%] > .button[_ngcontent-%COMP%]:enabled:active   svg[_ngcontent-%COMP%]{stroke:#0067db}.rounded[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{border-radius:50%}.small[_nghost-%COMP%] > .button[_ngcontent-%COMP%], .link[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:auto}.small[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{height:40px;padding:10px 16px}.icon-only[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:52px;height:52px;padding:8px}.small.icon-only[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{height:40px;width:40px}[_nghost-%COMP%]   .button[_ngcontent-%COMP%]:disabled{color:#a5a8ba;opacity:.7;cursor:not-allowed}[_nghost-%COMP%]   .button[_ngcontent-%COMP%]:disabled   svg[_ngcontent-%COMP%]{stroke:#a5a8ba}.button[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:600;display:flex;justify-content:center;align-items:center;gap:2px;width:100%;height:52px;padding:16px 48px;text-align:center;line-height:20px;border-radius:8px;cursor:pointer}.button.hidden[_ngcontent-%COMP%]{display:none}"]})}return b})()},7650:(pe,R,S)=>{"use strict";S.d(R,{z:()=>z});var f=S(5678),H=S(6814),k=S(9281),W=S(8954),$=S(7110);function x(F,M){1&F&&(f.TgZ(0,"a",0),f._UZ(1,"img",1),f.qZA())}function b(F,M){if(1&F){const O=f.EpF();f.TgZ(0,"button",2),f.NdJ("click",function(){f.CHM(O);const te=f.oxw();return f.KtG(te.onBack())}),f._UZ(1,"img",3),f.qZA()}}function v(F,M){1&F&&(f.TgZ(0,"a",4),f._UZ(1,"img",5),f.qZA())}let U=(()=>{class F{constructor(){this.back=new f.vpe,this.headerIconType=$.do}onBack(){this.back.emit()}static#e=this.\u0275fac=function(Z){return new(Z||F)};static#t=this.\u0275cmp=f.Xpm({type:F,selectors:[["epm-navigation-icon"]],inputs:{iconType:"iconType"},outputs:{back:"back"},standalone:!0,features:[f.jDz],decls:3,vars:1,consts:[["routerLink","/main/contact"],["src","/assets/icons/logo.svg","height","24","width","24","alt","logo",1,"logo"],[3,"click"],["src","/assets/icons/arrow.svg","height","24","width","24","alt","navigate to previous page"],["routerLink","/"],["src","/assets/icons/close.svg","height","24","width","24","alt","navigate to previous page"]],template:function(Z,te){if(1&Z&&f.YNc(0,x,2,0)(1,b,2,0)(2,v,2,0),2&Z){let ue;f.um2(0,(ue=te.iconType)===te.headerIconType.Logo?0:ue===te.headerIconType.Arrow?1:ue===te.headerIconType.Close?2:-1)}},dependencies:[H.ez,k.rH],styles:[".logo[_ngcontent-%COMP%]{width:24px;height:24px}"]})}return F})();var V=S(5472);let N=(()=>{class F{constructor(){this.logout=new f.vpe,this.myProfileLink=`/${$.zV.Main}/${$.zV.MyProfile}`,this.mainCatalogLink=`/${$.zV.Main}/${$.zV.Contact}`,this.settingsLink=`/${$.zV.Main}/${$.zV.ProfileSettings}`}onLogoutClick(){this.logout.emit()}static#e=this.\u0275fac=function(Z){return new(Z||F)};static#t=this.\u0275cmp=f.Xpm({type:F,selectors:[["epm-header-context-menu"]],outputs:{logout:"logout"},standalone:!0,features:[f.jDz],decls:6,vars:3,consts:[[1,"settings-item","icon-profile",3,"routerLink"],[1,"settings-item","icon-settings",3,"routerLink"],[1,"settings-item","icon-logout",3,"routerLink","click"]],template:function(Z,te){1&Z&&(f.TgZ(0,"a",0),f._uU(1,"Profile"),f.qZA(),f.TgZ(2,"a",1),f._uU(3,"Settings"),f.qZA(),f.TgZ(4,"button",2),f.NdJ("click",function(){return te.onLogoutClick()}),f._uU(5,"Log out"),f.qZA()),2&Z&&(f.Q6J("routerLink",te.myProfileLink),f.xp6(2),f.Q6J("routerLink",te.settingsLink),f.xp6(2),f.Q6J("routerLink",te.mainCatalogLink))},dependencies:[H.ez,k.rH],styles:['[_nghost-%COMP%]{position:absolute;top:58px;right:16px;z-index:100;display:flex;flex-direction:column;width:140px;background-color:#fff;border-radius:8px;box-shadow:0 0 12px 4px #1414140a}.settings-item[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:400;position:relative;padding:8px 8px 8px 40px;font-size:16px;line-height:20px;text-align:start;color:#1f1f26}.settings-item[_ngcontent-%COMP%]:first-child{padding-top:16px}.settings-item[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.settings-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:10px;left:16px;width:16px;height:16px}.settings-item.icon-profile[_ngcontent-%COMP%]:before{top:18px;background-image:url(/assets/icons/person.svg)}.settings-item.icon-settings[_ngcontent-%COMP%]:before{background-image:url(/assets/icons/gear.svg)}.settings-item.icon-logout[_ngcontent-%COMP%]:before{background-image:url(/assets/icons/arrow-out.svg)}']})}return F})();var K=S(9074),Y=S(9045),q=S(9834),X=S(8151);const ne=["settings"];function ge(F,M){if(1&F){const O=f.EpF();f.TgZ(0,"epm-navigation-icon",3),f.NdJ("back",function(){f.CHM(O);const te=f.oxw();return f.KtG(te.back())}),f.qZA()}if(2&F){const O=f.oxw();f.Q6J("iconType",O.headerSettings().leftButton)}}function Se(F,M){if(1&F){const O=f.EpF();f.TgZ(0,"epm-header-context-menu",10),f.NdJ("logout",function(){f.CHM(O);const te=f.oxw(3);return f.KtG(te.onLogoutClick())}),f.qZA()}}const Fe=F=>({new:F}),Be=F=>({selected:F});function _e(F,M){if(1&F){const O=f.EpF();f.TgZ(0,"div",4)(1,"div",5),f.O4$(),f.TgZ(2,"svg",6),f._UZ(3,"use"),f.qZA()(),f.kcU(),f.TgZ(4,"button",7,8),f.NdJ("click",function(){f.CHM(O);const te=f.oxw(2);return f.KtG(te.onSettingsClick())}),f._UZ(6,"img",9),f.ALo(7,"setUserAvatar"),f.YNc(8,Se,1,0,"epm-header-context-menu"),f.qZA()()}if(2&F){const O=f.oxw(2);f.xp6(1),f.Q6J("ngClass",f.VKq(9,Fe,O.newMessage()))("routerLink",O.chatLink)("routerLinkActive","selected"),f.xp6(2),f.uIk("href","/assets/icons/sprite.svg#chat",null,"xlink"),f.xp6(1),f.Q6J("ngClass",f.VKq(11,Be,O.isContextMenuOpen)),f.xp6(2),f.Q6J("src",f.lcZ(7,7,O.currentUser().avatar),f.LSH),f.xp6(2),f.um2(8,O.isContextMenuOpen?8:-1)}}function Le(F,M){if(1&F&&(f.TgZ(0,"epm-button"),f._uU(1,"Skip"),f.qZA()),2&F){const O=f.oxw(2);f.Tol(O.buttonThemes.Link)}}function $e(F,M){if(1&F){const O=f.EpF();f.TgZ(0,"epm-navigation-icon",11),f.NdJ("click",function(){f.CHM(O);const te=f.oxw(2);return f.KtG(te.navigateToMain())}),f.qZA()}if(2&F){const O=f.oxw(2);f.Q6J("iconType",O.headerSettings().right)}}function j(F,M){if(1&F&&f.YNc(0,_e,9,13)(1,Le,2,2)(2,$e,1,1),2&F){const O=f.oxw();let Z;f.um2(0,(Z=O.headerSettings().right)===O.headerRightBlock.StatusBar?0:Z===O.headerRightBlock.Skip?1:Z===O.headerRightBlock.Close?2:-1)}}function B(F,M){if(1&F){const O=f.EpF();f.TgZ(0,"epm-navigation-icon",11),f.NdJ("click",function(){f.CHM(O);const te=f.oxw();return f.KtG(te.navigateToMain())}),f.qZA()}if(2&F){const O=f.oxw();f.Q6J("iconType",O.headerSettings().right)}}function I(F,M){if(1&F&&(f.TgZ(0,"a",12),f._uU(1,"Log in"),f.qZA()),2&F){const O=f.oxw();f.Q6J("routerLink",O.loginLink)}}const J=(F,M)=>({colored:F,shadow:M});let z=(()=>{class F{onClick(O){this.isClickOnSettingsButton(O)||(this.isContextMenuOpen=!1)}onScroll(){this.shouldAddShadow=!this.headerSettings().colored&&window.scrollY>0}constructor(O,Z,te,ue){this.headerService=O,this.apiService=Z,this.cognitoService=te,this.toasterService=ue,this.shouldAddShadow=!1,this.isContextMenuOpen=!1,this.newMessage=(0,f.tdS)(!0),this.headerSettings=this.headerService.headerSettings,this.chatLink=`/${$.zV.Main}/${$.zV.Chat}`,this.loginLink=`/${$.zV.Auth}/${$.zV.LogIn}`,this.buttonThemes=$.uY,this.headerRightBlock=$.jA}ngOnInit(){this.headerService.initSubscription(),this.currentUser=this.apiService.currentUser}back(){this.headerService.back()}navigateToMain(){this.headerService.back()}onSettingsClick(){this.isContextMenuOpen=!this.isContextMenuOpen}onLogoutClick(){this.cognitoService.logout(),this.apiService.clearUserData(),this.toasterService.resetToasterSettings()}isClickOnSettingsButton(O){const Z=O.target;return Z.classList.contains("avatar-wrapper")||Z.classList.contains("avatar")}static#e=this.\u0275fac=function(Z){return new(Z||F)(f.Y36(K.r),f.Y36(Y.s),f.Y36(q.A),f.Y36(X.M))};static#t=this.\u0275cmp=f.Xpm({type:F,selectors:[["epm-header"]],viewQuery:function(Z,te){if(1&Z&&f.Gf(ne,5),2&Z){let ue;f.iGM(ue=f.CRH())&&(te.settings=ue.first)}},hostBindings:function(Z,te){1&Z&&f.NdJ("click",function(be){return te.onClick(be)},!1,f.evT)("scroll",function(){return te.onScroll()},!1,f.Jf7)},standalone:!0,features:[f.jDz],decls:7,vars:7,consts:[[1,"container",3,"ngClass"],[3,"iconType"],[1,"title"],[3,"iconType","back"],[1,"statusBar"],[1,"message",3,"ngClass","routerLink","routerLinkActive"],[1,"icon"],[1,"avatar-wrapper",3,"ngClass","click"],["settings",""],["width","24","height","24","alt","user avatar",1,"avatar",3,"src"],[3,"logout"],[1,"button__right",3,"iconType","click"],[1,"button-link","small","button__right",3,"routerLink"]],template:function(Z,te){1&Z&&(f.TgZ(0,"div",0),f.YNc(1,ge,1,1,"epm-navigation-icon",1),f.TgZ(2,"h2",2),f._uU(3),f.qZA(),f.YNc(4,j,3,1)(5,B,1,1)(6,I,2,1),f.qZA()),2&Z&&(f.Q6J("ngClass",f.WLB(4,J,te.headerSettings().colored,te.shouldAddShadow)),f.xp6(1),f.um2(1,te.headerSettings().leftButton?1:-1),f.xp6(2),f.Oqu(te.headerSettings().title),f.xp6(1),f.um2(4,te.currentUser()?4:"close"===te.headerSettings().right?5:6))},dependencies:[H.ez,H.mk,W.c,k.rH,U,V.D,N,k.Od],styles:['[_nghost-%COMP%]{position:relative;display:flex;height:56px;background-color:#fff}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;transition:box-shadow .3s ease-in-out}.container.shadow[_ngcontent-%COMP%]{box-shadow:0 6px 8px 4px #1414140f}.container.colored[_ngcontent-%COMP%]{background-color:#25286c}.container.colored[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{stroke:#fff}.title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);font-size:16px;font-style:normal;font-weight:600;line-height:1.2}.statusBar[_ngcontent-%COMP%]{display:flex}.message[_ngcontent-%COMP%]{position:relative;width:40px;height:56px;cursor:pointer}.message[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{margin:16px 8px}.message.new[_ngcontent-%COMP%]:before{content:"";position:absolute;top:16px;right:7px;display:block;width:7px;height:7px;border-radius:50%;background-color:#e6674e;box-shadow:0 0 0 1px #e6674e4d}.avatar-wrapper[_ngcontent-%COMP%]{width:44px;height:56px;margin-left:8px;overflow:hidden;cursor:pointer}.avatar-wrapper[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{object-fit:cover;width:28px;height:28px;margin:14px 8px;border:1px solid #f4f4ff;border-radius:50%}.skip[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500;color:#0078ff;cursor:pointer}.selected[_ngcontent-%COMP%]{background-color:#6168e4;border-bottom:solid 4px #9aa0fe}.button__right[_ngcontent-%COMP%]{margin-left:auto}']})}return F})()},3500:(pe,R,S)=>{"use strict";S.d(R,{o:()=>N});var f=S(6814),H=S(95),k=S(7110),W=S(9397),$=S(1993),x=S(5678);const b=["wrapper"],v=["epmInput"];function U(K,Y){if(1&K){const q=x.EpF();x.TgZ(0,"button",5),x.NdJ("click",function(){x.CHM(q);const ne=x.oxw(),ge=x.MAs(3);return x.KtG(ne.onToggleClick(ge.type))}),x._UZ(1,"img",6),x.qZA()}if(2&K){const q=x.oxw(),X=x.MAs(3);x.xp6(1),x.MGl("ngSrc","/assets/icons/password-",X.type===q.inputTypes.Password?"hidden":"visible",".svg")}}const V=(K,Y,q,X,ne,ge)=>({"nested-icon-input":K,filled:Y,"label-password":q,"chat-input":X,masked:ne,masked__filled:ge});let N=(()=>{class K{constructor(q,X){this.cdRef=q,this.destroyRef=X,this.labelPlaceholder="",this.inputPlaceholder=k.Nx.None,this.iconName=k.hQ.none,this.maskPlaceholder=k.Nx.None,this.inputTypes=k.Ar,this.inputPlaceholders=k.Nx}ngOnInit(){if(this.maskConfig){const{symbol:q,quantity:X}=this.maskConfig;this.maskPlaceholder="".padEnd(X,q)}}ngAfterViewInit(){this.wrapperRef.nativeElement.style.setProperty("--before-content",`url(assets/icons/${this.iconName}.svg)`),this.cdRef.detectChanges(),this.maskConfig&&this.setMask()}onToggleClick(q){this.epmInputRef.nativeElement.type=q===this.inputTypes.Password?this.inputTypes.Text:this.inputTypes.Password}setMask(){const q=this.epmInputRef.nativeElement;this.control.valueChanges.pipe((0,W.b)(X=>{const ne=q.selectionStart;this.setInputValue(X);const ge=this.setCursorPosition(ne,X);q.setSelectionRange(ge,ge)}),(0,$.sL)(this.destroyRef)).subscribe()}replaceNonMatching(q,X){return q.replace(new RegExp(`[^${X.source}]`,"g"),"")}setInputValue(q){const{symbol:X,quantity:ne,regExp:ge}=this.maskConfig;let Se=this.replaceNonMatching(q,ge).padEnd(ne,X).slice(0,ne);Se=Se===this.maskPlaceholder?"":Se,this.control.setValue(Se,{emitEvent:!1})}setCursorPosition(q,X){return new RegExp(`^${this.maskConfig?.regExp.source}$`).test(X.charAt(q-1))?q:q-1}static#e=this.\u0275fac=function(X){return new(X||K)(x.Y36(x.sBO),x.Y36(x.ktI))};static#t=this.\u0275cmp=x.Xpm({type:K,selectors:[["epm-input"]],viewQuery:function(X,ne){if(1&X&&(x.Gf(b,5),x.Gf(v,5)),2&X){let ge;x.iGM(ge=x.CRH())&&(ne.wrapperRef=ge.first),x.iGM(ge=x.CRH())&&(ne.epmInputRef=ge.first)}},inputs:{control:"control",labelPlaceholder:"labelPlaceholder",inputPlaceholder:"inputPlaceholder",type:"type",iconName:"iconName",maskConfig:"maskConfig"},standalone:!0,features:[x.jDz],decls:5,vars:14,consts:[[1,"epm-input__wrapper",3,"ngClass"],["wrapper",""],["autocomplete","off",1,"epm-input",3,"type","name","placeholder","formControl"],["epmInput",""],["class","epm-input__toggle-visibility","type","button"],["type","button",1,"epm-input__toggle-visibility",3,"click"],["width","24","height","24","alt","Toggle password visibility icon",1,"epm-input__toggle-visibility--icon",3,"ngSrc"]],template:function(X,ne){if(1&X&&(x.TgZ(0,"label",0,1),x._UZ(2,"input",2,3),x.YNc(4,U,2,1,"button",4),x.qZA()),2&X){const ge=x.MAs(3);x.Q6J("ngClass",x.HTZ(7,V,ne.iconName,ge.value||ge.placeholder,ne.type===ne.inputTypes.Password,ge.placeholder===ne.inputPlaceholders.Chat,ne.maskConfig,ne.maskConfig&&ge.value)),x.uIk("data-placeholder",ne.labelPlaceholder),x.xp6(2),x.Q6J("type",ne.type)("name",ne.control)("placeholder",ne.inputPlaceholder||ne.maskPlaceholder)("formControl",ne.control),x.xp6(2),x.um2(4,ne.type===ne.inputTypes.Password?4:-1)}},dependencies:[f.ez,f.mk,f.Zd,H.UX,H.Fj,H.JJ,H.oH],styles:["[_nghost-%COMP%]{display:inline-block;width:100%}.epm-input[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:400;width:100%;padding:24px 16px 8px;font-size:16px;line-height:20px;color:#1f1f26;border:1px solid #a5a8ba;border-radius:8px}.epm-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#6168e4;box-shadow:0 0 0 1px #6168e4}.epm-input.ng-invalid[_ngcontent-%COMP%]:is(.ng-dirty, .ng-touched)[_ngcontent-%COMP%]{border-color:#e6674e;box-shadow:0 0 0 1px #e6674e}.epm-input__wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;color:#65697e;transition:all .3s}.epm-input__wrapper.nested-icon-input[_ngcontent-%COMP%]{padding-left:38px}.epm-input__wrapper.nested-icon-input[_ngcontent-%COMP%]:before{content:var(--before-content);position:absolute;top:14px;left:0;width:24px;height:24px}.epm-input__wrapper.nested-icon-input[_ngcontent-%COMP%]:after{max-width:calc(100% - 32px);padding-left:38px}.epm-input__wrapper.filled[_ngcontent-%COMP%]:after, .epm-input__wrapper[_ngcontent-%COMP%]:focus-within:after{top:8px;font-size:12px;line-height:12px}.epm-input__wrapper[_ngcontent-%COMP%]:after{font-family:Inter,sans-serif;font-weight:400;content:attr(data-placeholder);position:absolute;display:inline-block;top:16px;left:16px;max-width:calc(100% - 32px);font-size:16px;line-height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none;transition:.3s ease all}.epm-input__wrapper.label-password[_ngcontent-%COMP%]:after{max-width:calc(100% - 64px)}.epm-input__wrapper.label-password[_ngcontent-%COMP%] > .epm-input[_ngcontent-%COMP%]{padding-right:48px}.epm-input__wrapper.chat-input[_ngcontent-%COMP%] > .epm-input[_ngcontent-%COMP%]{padding:8px 12px;height:40px}.epm-input__wrapper.masked[_ngcontent-%COMP%]:after{top:16px;font-size:16px;line-height:20px}.epm-input__wrapper.masked[_ngcontent-%COMP%]:focus-within > .epm-input[_ngcontent-%COMP%]::placeholder{opacity:1}.epm-input__wrapper.masked[_ngcontent-%COMP%]:focus-within:after{top:8px;font-size:12px;line-height:12px}.epm-input__wrapper.masked[_ngcontent-%COMP%] > .epm-input[_ngcontent-%COMP%]{font-variant-numeric:tabular-nums;letter-spacing:2px;font-family:monospace}.epm-input__wrapper.masked[_ngcontent-%COMP%] > .epm-input[_ngcontent-%COMP%]::placeholder{opacity:0;position:relative;font-family:monospace;font-size:16px;line-height:20px;font-weight:400;line-height:1.25}.epm-input__wrapper.masked__filled[_ngcontent-%COMP%]:after, .epm-input__wrapper.masked__filled[_ngcontent-%COMP%]:focus-within:after{top:8px;font-size:12px;line-height:12px}.epm-input__toggle-visibility[_ngcontent-%COMP%]{position:absolute;top:14px;right:14px;width:24px;height:24px}.epm-input__toggle-visibility--icon[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{pointer-events:none}"]})}return K})()},1310:(pe,R,S)=>{"use strict";S.d(R,{N:()=>$});var f=S(6814),H=S(5678),k=S(5323);const W=x=>({show:x});let $=(()=>{class x{constructor(v){this.loaderService=v}ngOnInit(){this.isLoading=this.loaderService.isLoading}static#e=this.\u0275fac=function(U){return new(U||x)(H.Y36(k.D))};static#t=this.\u0275cmp=H.Xpm({type:x,selectors:[["epm-loader"]],inputs:{isTexting:"isTexting"},standalone:!0,features:[H.jDz],decls:1,vars:3,consts:[[1,"dot-flashing",3,"ngClass"]],template:function(U,V){1&U&&H._UZ(0,"div",0),2&U&&H.Q6J("ngClass",H.VKq(1,W,V.isLoading()||V.isTexting))},dependencies:[f.ez,f.mk],styles:['[_nghost-%COMP%]{position:absolute;bottom:40px;left:50%;transform:translate(-50%)}.texting[_nghost-%COMP%]{bottom:auto}.texting[_nghost-%COMP%]   .dot-flashing[_ngcontent-%COMP%], .texting[_nghost-%COMP%]   .dot-flashing[_ngcontent-%COMP%]:before, .texting[_nghost-%COMP%]   .dot-flashing[_ngcontent-%COMP%]:after{background-color:#dbddea;animation-name:_ngcontent-%COMP%_dot-flashing-texting}.dot-flashing[_ngcontent-%COMP%]{display:none;position:relative;width:10px;height:10px;border-radius:5px;background-color:#9aa0fe;animation:_ngcontent-%COMP%_dot-flashing 1s infinite linear alternate;animation-delay:.5s}.dot-flashing.show[_ngcontent-%COMP%]{display:block}.dot-flashing[_ngcontent-%COMP%]:before, .dot-flashing[_ngcontent-%COMP%]:after{content:"";display:inline-block;position:absolute;top:0;width:10px;height:10px;border-radius:5px;background-color:#9aa0fe;animation:_ngcontent-%COMP%_dot-flashing 1s infinite alternate}.dot-flashing[_ngcontent-%COMP%]:before{left:-15px;animation-delay:0s}.dot-flashing[_ngcontent-%COMP%]:after{left:15px;animation-delay:1s}@keyframes _ngcontent-%COMP%_dot-flashing{0%{background-color:#9aa0fe}50%,to{background-color:#9880ff33}}@keyframes _ngcontent-%COMP%_dot-flashing-texting{0%{background-color:#a5a8ba}50%,to{background-color:#dbddea}}']})}return x})()},5472:(pe,R,S)=>{"use strict";S.d(R,{D:()=>k});var f=S(7110),H=S(5678);let k=(()=>{class W{transform(x){return x||f.tU}static#e=this.\u0275fac=function(b){return new(b||W)};static#t=this.\u0275pipe=H.Yjl({name:"setUserAvatar",type:W,pure:!0,standalone:!0})}return W})()},5803:(pe,R,S)=>{"use strict";S.d(R,{F:()=>f});const f=H=>H.replace("-at-","@")},553:(pe,R,S)=>{"use strict";S.d(R,{N:()=>f});const f={production:!1,apiBaseUrl:"https://qgp97hj59a.execute-api.eu-north-1.amazonaws.com/dev",wsUrl:"wss://ba1whhdqjf.execute-api.eu-north-1.amazonaws.com/dev",cognito:{userPoolId:"eu-north-1_Mq4t0VP3C",clientId:"6m221rg3ba64kaq4kna6tvjpcj"}}},9751:(pe,R,S)=>{"use strict";var H=S(9919),k=S(2601),W=S(6243);function x(){return v.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function b(h,s){if(x()<s)throw new RangeError("Invalid typed array length");return v.TYPED_ARRAY_SUPPORT?(h=new Uint8Array(s)).__proto__=v.prototype:(null===h&&(h=new v(s)),h.length=s),h}function v(h,s,a){if(!(v.TYPED_ARRAY_SUPPORT||this instanceof v))return new v(h,s,a);if("number"==typeof h){if("string"==typeof s)throw new Error("If encoding is specified then the first argument must be a string");return K(this,h)}return U(this,h,s,a)}function U(h,s,a,p){if("number"==typeof s)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer?function X(h,s,a,p){if(a<0||s.byteLength<a)throw new RangeError("'offset' is out of bounds");if(s.byteLength<a+(p||0))throw new RangeError("'length' is out of bounds");return s=void 0===a&&void 0===p?new Uint8Array(s):void 0===p?new Uint8Array(s,a):new Uint8Array(s,a,p),v.TYPED_ARRAY_SUPPORT?(h=s).__proto__=v.prototype:h=q(h,s),h}(h,s,a,p):"string"==typeof s?function Y(h,s,a){if(("string"!=typeof a||""===a)&&(a="utf8"),!v.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var p=0|Fe(s,a),C=(h=b(h,p)).write(s,a);return C!==p&&(h=h.slice(0,C)),h}(h,s,a):function ne(h,s){if(v.isBuffer(s)){var a=0|ge(s.length);return 0===(h=b(h,a)).length||s.copy(h,0,0,a),h}if(s){if(typeof ArrayBuffer<"u"&&s.buffer instanceof ArrayBuffer||"length"in s)return"number"!=typeof s.length||function Ze(h){return h!=h}(s.length)?b(h,0):q(h,s);if("Buffer"===s.type&&W(s.data))return q(h,s.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(h,s)}function V(h){if("number"!=typeof h)throw new TypeError('"size" argument must be a number');if(h<0)throw new RangeError('"size" argument must not be negative')}function K(h,s){if(V(s),h=b(h,s<0?0:0|ge(s)),!v.TYPED_ARRAY_SUPPORT)for(var a=0;a<s;++a)h[a]=0;return h}function q(h,s){var a=s.length<0?0:0|ge(s.length);h=b(h,a);for(var p=0;p<a;p+=1)h[p]=255&s[p];return h}function ge(h){if(h>=x())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x().toString(16)+" bytes");return 0|h}function Fe(h,s){if(v.isBuffer(h))return h.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(h)||h instanceof ArrayBuffer))return h.byteLength;"string"!=typeof h&&(h=""+h);var a=h.length;if(0===a)return 0;for(var p=!1;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return Ie(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return Qe(h).length;default:if(p)return Ie(h).length;s=(""+s).toLowerCase(),p=!0}}function Be(h,s,a){var p=!1;if((void 0===s||s<0)&&(s=0),s>this.length||((void 0===a||a>this.length)&&(a=this.length),a<=0)||(a>>>=0)<=(s>>>=0))return"";for(h||(h="utf8");;)switch(h){case"hex":return re(this,s,a);case"utf8":case"utf-8":return O(this,s,a);case"ascii":return ue(this,s,a);case"latin1":case"binary":return be(this,s,a);case"base64":return M(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,s,a);default:if(p)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),p=!0}}function _e(h,s,a){var p=h[s];h[s]=h[a],h[a]=p}function Le(h,s,a,p,C){if(0===h.length)return-1;if("string"==typeof a?(p=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,isNaN(a)&&(a=C?0:h.length-1),a<0&&(a=h.length+a),a>=h.length){if(C)return-1;a=h.length-1}else if(a<0){if(!C)return-1;a=0}if("string"==typeof s&&(s=v.from(s,p)),v.isBuffer(s))return 0===s.length?-1:$e(h,s,a,p,C);if("number"==typeof s)return s&=255,v.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?C?Uint8Array.prototype.indexOf.call(h,s,a):Uint8Array.prototype.lastIndexOf.call(h,s,a):$e(h,[s],a,p,C);throw new TypeError("val must be string, number or Buffer")}function $e(h,s,a,p,C){var we,T=1,P=h.length,fe=s.length;if(void 0!==p&&("ucs2"===(p=String(p).toLowerCase())||"ucs-2"===p||"utf16le"===p||"utf-16le"===p)){if(h.length<2||s.length<2)return-1;T=2,P/=2,fe/=2,a/=2}function ve(St,gt){return 1===T?St[gt]:St.readUInt16BE(gt*T)}if(C){var Me=-1;for(we=a;we<P;we++)if(ve(h,we)===ve(s,-1===Me?0:we-Me)){if(-1===Me&&(Me=we),we-Me+1===fe)return Me*T}else-1!==Me&&(we-=we-Me),Me=-1}else for(a+fe>P&&(a=P-fe),we=a;we>=0;we--){for(var ye=!0,st=0;st<fe;st++)if(ve(h,we+st)!==ve(s,st)){ye=!1;break}if(ye)return we}return-1}function j(h,s,a,p){a=Number(a)||0;var C=h.length-a;p?(p=Number(p))>C&&(p=C):p=C;var T=s.length;if(T%2!=0)throw new TypeError("Invalid hex string");p>T/2&&(p=T/2);for(var P=0;P<p;++P){var fe=parseInt(s.substr(2*P,2),16);if(isNaN(fe))return P;h[a+P]=fe}return P}function B(h,s,a,p){return je(Ie(s,h.length-a),h,a,p)}function I(h,s,a,p){return je(function Ge(h){for(var s=[],a=0;a<h.length;++a)s.push(255&h.charCodeAt(a));return s}(s),h,a,p)}function J(h,s,a,p){return I(h,s,a,p)}function z(h,s,a,p){return je(Qe(s),h,a,p)}function F(h,s,a,p){return je(function Ye(h,s){for(var a,p,T=[],P=0;P<h.length&&!((s-=2)<0);++P)p=(a=h.charCodeAt(P))>>8,T.push(a%256),T.push(p);return T}(s,h.length-a),h,a,p)}function M(h,s,a){return H.fromByteArray(0===s&&a===h.length?h:h.slice(s,a))}function O(h,s,a){a=Math.min(h.length,a);for(var p=[],C=s;C<a;){var ve,we,Me,ye,T=h[C],P=null,fe=T>239?4:T>223?3:T>191?2:1;if(C+fe<=a)switch(fe){case 1:T<128&&(P=T);break;case 2:128==(192&(ve=h[C+1]))&&(ye=(31&T)<<6|63&ve)>127&&(P=ye);break;case 3:we=h[C+2],128==(192&(ve=h[C+1]))&&128==(192&we)&&(ye=(15&T)<<12|(63&ve)<<6|63&we)>2047&&(ye<55296||ye>57343)&&(P=ye);break;case 4:we=h[C+2],Me=h[C+3],128==(192&(ve=h[C+1]))&&128==(192&we)&&128==(192&Me)&&(ye=(15&T)<<18|(63&ve)<<12|(63&we)<<6|63&Me)>65535&&ye<1114112&&(P=ye)}null===P?(P=65533,fe=1):P>65535&&(p.push((P-=65536)>>>10&1023|55296),P=56320|1023&P),p.push(P),C+=fe}return function te(h){var s=h.length;if(s<=Z)return String.fromCharCode.apply(String,h);for(var a="",p=0;p<s;)a+=String.fromCharCode.apply(String,h.slice(p,p+=Z));return a}(p)}R.lW=v,R.h2=50,v.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function $(){try{var h=new Uint8Array(1);return h.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===h.foo()&&"function"==typeof h.subarray&&0===h.subarray(1,1).byteLength}catch{return!1}}(),x(),v.poolSize=8192,v._augment=function(h){return h.__proto__=v.prototype,h},v.from=function(h,s,a){return U(null,h,s,a)},v.TYPED_ARRAY_SUPPORT&&(v.prototype.__proto__=Uint8Array.prototype,v.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&v[Symbol.species]===v&&Object.defineProperty(v,Symbol.species,{value:null,configurable:!0})),v.alloc=function(h,s,a){return function N(h,s,a,p){return V(s),s<=0?b(h,s):void 0!==a?"string"==typeof p?b(h,s).fill(a,p):b(h,s).fill(a):b(h,s)}(null,h,s,a)},v.allocUnsafe=function(h){return K(null,h)},v.allocUnsafeSlow=function(h){return K(null,h)},v.isBuffer=function(s){return!(null==s||!s._isBuffer)},v.compare=function(s,a){if(!v.isBuffer(s)||!v.isBuffer(a))throw new TypeError("Arguments must be Buffers");if(s===a)return 0;for(var p=s.length,C=a.length,T=0,P=Math.min(p,C);T<P;++T)if(s[T]!==a[T]){p=s[T],C=a[T];break}return p<C?-1:C<p?1:0},v.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(s,a){if(!W(s))throw new TypeError('"list" argument must be an Array of Buffers');if(0===s.length)return v.alloc(0);var p;if(void 0===a)for(a=0,p=0;p<s.length;++p)a+=s[p].length;var C=v.allocUnsafe(a),T=0;for(p=0;p<s.length;++p){var P=s[p];if(!v.isBuffer(P))throw new TypeError('"list" argument must be an Array of Buffers');P.copy(C,T),T+=P.length}return C},v.byteLength=Fe,v.prototype._isBuffer=!0,v.prototype.swap16=function(){var s=this.length;if(s%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<s;a+=2)_e(this,a,a+1);return this},v.prototype.swap32=function(){var s=this.length;if(s%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<s;a+=4)_e(this,a,a+3),_e(this,a+1,a+2);return this},v.prototype.swap64=function(){var s=this.length;if(s%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<s;a+=8)_e(this,a,a+7),_e(this,a+1,a+6),_e(this,a+2,a+5),_e(this,a+3,a+4);return this},v.prototype.toString=function(){var s=0|this.length;return 0===s?"":0===arguments.length?O(this,0,s):Be.apply(this,arguments)},v.prototype.equals=function(s){if(!v.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s||0===v.compare(this,s)},v.prototype.inspect=function(){var s="",a=R.h2;return this.length>0&&(s=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(s+=" ... ")),"<Buffer "+s+">"},v.prototype.compare=function(s,a,p,C,T){if(!v.isBuffer(s))throw new TypeError("Argument must be a Buffer");if(void 0===a&&(a=0),void 0===p&&(p=s?s.length:0),void 0===C&&(C=0),void 0===T&&(T=this.length),a<0||p>s.length||C<0||T>this.length)throw new RangeError("out of range index");if(C>=T&&a>=p)return 0;if(C>=T)return-1;if(a>=p)return 1;if(this===s)return 0;for(var P=(T>>>=0)-(C>>>=0),fe=(p>>>=0)-(a>>>=0),ve=Math.min(P,fe),we=this.slice(C,T),Me=s.slice(a,p),ye=0;ye<ve;++ye)if(we[ye]!==Me[ye]){P=we[ye],fe=Me[ye];break}return P<fe?-1:fe<P?1:0},v.prototype.includes=function(s,a,p){return-1!==this.indexOf(s,a,p)},v.prototype.indexOf=function(s,a,p){return Le(this,s,a,p,!0)},v.prototype.lastIndexOf=function(s,a,p){return Le(this,s,a,p,!1)},v.prototype.write=function(s,a,p,C){if(void 0===a)C="utf8",p=this.length,a=0;else if(void 0===p&&"string"==typeof a)C=a,p=this.length,a=0;else{if(!isFinite(a))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");a|=0,isFinite(p)?(p|=0,void 0===C&&(C="utf8")):(C=p,p=void 0)}var T=this.length-a;if((void 0===p||p>T)&&(p=T),s.length>0&&(p<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");for(var P=!1;;)switch(C){case"hex":return j(this,s,a,p);case"utf8":case"utf-8":return B(this,s,a,p);case"ascii":return I(this,s,a,p);case"latin1":case"binary":return J(this,s,a,p);case"base64":return z(this,s,a,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,s,a,p);default:if(P)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),P=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;function ue(h,s,a){var p="";a=Math.min(h.length,a);for(var C=s;C<a;++C)p+=String.fromCharCode(127&h[C]);return p}function be(h,s,a){var p="";a=Math.min(h.length,a);for(var C=s;C<a;++C)p+=String.fromCharCode(h[C]);return p}function re(h,s,a){var p=h.length;(!s||s<0)&&(s=0),(!a||a<0||a>p)&&(a=p);for(var C="",T=s;T<a;++T)C+=Ve(h[T]);return C}function oe(h,s,a){for(var p=h.slice(s,a),C="",T=0;T<p.length;T+=2)C+=String.fromCharCode(p[T]+256*p[T+1]);return C}function ie(h,s,a){if(h%1!=0||h<0)throw new RangeError("offset is not uint");if(h+s>a)throw new RangeError("Trying to access beyond buffer length")}function ce(h,s,a,p,C,T){if(!v.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>C||s<T)throw new RangeError('"value" argument is out of bounds');if(a+p>h.length)throw new RangeError("Index out of range")}function me(h,s,a,p){s<0&&(s=65535+s+1);for(var C=0,T=Math.min(h.length-a,2);C<T;++C)h[a+C]=(s&255<<8*(p?C:1-C))>>>8*(p?C:1-C)}function De(h,s,a,p){s<0&&(s=4294967295+s+1);for(var C=0,T=Math.min(h.length-a,4);C<T;++C)h[a+C]=s>>>8*(p?C:3-C)&255}function le(h,s,a,p,C,T){if(a+p>h.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function xe(h,s,a,p,C){return C||le(h,0,a,4),k.write(h,s,a,p,23,4),a+4}function Ue(h,s,a,p,C){return C||le(h,0,a,8),k.write(h,s,a,p,52,8),a+8}v.prototype.slice=function(s,a){var C,p=this.length;if((s=~~s)<0?(s+=p)<0&&(s=0):s>p&&(s=p),(a=void 0===a?p:~~a)<0?(a+=p)<0&&(a=0):a>p&&(a=p),a<s&&(a=s),v.TYPED_ARRAY_SUPPORT)(C=this.subarray(s,a)).__proto__=v.prototype;else{var T=a-s;C=new v(T,void 0);for(var P=0;P<T;++P)C[P]=this[P+s]}return C},v.prototype.readUIntLE=function(s,a,p){s|=0,a|=0,p||ie(s,a,this.length);for(var C=this[s],T=1,P=0;++P<a&&(T*=256);)C+=this[s+P]*T;return C},v.prototype.readUIntBE=function(s,a,p){s|=0,a|=0,p||ie(s,a,this.length);for(var C=this[s+--a],T=1;a>0&&(T*=256);)C+=this[s+--a]*T;return C},v.prototype.readUInt8=function(s,a){return a||ie(s,1,this.length),this[s]},v.prototype.readUInt16LE=function(s,a){return a||ie(s,2,this.length),this[s]|this[s+1]<<8},v.prototype.readUInt16BE=function(s,a){return a||ie(s,2,this.length),this[s]<<8|this[s+1]},v.prototype.readUInt32LE=function(s,a){return a||ie(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+16777216*this[s+3]},v.prototype.readUInt32BE=function(s,a){return a||ie(s,4,this.length),16777216*this[s]+(this[s+1]<<16|this[s+2]<<8|this[s+3])},v.prototype.readIntLE=function(s,a,p){s|=0,a|=0,p||ie(s,a,this.length);for(var C=this[s],T=1,P=0;++P<a&&(T*=256);)C+=this[s+P]*T;return C>=(T*=128)&&(C-=Math.pow(2,8*a)),C},v.prototype.readIntBE=function(s,a,p){s|=0,a|=0,p||ie(s,a,this.length);for(var C=a,T=1,P=this[s+--C];C>0&&(T*=256);)P+=this[s+--C]*T;return P>=(T*=128)&&(P-=Math.pow(2,8*a)),P},v.prototype.readInt8=function(s,a){return a||ie(s,1,this.length),128&this[s]?-1*(255-this[s]+1):this[s]},v.prototype.readInt16LE=function(s,a){a||ie(s,2,this.length);var p=this[s]|this[s+1]<<8;return 32768&p?4294901760|p:p},v.prototype.readInt16BE=function(s,a){a||ie(s,2,this.length);var p=this[s+1]|this[s]<<8;return 32768&p?4294901760|p:p},v.prototype.readInt32LE=function(s,a){return a||ie(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},v.prototype.readInt32BE=function(s,a){return a||ie(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},v.prototype.readFloatLE=function(s,a){return a||ie(s,4,this.length),k.read(this,s,!0,23,4)},v.prototype.readFloatBE=function(s,a){return a||ie(s,4,this.length),k.read(this,s,!1,23,4)},v.prototype.readDoubleLE=function(s,a){return a||ie(s,8,this.length),k.read(this,s,!0,52,8)},v.prototype.readDoubleBE=function(s,a){return a||ie(s,8,this.length),k.read(this,s,!1,52,8)},v.prototype.writeUIntLE=function(s,a,p,C){s=+s,a|=0,p|=0,C||ce(this,s,a,p,Math.pow(2,8*p)-1,0);var P=1,fe=0;for(this[a]=255&s;++fe<p&&(P*=256);)this[a+fe]=s/P&255;return a+p},v.prototype.writeUIntBE=function(s,a,p,C){s=+s,a|=0,p|=0,C||ce(this,s,a,p,Math.pow(2,8*p)-1,0);var P=p-1,fe=1;for(this[a+P]=255&s;--P>=0&&(fe*=256);)this[a+P]=s/fe&255;return a+p},v.prototype.writeUInt8=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,1,255,0),v.TYPED_ARRAY_SUPPORT||(s=Math.floor(s)),this[a]=255&s,a+1},v.prototype.writeUInt16LE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,2,65535,0),v.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8):me(this,s,a,!0),a+2},v.prototype.writeUInt16BE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,2,65535,0),v.TYPED_ARRAY_SUPPORT?(this[a]=s>>>8,this[a+1]=255&s):me(this,s,a,!1),a+2},v.prototype.writeUInt32LE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,4,4294967295,0),v.TYPED_ARRAY_SUPPORT?(this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=255&s):De(this,s,a,!0),a+4},v.prototype.writeUInt32BE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,4,4294967295,0),v.TYPED_ARRAY_SUPPORT?(this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=255&s):De(this,s,a,!1),a+4},v.prototype.writeIntLE=function(s,a,p,C){if(s=+s,a|=0,!C){var T=Math.pow(2,8*p-1);ce(this,s,a,p,T-1,-T)}var P=0,fe=1,ve=0;for(this[a]=255&s;++P<p&&(fe*=256);)s<0&&0===ve&&0!==this[a+P-1]&&(ve=1),this[a+P]=(s/fe>>0)-ve&255;return a+p},v.prototype.writeIntBE=function(s,a,p,C){if(s=+s,a|=0,!C){var T=Math.pow(2,8*p-1);ce(this,s,a,p,T-1,-T)}var P=p-1,fe=1,ve=0;for(this[a+P]=255&s;--P>=0&&(fe*=256);)s<0&&0===ve&&0!==this[a+P+1]&&(ve=1),this[a+P]=(s/fe>>0)-ve&255;return a+p},v.prototype.writeInt8=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,1,127,-128),v.TYPED_ARRAY_SUPPORT||(s=Math.floor(s)),s<0&&(s=255+s+1),this[a]=255&s,a+1},v.prototype.writeInt16LE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,2,32767,-32768),v.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8):me(this,s,a,!0),a+2},v.prototype.writeInt16BE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,2,32767,-32768),v.TYPED_ARRAY_SUPPORT?(this[a]=s>>>8,this[a+1]=255&s):me(this,s,a,!1),a+2},v.prototype.writeInt32LE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,4,2147483647,-2147483648),v.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24):De(this,s,a,!0),a+4},v.prototype.writeInt32BE=function(s,a,p){return s=+s,a|=0,p||ce(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),v.TYPED_ARRAY_SUPPORT?(this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=255&s):De(this,s,a,!1),a+4},v.prototype.writeFloatLE=function(s,a,p){return xe(this,s,a,!0,p)},v.prototype.writeFloatBE=function(s,a,p){return xe(this,s,a,!1,p)},v.prototype.writeDoubleLE=function(s,a,p){return Ue(this,s,a,!0,p)},v.prototype.writeDoubleBE=function(s,a,p){return Ue(this,s,a,!1,p)},v.prototype.copy=function(s,a,p,C){if(p||(p=0),!C&&0!==C&&(C=this.length),a>=s.length&&(a=s.length),a||(a=0),C>0&&C<p&&(C=p),C===p||0===s.length||0===this.length)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("sourceStart out of bounds");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),s.length-a<C-p&&(C=s.length-a+p);var P,T=C-p;if(this===s&&p<a&&a<C)for(P=T-1;P>=0;--P)s[P+a]=this[P+p];else if(T<1e3||!v.TYPED_ARRAY_SUPPORT)for(P=0;P<T;++P)s[P+a]=this[P+p];else Uint8Array.prototype.set.call(s,this.subarray(p,p+T),a);return T},v.prototype.fill=function(s,a,p,C){if("string"==typeof s){if("string"==typeof a?(C=a,a=0,p=this.length):"string"==typeof p&&(C=p,p=this.length),1===s.length){var T=s.charCodeAt(0);T<256&&(s=T)}if(void 0!==C&&"string"!=typeof C)throw new TypeError("encoding must be a string");if("string"==typeof C&&!v.isEncoding(C))throw new TypeError("Unknown encoding: "+C)}else"number"==typeof s&&(s&=255);if(a<0||this.length<a||this.length<p)throw new RangeError("Out of range index");if(p<=a)return this;var P;if(a>>>=0,p=void 0===p?this.length:p>>>0,s||(s=0),"number"==typeof s)for(P=a;P<p;++P)this[P]=s;else{var fe=v.isBuffer(s)?s:Ie(new v(s,C).toString()),ve=fe.length;for(P=0;P<p-a;++P)this[P+a]=fe[P%ve]}return this};var Pe=/[^+\/0-9A-Za-z-_]/g;function Ve(h){return h<16?"0"+h.toString(16):h.toString(16)}function Ie(h,s){s=s||1/0;for(var a,p=h.length,C=null,T=[],P=0;P<p;++P){if((a=h.charCodeAt(P))>55295&&a<57344){if(!C){if(a>56319){(s-=3)>-1&&T.push(239,191,189);continue}if(P+1===p){(s-=3)>-1&&T.push(239,191,189);continue}C=a;continue}if(a<56320){(s-=3)>-1&&T.push(239,191,189),C=a;continue}a=65536+(C-55296<<10|a-56320)}else C&&(s-=3)>-1&&T.push(239,191,189);if(C=null,a<128){if((s-=1)<0)break;T.push(a)}else if(a<2048){if((s-=2)<0)break;T.push(a>>6|192,63&a|128)}else if(a<65536){if((s-=3)<0)break;T.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((s-=4)<0)break;T.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return T}function Qe(h){return H.toByteArray(function Re(h){if((h=function Ne(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}(h).replace(Pe,"")).length<2)return"";for(;h.length%4!=0;)h+="=";return h}(h))}function je(h,s,a,p){for(var C=0;C<p&&!(C+a>=s.length||C>=h.length);++C)s[C+a]=h[C];return C}},9919:(pe,R)=>{"use strict";R.byteLength=function b(Y){var q=x(Y),ne=q[1];return 3*(q[0]+ne)/4-ne},R.toByteArray=function U(Y){var q,_e,X=x(Y),ne=X[0],ge=X[1],Se=new H(function v(Y,q,X){return 3*(q+X)/4-X}(0,ne,ge)),Fe=0,Be=ge>0?ne-4:ne;for(_e=0;_e<Be;_e+=4)q=f[Y.charCodeAt(_e)]<<18|f[Y.charCodeAt(_e+1)]<<12|f[Y.charCodeAt(_e+2)]<<6|f[Y.charCodeAt(_e+3)],Se[Fe++]=q>>16&255,Se[Fe++]=q>>8&255,Se[Fe++]=255&q;return 2===ge&&(q=f[Y.charCodeAt(_e)]<<2|f[Y.charCodeAt(_e+1)]>>4,Se[Fe++]=255&q),1===ge&&(q=f[Y.charCodeAt(_e)]<<10|f[Y.charCodeAt(_e+1)]<<4|f[Y.charCodeAt(_e+2)]>>2,Se[Fe++]=q>>8&255,Se[Fe++]=255&q),Se},R.fromByteArray=function K(Y){for(var q,X=Y.length,ne=X%3,ge=[],Fe=0,Be=X-ne;Fe<Be;Fe+=16383)ge.push(N(Y,Fe,Fe+16383>Be?Be:Fe+16383));return 1===ne?ge.push(S[(q=Y[X-1])>>2]+S[q<<4&63]+"=="):2===ne&&ge.push(S[(q=(Y[X-2]<<8)+Y[X-1])>>10]+S[q>>4&63]+S[q<<2&63]+"="),ge.join("")};for(var S=[],f=[],H=typeof Uint8Array<"u"?Uint8Array:Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W=0;W<64;++W)S[W]=k[W],f[k.charCodeAt(W)]=W;function x(Y){var q=Y.length;if(q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var X=Y.indexOf("=");return-1===X&&(X=q),[X,X===q?0:4-X%4]}function V(Y){return S[Y>>18&63]+S[Y>>12&63]+S[Y>>6&63]+S[63&Y]}function N(Y,q,X){for(var ge=[],Se=q;Se<X;Se+=3)ge.push(V((Y[Se]<<16&16711680)+(Y[Se+1]<<8&65280)+(255&Y[Se+2])));return ge.join("")}f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},6600:(pe,R)=>{"use strict";R.Q=function k(x,b){if("string"!=typeof x)throw new TypeError("argument str must be a string");for(var v={},U=b||{},V=x.split(";"),N=U.decode||S,K=0;K<V.length;K++){var Y=V[K],q=Y.indexOf("=");if(!(q<0)){var X=Y.substring(0,q).trim();if(null==v[X]){var ne=Y.substring(q+1,Y.length).trim();'"'===ne[0]&&(ne=ne.slice(1,-1)),v[X]=$(ne,N)}}}return v},R.q=function W(x,b,v){var U=v||{},V=U.encode||f;if("function"!=typeof V)throw new TypeError("option encode is invalid");if(!H.test(x))throw new TypeError("argument name is invalid");var N=V(b);if(N&&!H.test(N))throw new TypeError("argument val is invalid");var K=x+"="+N;if(null!=U.maxAge){var Y=U.maxAge-0;if(isNaN(Y)||!isFinite(Y))throw new TypeError("option maxAge is invalid");K+="; Max-Age="+Math.floor(Y)}if(U.domain){if(!H.test(U.domain))throw new TypeError("option domain is invalid");K+="; Domain="+U.domain}if(U.path){if(!H.test(U.path))throw new TypeError("option path is invalid");K+="; Path="+U.path}if(U.expires){if("function"!=typeof U.expires.toUTCString)throw new TypeError("option expires is invalid");K+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(K+="; HttpOnly"),U.secure&&(K+="; Secure"),U.sameSite)switch("string"==typeof U.sameSite?U.sameSite.toLowerCase():U.sameSite){case!0:K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"strict":K+="; SameSite=Strict";break;case"none":K+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return K};var S=decodeURIComponent,f=encodeURIComponent,H=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function $(x,b){try{return b(x)}catch{return x}}},2601:(pe,R)=>{R.read=function(S,f,H,k,W){var $,x,b=8*W-k-1,v=(1<<b)-1,U=v>>1,V=-7,N=H?W-1:0,K=H?-1:1,Y=S[f+N];for(N+=K,$=Y&(1<<-V)-1,Y>>=-V,V+=b;V>0;$=256*$+S[f+N],N+=K,V-=8);for(x=$&(1<<-V)-1,$>>=-V,V+=k;V>0;x=256*x+S[f+N],N+=K,V-=8);if(0===$)$=1-U;else{if($===v)return x?NaN:1/0*(Y?-1:1);x+=Math.pow(2,k),$-=U}return(Y?-1:1)*x*Math.pow(2,$-k)},R.write=function(S,f,H,k,W,$){var x,b,v,U=8*$-W-1,V=(1<<U)-1,N=V>>1,K=23===W?Math.pow(2,-24)-Math.pow(2,-77):0,Y=k?0:$-1,q=k?1:-1,X=f<0||0===f&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(b=isNaN(f)?1:0,x=V):(x=Math.floor(Math.log(f)/Math.LN2),f*(v=Math.pow(2,-x))<1&&(x--,v*=2),(f+=x+N>=1?K/v:K*Math.pow(2,1-N))*v>=2&&(x++,v/=2),x+N>=V?(b=0,x=V):x+N>=1?(b=(f*v-1)*Math.pow(2,W),x+=N):(b=f*Math.pow(2,N-1)*Math.pow(2,W),x=0));W>=8;S[H+Y]=255&b,Y+=q,b/=256,W-=8);for(x=x<<W|b,U+=W;U>0;S[H+Y]=255&x,Y+=q,x/=256,U-=8);S[H+Y-q]|=128*X}},6243:pe=>{var R={}.toString;pe.exports=Array.isArray||function(S){return"[object Array]"==R.call(S)}},9557:(pe,R,S)=>{pe.exports=self.fetch||(self.fetch=S(8456).default||S(8456))},1148:(pe,R,S)=>{var f,H,k;void 0!==(H="function"==typeof(f=k=function(){function k(){for(var x=0,b={};x<arguments.length;x++){var v=arguments[x];for(var U in v)b[U]=v[U]}return b}function W(x){return x.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function $(x){function b(){}function v(V,N,K){if(!(typeof document>"u")){"number"==typeof(K=k({path:"/"},b.defaults,K)).expires&&(K.expires=new Date(1*new Date+864e5*K.expires)),K.expires=K.expires?K.expires.toUTCString():"";try{var Y=JSON.stringify(N);/^[\{\[]/.test(Y)&&(N=Y)}catch{}N=x.write?x.write(N,V):encodeURIComponent(String(N)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),V=encodeURIComponent(String(V)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var q="";for(var X in K)K[X]&&(q+="; "+X,!0!==K[X]&&(q+="="+K[X].split(";")[0]));return document.cookie=V+"="+N+q}}function U(V,N){if(!(typeof document>"u")){for(var K={},Y=document.cookie?document.cookie.split("; "):[],q=0;q<Y.length;q++){var X=Y[q].split("="),ne=X.slice(1).join("=");!N&&'"'===ne.charAt(0)&&(ne=ne.slice(1,-1));try{var ge=W(X[0]);if(ne=(x.read||x)(ne,ge)||W(ne),N)try{ne=JSON.parse(ne)}catch{}if(K[ge]=ne,V===ge)break}catch{}}return V?K[V]:K}}return b.set=v,b.get=function(V){return U(V,!1)},b.getJSON=function(V){return U(V,!0)},b.remove=function(V,N){v(V,"",k(N,{expires:-1}))},b.defaults={},b.withConverter=$,b}(function(){})})?f.call(R,S,R,pe):f)&&(pe.exports=H),pe.exports=k()},303:pe=>{"use strict";function R(S,f){return Object.prototype.hasOwnProperty.call(S,f)}pe.exports=function(S,f,H,k){H=H||"=";var W={};if("string"!=typeof S||0===S.length)return W;var $=/\+/g;S=S.split(f=f||"&");var x=1e3;k&&"number"==typeof k.maxKeys&&(x=k.maxKeys);var b=S.length;x>0&&b>x&&(b=x);for(var v=0;v<b;++v){var N,K,Y,q,U=S[v].replace($,"%20"),V=U.indexOf(H);V>=0?(N=U.substr(0,V),K=U.substr(V+1)):(N=U,K=""),Y=decodeURIComponent(N),q=decodeURIComponent(K),R(W,Y)?Array.isArray(W[Y])?W[Y].push(q):W[Y]=[W[Y],q]:W[Y]=q}return W}},7731:pe=>{"use strict";var R=function(S){switch(typeof S){case"string":return S;case"boolean":return S?"true":"false";case"number":return isFinite(S)?S:"";default:return""}};pe.exports=function(S,f,H,k){return f=f||"&",H=H||"=",null===S&&(S=void 0),"object"==typeof S?Object.keys(S).map(function(W){var $=encodeURIComponent(R(W))+H;return Array.isArray(S[W])?S[W].map(function(x){return $+encodeURIComponent(R(x))}).join(f):$+encodeURIComponent(R(S[W]))}).join(f):k?encodeURIComponent(R(k))+H+encodeURIComponent(R(S)):""}},5568:(pe,R,S)=>{"use strict";R.decode=R.parse=S(303),R.encode=R.stringify=S(7731)},4825:(pe,R,S)=>{"use strict";S.d(R,{H:()=>$});var f=S(5592),H=S(6321),k=S(671);function $(x=0,b,v=H.P){let U=-1;return null!=b&&((0,k.K)(b)?v=b:U=b),new f.y(V=>{let N=function W(x){return x instanceof Date&&!isNaN(x)}(x)?+x-v.now():x;N<0&&(N=0);let K=0;return v.schedule(function(){V.closed||(V.next(K++),0<=U?this.schedule(void 0,U):V.complete())},N)})}},9694:(pe,R,S)=>{"use strict";S.d(R,{j:()=>V});var f=S(5211),H=S(8180),k=S(9360),W=S(8251),$=S(2420),b=S(975),v=S(1631),U=S(4829);function V(N,K){return K?Y=>(0,f.z)(K.pipe((0,H.q)(1),function x(){return(0,k.e)((N,K)=>{N.subscribe((0,W.x)(K,$.Z))})}()),Y.pipe(V(N))):(0,v.z)((Y,q)=>(0,U.Xf)(N(Y,q)).pipe((0,H.q)(1),(0,b.h)(Y)))}},1954:(pe,R,S)=>{"use strict";S.d(R,{o:()=>$});var f=S(7394);class H extends f.w0{constructor(b,v){super()}schedule(b,v=0){return this}}const k={setInterval(x,b,...v){const{delegate:U}=k;return U?.setInterval?U.setInterval(x,b,...v):setInterval(x,b,...v)},clearInterval(x){const{delegate:b}=k;return(b?.clearInterval||clearInterval)(x)},delegate:void 0};var W=S(9039);class $ extends H{constructor(b,v){super(b,v),this.scheduler=b,this.work=v,this.pending=!1}schedule(b,v=0){var U;if(this.closed)return this;this.state=b;const V=this.id,N=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(N,V,v)),this.pending=!0,this.delay=v,this.id=null!==(U=this.id)&&void 0!==U?U:this.requestAsyncId(N,this.id,v),this}requestAsyncId(b,v,U=0){return k.setInterval(b.flush.bind(b,this),U)}recycleAsyncId(b,v,U=0){if(null!=U&&this.delay===U&&!1===this.pending)return v;null!=v&&k.clearInterval(v)}execute(b,v){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const U=this._execute(b,v);if(U)return U;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(b,v){let V,U=!1;try{this.work(b)}catch(N){U=!0,V=N||new Error("Scheduled action threw falsy error")}if(U)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:b,scheduler:v}=this,{actions:U}=v;this.work=this.state=this.scheduler=null,this.pending=!1,(0,W.P)(U,this),null!=b&&(this.id=this.recycleAsyncId(v,b,null)),this.delay=null,super.unsubscribe()}}}},2631:(pe,R,S)=>{"use strict";S.d(R,{v:()=>k});var f=S(4552);class H{constructor($,x=H.now){this.schedulerActionCtor=$,this.now=x}schedule($,x=0,b){return new this.schedulerActionCtor(this,$).schedule(b,x)}}H.now=f.l.now;class k extends H{constructor($,x=H.now){super($,x),this.actions=[],this._active=!1}flush($){const{actions:x}=this;if(this._active)return void x.push($);let b;this._active=!0;do{if(b=$.execute($.state,$.delay))break}while($=x.shift());if(this._active=!1,b){for(;$=x.shift();)$.unsubscribe();throw b}}}},6321:(pe,R,S)=>{"use strict";S.d(R,{P:()=>W,z:()=>k});var f=S(1954);const k=new(S(2631).v)(f.o),W=k},4552:(pe,R,S)=>{"use strict";S.d(R,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},8456:(pe,R,S)=>{"use strict";function f(H,k){return k=k||{},new Promise(function(W,$){var x=new XMLHttpRequest,b=[],v=[],U={},V=function(){return{ok:2==(x.status/100|0),statusText:x.statusText,status:x.status,url:x.responseURL,text:function(){return Promise.resolve(x.responseText)},json:function(){return Promise.resolve(x.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([x.response]))},clone:V,headers:{keys:function(){return b},entries:function(){return v},get:function(K){return U[K.toLowerCase()]},has:function(K){return K.toLowerCase()in U}}}};for(var N in x.open(k.method||"get",H,!0),x.onload=function(){x.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(K,Y,q){b.push(Y=Y.toLowerCase()),v.push([Y,q]),U[Y]=U[Y]?U[Y]+","+q:q}),W(V())},x.onerror=$,x.withCredentials="include"==k.credentials,k.headers)x.setRequestHeader(N,k.headers[N]);x.send(k.body||null)})}S.r(R),S.d(R,{default:()=>f})},6630:function(pe,R,S){var f;pe=S.nmd(pe),function(H){"object"==typeof global&&global;var x,b=2147483647,v=36,V=26,N=38,K=700,ne=/^xn--/,ge=/[^\x20-\x7E]/,Se=/[\x2E\u3002\uFF0E\uFF61]/g,Fe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Be=v-1,_e=Math.floor,Le=String.fromCharCode;function j(re){throw RangeError(Fe[re])}function B(re,oe){for(var ie=re.length,ce=[];ie--;)ce[ie]=oe(re[ie]);return ce}function I(re,oe){var ie=re.split("@"),ce="";return ie.length>1&&(ce=ie[0]+"@",re=ie[1]),ce+B((re=re.replace(Se,".")).split("."),oe).join(".")}function J(re){for(var me,De,oe=[],ie=0,ce=re.length;ie<ce;)(me=re.charCodeAt(ie++))>=55296&&me<=56319&&ie<ce?56320==(64512&(De=re.charCodeAt(ie++)))?oe.push(((1023&me)<<10)+(1023&De)+65536):(oe.push(me),ie--):oe.push(me);return oe}function z(re){return B(re,function(oe){var ie="";return oe>65535&&(ie+=Le((oe-=65536)>>>10&1023|55296),oe=56320|1023&oe),ie+Le(oe)}).join("")}function F(re){return re-48<10?re-22:re-65<26?re-65:re-97<26?re-97:v}function M(re,oe){return re+22+75*(re<26)-((0!=oe)<<5)}function O(re,oe,ie){var ce=0;for(re=ie?_e(re/K):re>>1,re+=_e(re/oe);re>Be*V>>1;ce+=v)re=_e(re/Be);return _e(ce+(Be+1)*re/(re+N))}function Z(re){var ce,xe,Ue,Pe,Re,Ne,Ve,Ie,Ge,Ye,oe=[],ie=re.length,me=0,De=128,le=72;for((xe=re.lastIndexOf("-"))<0&&(xe=0),Ue=0;Ue<xe;++Ue)re.charCodeAt(Ue)>=128&&j("not-basic"),oe.push(re.charCodeAt(Ue));for(Pe=xe>0?xe+1:0;Pe<ie;){for(Re=me,Ne=1,Ve=v;Pe>=ie&&j("invalid-input"),((Ie=F(re.charCodeAt(Pe++)))>=v||Ie>_e((b-me)/Ne))&&j("overflow"),me+=Ie*Ne,!(Ie<(Ge=Ve<=le?1:Ve>=le+V?V:Ve-le));Ve+=v)Ne>_e(b/(Ye=v-Ge))&&j("overflow"),Ne*=Ye;le=O(me-Re,ce=oe.length+1,0==Re),_e(me/ce)>b-De&&j("overflow"),De+=_e(me/ce),me%=ce,oe.splice(me++,0,De)}return z(oe)}function te(re){var oe,ie,ce,me,De,le,xe,Ue,Pe,Re,Ne,Ie,Ge,Ye,Qe,Ve=[];for(Ie=(re=J(re)).length,oe=128,ie=0,De=72,le=0;le<Ie;++le)(Ne=re[le])<128&&Ve.push(Le(Ne));for(ce=me=Ve.length,me&&Ve.push("-");ce<Ie;){for(xe=b,le=0;le<Ie;++le)(Ne=re[le])>=oe&&Ne<xe&&(xe=Ne);for(xe-oe>_e((b-ie)/(Ge=ce+1))&&j("overflow"),ie+=(xe-oe)*Ge,oe=xe,le=0;le<Ie;++le)if((Ne=re[le])<oe&&++ie>b&&j("overflow"),Ne==oe){for(Ue=ie,Pe=v;!(Ue<(Re=Pe<=De?1:Pe>=De+V?V:Pe-De));Pe+=v)Ve.push(Le(M(Re+(Qe=Ue-Re)%(Ye=v-Re),0))),Ue=_e(Qe/Ye);Ve.push(Le(M(Ue,0))),De=O(ie,Ge,ce==me),ie=0,++ce}++ie,++oe}return Ve.join("")}x={version:"1.3.2",ucs2:{decode:J,encode:z},decode:Z,encode:te,toASCII:function be(re){return I(re,function(oe){return ge.test(oe)?"xn--"+te(oe):oe})},toUnicode:function ue(re){return I(re,function(oe){return ne.test(oe)?Z(oe.slice(4).toLowerCase()):oe})}},void 0!==(f=function(){return x}.call(R,S,R,pe))&&(pe.exports=f)}()},2445:(pe,R,S)=>{"use strict";var H=S(6630),k=S(1691);function W(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}R.Qc=Be;var $=/^([a-z0-9.+-]+:)/i,x=/:[0-9]*$/,b=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,U=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),V=["'"].concat(U),N=["%","/","?",";","#"].concat(V),K=["/","?","#"],q=/^[+a-z0-9A-Z_-]{0,63}$/,X=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ne={javascript:!0,"javascript:":!0},ge={javascript:!0,"javascript:":!0},Se={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Fe=S(5568);function Be(j,B,I){if(j&&k.isObject(j)&&j instanceof W)return j;var J=new W;return J.parse(j,B,I),J}W.prototype.parse=function(j,B,I){if(!k.isString(j))throw new TypeError("Parameter 'url' must be a string, not "+typeof j);var J=j.indexOf("?"),z=-1!==J&&J<j.indexOf("#")?"?":"#",F=j.split(z);F[0]=F[0].replace(/\\/g,"/");var O=j=F.join(z);if(O=O.trim(),!I&&1===j.split("#").length){var Z=b.exec(O);if(Z)return this.path=O,this.href=O,this.pathname=Z[1],Z[2]?(this.search=Z[2],this.query=B?Fe.parse(this.search.substr(1)):this.search.substr(1)):B&&(this.search="",this.query={}),this}var te=$.exec(O);if(te){var ue=(te=te[0]).toLowerCase();this.protocol=ue,O=O.substr(te.length)}if(I||te||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var be="//"===O.substr(0,2);be&&(!te||!ge[te])&&(O=O.substr(2),this.slashes=!0)}if(!ge[te]&&(be||te&&!Se[te])){for(var re=-1,oe=0;oe<K.length;oe++)-1!==(ie=O.indexOf(K[oe]))&&(-1===re||ie<re)&&(re=ie);var ce,me;for(-1!==(me=-1===re?O.lastIndexOf("@"):O.lastIndexOf("@",re))&&(ce=O.slice(0,me),O=O.slice(me+1),this.auth=decodeURIComponent(ce)),re=-1,oe=0;oe<N.length;oe++){var ie;-1!==(ie=O.indexOf(N[oe]))&&(-1===re||ie<re)&&(re=ie)}-1===re&&(re=O.length),this.host=O.slice(0,re),O=O.slice(re),this.parseHost(),this.hostname=this.hostname||"";var De="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!De)for(var le=this.hostname.split(/\./),xe=(oe=0,le.length);oe<xe;oe++){var Ue=le[oe];if(Ue&&!Ue.match(q)){for(var Pe="",Re=0,Ne=Ue.length;Re<Ne;Re++)Ue.charCodeAt(Re)>127?Pe+="x":Pe+=Ue[Re];if(!Pe.match(q)){var Ve=le.slice(0,oe),Ie=le.slice(oe+1),Ge=Ue.match(X);Ge&&(Ve.push(Ge[1]),Ie.unshift(Ge[2])),Ie.length&&(O="/"+Ie.join(".")+O),this.hostname=Ve.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),De||(this.hostname=H.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,De&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==O[0]&&(O="/"+O))}if(!ne[ue])for(oe=0,xe=V.length;oe<xe;oe++){var je=V[oe];if(-1!==O.indexOf(je)){var Ze=encodeURIComponent(je);Ze===je&&(Ze=escape(je)),O=O.split(je).join(Ze)}}var h=O.indexOf("#");-1!==h&&(this.hash=O.substr(h),O=O.slice(0,h));var s=O.indexOf("?");return-1!==s?(this.search=O.substr(s),this.query=O.substr(s+1),B&&(this.query=Fe.parse(this.query)),O=O.slice(0,s)):B&&(this.search="",this.query={}),O&&(this.pathname=O),Se[ue]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},W.prototype.format=function(){var j=this.auth||"";j&&(j=(j=encodeURIComponent(j)).replace(/%3A/i,":"),j+="@");var B=this.protocol||"",I=this.pathname||"",J=this.hash||"",z=!1,F="";this.host?z=j+this.host:this.hostname&&(z=j+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(z+=":"+this.port)),this.query&&k.isObject(this.query)&&Object.keys(this.query).length&&(F=Fe.stringify(this.query));var M=this.search||F&&"?"+F||"";return B&&":"!==B.substr(-1)&&(B+=":"),this.slashes||(!B||Se[B])&&!1!==z?(z="//"+(z||""),I&&"/"!==I.charAt(0)&&(I="/"+I)):z||(z=""),J&&"#"!==J.charAt(0)&&(J="#"+J),M&&"?"!==M.charAt(0)&&(M="?"+M),B+z+(I=I.replace(/[?#]/g,function(O){return encodeURIComponent(O)}))+(M=M.replace("#","%23"))+J},W.prototype.resolve=function(j){return this.resolveObject(Be(j,!1,!0)).format()},W.prototype.resolveObject=function(j){if(k.isString(j)){var B=new W;B.parse(j,!1,!0),j=B}for(var I=new W,J=Object.keys(this),z=0;z<J.length;z++){var F=J[z];I[F]=this[F]}if(I.hash=j.hash,""===j.href)return I.href=I.format(),I;if(j.slashes&&!j.protocol){for(var M=Object.keys(j),O=0;O<M.length;O++){var Z=M[O];"protocol"!==Z&&(I[Z]=j[Z])}return Se[I.protocol]&&I.hostname&&!I.pathname&&(I.path=I.pathname="/"),I.href=I.format(),I}if(j.protocol&&j.protocol!==I.protocol){if(!Se[j.protocol]){for(var te=Object.keys(j),ue=0;ue<te.length;ue++){var be=te[ue];I[be]=j[be]}return I.href=I.format(),I}if(I.protocol=j.protocol,j.host||ge[j.protocol])I.pathname=j.pathname;else{for(var xe=(j.pathname||"").split("/");xe.length&&!(j.host=xe.shift()););j.host||(j.host=""),j.hostname||(j.hostname=""),""!==xe[0]&&xe.unshift(""),xe.length<2&&xe.unshift(""),I.pathname=xe.join("/")}return I.search=j.search,I.query=j.query,I.host=j.host||"",I.auth=j.auth,I.hostname=j.hostname||j.host,I.port=j.port,(I.pathname||I.search)&&(I.path=(I.pathname||"")+(I.search||"")),I.slashes=I.slashes||j.slashes,I.href=I.format(),I}var ie=I.pathname&&"/"===I.pathname.charAt(0),ce=j.host||j.pathname&&"/"===j.pathname.charAt(0),me=ce||ie||I.host&&j.pathname,De=me,le=I.pathname&&I.pathname.split("/")||[],Ue=(xe=j.pathname&&j.pathname.split("/")||[],I.protocol&&!Se[I.protocol]);if(Ue&&(I.hostname="",I.port=null,I.host&&(""===le[0]?le[0]=I.host:le.unshift(I.host)),I.host="",j.protocol&&(j.hostname=null,j.port=null,j.host&&(""===xe[0]?xe[0]=j.host:xe.unshift(j.host)),j.host=null),me=me&&(""===xe[0]||""===le[0])),ce)I.host=j.host||""===j.host?j.host:I.host,I.hostname=j.hostname||""===j.hostname?j.hostname:I.hostname,I.search=j.search,I.query=j.query,le=xe;else if(xe.length)le||(le=[]),le.pop(),le=le.concat(xe),I.search=j.search,I.query=j.query;else if(!k.isNullOrUndefined(j.search))return Ue&&(I.hostname=I.host=le.shift(),(Pe=!!(I.host&&I.host.indexOf("@")>0)&&I.host.split("@"))&&(I.auth=Pe.shift(),I.host=I.hostname=Pe.shift())),I.search=j.search,I.query=j.query,(!k.isNull(I.pathname)||!k.isNull(I.search))&&(I.path=(I.pathname?I.pathname:"")+(I.search?I.search:"")),I.href=I.format(),I;if(!le.length)return I.pathname=null,I.path=I.search?"/"+I.search:null,I.href=I.format(),I;for(var Re=le.slice(-1)[0],Ne=(I.host||j.host||le.length>1)&&("."===Re||".."===Re)||""===Re,Ve=0,Ie=le.length;Ie>=0;Ie--)"."===(Re=le[Ie])?le.splice(Ie,1):".."===Re?(le.splice(Ie,1),Ve++):Ve&&(le.splice(Ie,1),Ve--);if(!me&&!De)for(;Ve--;Ve)le.unshift("..");me&&""!==le[0]&&(!le[0]||"/"!==le[0].charAt(0))&&le.unshift(""),Ne&&"/"!==le.join("/").substr(-1)&&le.push("");var Pe,Ge=""===le[0]||le[0]&&"/"===le[0].charAt(0);return Ue&&(I.hostname=I.host=Ge?"":le.length?le.shift():"",(Pe=!!(I.host&&I.host.indexOf("@")>0)&&I.host.split("@"))&&(I.auth=Pe.shift(),I.host=I.hostname=Pe.shift())),(me=me||I.host&&le.length)&&!Ge&&le.unshift(""),le.length?I.pathname=le.join("/"):(I.pathname=null,I.path=null),(!k.isNull(I.pathname)||!k.isNull(I.search))&&(I.path=(I.pathname?I.pathname:"")+(I.search?I.search:"")),I.auth=j.auth||I.auth,I.slashes=I.slashes||j.slashes,I.href=I.format(),I},W.prototype.parseHost=function(){var j=this.host,B=x.exec(j);B&&(":"!==(B=B[0])&&(this.port=B.substr(1)),j=j.substr(0,j.length-B.length)),j&&(this.hostname=j)}},1691:pe=>{"use strict";pe.exports={isString:function(R){return"string"==typeof R},isObject:function(R){return"object"==typeof R&&null!==R},isNull:function(R){return null===R},isNullOrUndefined:function(R){return null==R}}},3541:(pe,R,S)=>{"use strict";S.r(R),S.d(R,{__assign:()=>k,__asyncDelegator:()=>Se,__asyncGenerator:()=>ge,__asyncValues:()=>Fe,__await:()=>ne,__awaiter:()=>v,__classPrivateFieldGet:()=>$e,__classPrivateFieldSet:()=>j,__createBinding:()=>V,__decorate:()=>$,__exportStar:()=>N,__extends:()=>H,__generator:()=>U,__importDefault:()=>Le,__importStar:()=>_e,__makeTemplateObject:()=>Be,__metadata:()=>b,__param:()=>x,__read:()=>Y,__rest:()=>W,__spread:()=>q,__spreadArrays:()=>X,__values:()=>K});var f=function(B,I){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,z){J.__proto__=z}||function(J,z){for(var F in z)z.hasOwnProperty(F)&&(J[F]=z[F])})(B,I)};function H(B,I){function J(){this.constructor=B}f(B,I),B.prototype=null===I?Object.create(I):(J.prototype=I.prototype,new J)}var k=function(){return k=Object.assign||function(I){for(var J,z=1,F=arguments.length;z<F;z++)for(var M in J=arguments[z])Object.prototype.hasOwnProperty.call(J,M)&&(I[M]=J[M]);return I},k.apply(this,arguments)};function W(B,I){var J={};for(var z in B)Object.prototype.hasOwnProperty.call(B,z)&&I.indexOf(z)<0&&(J[z]=B[z]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var F=0;for(z=Object.getOwnPropertySymbols(B);F<z.length;F++)I.indexOf(z[F])<0&&Object.prototype.propertyIsEnumerable.call(B,z[F])&&(J[z[F]]=B[z[F]])}return J}function $(B,I,J,z){var O,F=arguments.length,M=F<3?I:null===z?z=Object.getOwnPropertyDescriptor(I,J):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(B,I,J,z);else for(var Z=B.length-1;Z>=0;Z--)(O=B[Z])&&(M=(F<3?O(M):F>3?O(I,J,M):O(I,J))||M);return F>3&&M&&Object.defineProperty(I,J,M),M}function x(B,I){return function(J,z){I(J,z,B)}}function b(B,I){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(B,I)}function v(B,I,J,z){return new(J||(J=Promise))(function(M,O){function Z(be){try{ue(z.next(be))}catch(re){O(re)}}function te(be){try{ue(z.throw(be))}catch(re){O(re)}}function ue(be){be.done?M(be.value):function F(M){return M instanceof J?M:new J(function(O){O(M)})}(be.value).then(Z,te)}ue((z=z.apply(B,I||[])).next())})}function U(B,I){var z,F,M,O,J={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return O={next:Z(0),throw:Z(1),return:Z(2)},"function"==typeof Symbol&&(O[Symbol.iterator]=function(){return this}),O;function Z(ue){return function(be){return function te(ue){if(z)throw new TypeError("Generator is already executing.");for(;J;)try{if(z=1,F&&(M=2&ue[0]?F.return:ue[0]?F.throw||((M=F.return)&&M.call(F),0):F.next)&&!(M=M.call(F,ue[1])).done)return M;switch(F=0,M&&(ue=[2&ue[0],M.value]),ue[0]){case 0:case 1:M=ue;break;case 4:return J.label++,{value:ue[1],done:!1};case 5:J.label++,F=ue[1],ue=[0];continue;case 7:ue=J.ops.pop(),J.trys.pop();continue;default:if(!(M=(M=J.trys).length>0&&M[M.length-1])&&(6===ue[0]||2===ue[0])){J=0;continue}if(3===ue[0]&&(!M||ue[1]>M[0]&&ue[1]<M[3])){J.label=ue[1];break}if(6===ue[0]&&J.label<M[1]){J.label=M[1],M=ue;break}if(M&&J.label<M[2]){J.label=M[2],J.ops.push(ue);break}M[2]&&J.ops.pop(),J.trys.pop();continue}ue=I.call(B,J)}catch(be){ue=[6,be],F=0}finally{z=M=0}if(5&ue[0])throw ue[1];return{value:ue[0]?ue[1]:void 0,done:!0}}([ue,be])}}}function V(B,I,J,z){void 0===z&&(z=J),B[z]=I[J]}function N(B,I){for(var J in B)"default"!==J&&!I.hasOwnProperty(J)&&(I[J]=B[J])}function K(B){var I="function"==typeof Symbol&&Symbol.iterator,J=I&&B[I],z=0;if(J)return J.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&z>=B.length&&(B=void 0),{value:B&&B[z++],done:!B}}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(B,I){var J="function"==typeof Symbol&&B[Symbol.iterator];if(!J)return B;var F,O,z=J.call(B),M=[];try{for(;(void 0===I||I-- >0)&&!(F=z.next()).done;)M.push(F.value)}catch(Z){O={error:Z}}finally{try{F&&!F.done&&(J=z.return)&&J.call(z)}finally{if(O)throw O.error}}return M}function q(){for(var B=[],I=0;I<arguments.length;I++)B=B.concat(Y(arguments[I]));return B}function X(){for(var B=0,I=0,J=arguments.length;I<J;I++)B+=arguments[I].length;var z=Array(B),F=0;for(I=0;I<J;I++)for(var M=arguments[I],O=0,Z=M.length;O<Z;O++,F++)z[F]=M[O];return z}function ne(B){return this instanceof ne?(this.v=B,this):new ne(B)}function ge(B,I,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F,z=J.apply(B,I||[]),M=[];return F={},O("next"),O("throw"),O("return"),F[Symbol.asyncIterator]=function(){return this},F;function O(oe){z[oe]&&(F[oe]=function(ie){return new Promise(function(ce,me){M.push([oe,ie,ce,me])>1||Z(oe,ie)})})}function Z(oe,ie){try{!function te(oe){oe.value instanceof ne?Promise.resolve(oe.value.v).then(ue,be):re(M[0][2],oe)}(z[oe](ie))}catch(ce){re(M[0][3],ce)}}function ue(oe){Z("next",oe)}function be(oe){Z("throw",oe)}function re(oe,ie){oe(ie),M.shift(),M.length&&Z(M[0][0],M[0][1])}}function Se(B){var I,J;return I={},z("next"),z("throw",function(F){throw F}),z("return"),I[Symbol.iterator]=function(){return this},I;function z(F,M){I[F]=B[F]?function(O){return(J=!J)?{value:ne(B[F](O)),done:"return"===F}:M?M(O):O}:M}}function Fe(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,I=B[Symbol.asyncIterator];return I?I.call(B):(B=K(B),J={},z("next"),z("throw"),z("return"),J[Symbol.asyncIterator]=function(){return this},J);function z(M){J[M]=B[M]&&function(O){return new Promise(function(Z,te){!function F(M,O,Z,te){Promise.resolve(te).then(function(ue){M({value:ue,done:Z})},O)}(Z,te,(O=B[M](O)).done,O.value)})}}}function Be(B,I){return Object.defineProperty?Object.defineProperty(B,"raw",{value:I}):B.raw=I,B}function _e(B){if(B&&B.__esModule)return B;var I={};if(null!=B)for(var J in B)Object.hasOwnProperty.call(B,J)&&(I[J]=B[J]);return I.default=B,I}function Le(B){return B&&B.__esModule?B:{default:B}}function $e(B,I){if(!I.has(B))throw new TypeError("attempted to get private field on non-instance");return I.get(B)}function j(B,I,J){if(!I.has(B))throw new TypeError("attempted to set private field on non-instance");return I.set(B,J),J}},6249:()=>{},1993:(pe,R,S)=>{"use strict";S.d(R,{sL:()=>W});var f=S(5678),H=S(5592),k=S(9773);function W(b){b||((0,f.gHi)(W),b=(0,f.f3M)(f.ktI));const v=new H.y(U=>b.onDestroy(U.next.bind(U)));return U=>U.pipe((0,k.R)(v))}},95:(pe,R,S)=>{"use strict";S.d(R,{Wl:()=>ge,Fj:()=>_e,qu:()=>Un,NI:()=>ht,oH:()=>An,sg:()=>vt,u5:()=>$r,Fd:()=>_t,qQ:()=>Ut,Cf:()=>j,JU:()=>X,JJ:()=>T,JL:()=>P,On:()=>Cn,j3:()=>sr,wV:()=>Sn,UX:()=>ar,kI:()=>J,_Y:()=>Ke});var f=S(5678),H=S(6814),k=S(7715),W=S(5592),$=S(7453),x=S(4829),b=S(9940),v=S(8251),U=S(7400),V=S(2714),K=S(7398);let Y=(()=>{class g{constructor(l,_){this._renderer=l,this._elementRef=_,this.onChange=E=>{},this.onTouched=()=>{}}setProperty(l,_){this._renderer.setProperty(this._elementRef.nativeElement,l,_)}registerOnTouched(l){this.onTouched=l}registerOnChange(l){this.onChange=l}setDisabledState(l){this.setProperty("disabled",l)}static#e=this.\u0275fac=function(_){return new(_||g)(f.Y36(f.Qsj),f.Y36(f.SBq))};static#t=this.\u0275dir=f.lG2({type:g})}return g})(),q=(()=>{class g extends Y{static#e=this.\u0275fac=(()=>{let l;return function(E){return(l||(l=f.n5z(g)))(E||g)}})();static#t=this.\u0275dir=f.lG2({type:g,features:[f.qOj]})}return g})();const X=new f.OlP("NgValueAccessor"),ne={provide:X,useExisting:(0,f.Gpc)(()=>ge),multi:!0};let ge=(()=>{class g extends q{writeValue(l){this.setProperty("checked",l)}static#e=this.\u0275fac=(()=>{let l;return function(E){return(l||(l=f.n5z(g)))(E||g)}})();static#t=this.\u0275dir=f.lG2({type:g,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(_,E){1&_&&f.NdJ("change",function(Ae){return E.onChange(Ae.target.checked)})("blur",function(){return E.onTouched()})},features:[f._Bn([ne]),f.qOj]})}return g})();const Se={provide:X,useExisting:(0,f.Gpc)(()=>_e),multi:!0},Be=new f.OlP("CompositionEventMode");let _e=(()=>{class g extends Y{constructor(l,_,E){super(l,_),this._compositionMode=E,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fe(){const g=(0,H.q)()?(0,H.q)().getUserAgent():"";return/android (\d+)/.test(g.toLowerCase())}())}writeValue(l){this.setProperty("value",l??"")}_handleInput(l){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(l)}_compositionStart(){this._composing=!0}_compositionEnd(l){this._composing=!1,this._compositionMode&&this.onChange(l)}static#e=this.\u0275fac=function(_){return new(_||g)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Be,8))};static#t=this.\u0275dir=f.lG2({type:g,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(_,E){1&_&&f.NdJ("input",function(Ae){return E._handleInput(Ae.target.value)})("blur",function(){return E.onTouched()})("compositionstart",function(){return E._compositionStart()})("compositionend",function(Ae){return E._compositionEnd(Ae.target.value)})},features:[f._Bn([Se]),f.qOj]})}return g})();function Le(g){return null==g||("string"==typeof g||Array.isArray(g))&&0===g.length}function $e(g){return null!=g&&"number"==typeof g.length}const j=new f.OlP("NgValidators"),B=new f.OlP("NgAsyncValidators"),I=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class J{static min(m){return z(m)}static max(m){return F(m)}static required(m){return function M(g){return Le(g.value)?{required:!0}:null}(m)}static requiredTrue(m){return function O(g){return!0===g.value?null:{required:!0}}(m)}static email(m){return function Z(g){return Le(g.value)||I.test(g.value)?null:{email:!0}}(m)}static minLength(m){return function te(g){return m=>Le(m.value)||!$e(m.value)?null:m.value.length<g?{minlength:{requiredLength:g,actualLength:m.value.length}}:null}(m)}static maxLength(m){return function ue(g){return m=>$e(m.value)&&m.value.length>g?{maxlength:{requiredLength:g,actualLength:m.value.length}}:null}(m)}static pattern(m){return function be(g){if(!g)return re;let m,l;return"string"==typeof g?(l="","^"!==g.charAt(0)&&(l+="^"),l+=g,"$"!==g.charAt(g.length-1)&&(l+="$"),m=new RegExp(l)):(l=g.toString(),m=g),_=>{if(Le(_.value))return null;const E=_.value;return m.test(E)?null:{pattern:{requiredPattern:l,actualValue:E}}}}(m)}static nullValidator(m){return null}static compose(m){return xe(m)}static composeAsync(m){return Pe(m)}}function z(g){return m=>{if(Le(m.value)||Le(g))return null;const l=parseFloat(m.value);return!isNaN(l)&&l<g?{min:{min:g,actual:m.value}}:null}}function F(g){return m=>{if(Le(m.value)||Le(g))return null;const l=parseFloat(m.value);return!isNaN(l)&&l>g?{max:{max:g,actual:m.value}}:null}}function re(g){return null}function oe(g){return null!=g}function ie(g){return(0,f.QGY)(g)?(0,k.D)(g):g}function ce(g){let m={};return g.forEach(l=>{m=null!=l?{...m,...l}:m}),0===Object.keys(m).length?null:m}function me(g,m){return m.map(l=>l(g))}function le(g){return g.map(m=>function De(g){return!g.validate}(m)?m:l=>m.validate(l))}function xe(g){if(!g)return null;const m=g.filter(oe);return 0==m.length?null:function(l){return ce(me(l,m))}}function Ue(g){return null!=g?xe(le(g)):null}function Pe(g){if(!g)return null;const m=g.filter(oe);return 0==m.length?null:function(l){return function N(...g){const m=(0,b.jO)(g),{args:l,keys:_}=(0,$.D)(g),E=new W.y(he=>{const{length:Ae}=l;if(!Ae)return void he.complete();const rt=new Array(Ae);let wt=Ae,Pt=Ae;for(let Ct=0;Ct<Ae;Ct++){let Dt=!1;(0,x.Xf)(l[Ct]).subscribe((0,v.x)(he,Zr=>{Dt||(Dt=!0,Pt--),rt[Ct]=Zr},()=>wt--,void 0,()=>{(!wt||!Dt)&&(Pt||he.next(_?(0,V.n)(_,rt):rt),he.complete())}))}});return m?E.pipe((0,U.Z)(m)):E}(me(l,m).map(ie)).pipe((0,K.U)(ce))}}function Re(g){return null!=g?Pe(le(g)):null}function Ne(g,m){return null===g?[m]:Array.isArray(g)?[...g,m]:[g,m]}function Ve(g){return g._rawValidators}function Ie(g){return g._rawAsyncValidators}function Ge(g){return g?Array.isArray(g)?g:[g]:[]}function Ye(g,m){return Array.isArray(g)?g.includes(m):g===m}function Qe(g,m){const l=Ge(m);return Ge(g).forEach(E=>{Ye(l,E)||l.push(E)}),l}function je(g,m){return Ge(m).filter(l=>!Ye(g,l))}class Ze{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(m){this._rawValidators=m||[],this._composedValidatorFn=Ue(this._rawValidators)}_setAsyncValidators(m){this._rawAsyncValidators=m||[],this._composedAsyncValidatorFn=Re(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(m){this._onDestroyCallbacks.push(m)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(m=>m()),this._onDestroyCallbacks=[]}reset(m=void 0){this.control&&this.control.reset(m)}hasError(m,l){return!!this.control&&this.control.hasError(m,l)}getError(m,l){return this.control?this.control.getError(m,l):null}}class h extends Ze{get formDirective(){return null}get path(){return null}}class s extends Ze{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class a{constructor(m){this._cd=m}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let T=(()=>{class g extends a{constructor(l){super(l)}static#e=this.\u0275fac=function(_){return new(_||g)(f.Y36(s,2))};static#t=this.\u0275dir=f.lG2({type:g,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(_,E){2&_&&f.ekj("ng-untouched",E.isUntouched)("ng-touched",E.isTouched)("ng-pristine",E.isPristine)("ng-dirty",E.isDirty)("ng-valid",E.isValid)("ng-invalid",E.isInvalid)("ng-pending",E.isPending)},features:[f.qOj]})}return g})(),P=(()=>{class g extends a{constructor(l){super(l)}static#e=this.\u0275fac=function(_){return new(_||g)(f.Y36(h,10))};static#t=this.\u0275dir=f.lG2({type:g,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(_,E){2&_&&f.ekj("ng-untouched",E.isUntouched)("ng-touched",E.isTouched)("ng-pristine",E.isPristine)("ng-dirty",E.isDirty)("ng-valid",E.isValid)("ng-invalid",E.isInvalid)("ng-pending",E.isPending)("ng-submitted",E.isSubmitted)},features:[f.qOj]})}return g})();const At="VALID",kt="INVALID",Et="PENDING",Nt="DISABLED";function hn(g){return(Kt(g)?g.validators:g)||null}function dn(g,m){return(Kt(m)?m.asyncValidators:g)||null}function Kt(g){return null!=g&&!Array.isArray(g)&&"object"==typeof g}function On(g,m,l){const _=g.controls;if(!(m?Object.keys(_):_).length)throw new f.vHH(1e3,"");if(!_[l])throw new f.vHH(1001,"")}function ft(g,m,l){g._forEachChild((_,E)=>{if(void 0===l[E])throw new f.vHH(1002,"")})}class Yt{constructor(m,l){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(m),this._assignAsyncValidators(l)}get validator(){return this._composedValidatorFn}set validator(m){this._rawValidators=this._composedValidatorFn=m}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(m){this._rawAsyncValidators=this._composedAsyncValidatorFn=m}get parent(){return this._parent}get valid(){return this.status===At}get invalid(){return this.status===kt}get pending(){return this.status==Et}get disabled(){return this.status===Nt}get enabled(){return this.status!==Nt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(m){this._assignValidators(m)}setAsyncValidators(m){this._assignAsyncValidators(m)}addValidators(m){this.setValidators(Qe(m,this._rawValidators))}addAsyncValidators(m){this.setAsyncValidators(Qe(m,this._rawAsyncValidators))}removeValidators(m){this.setValidators(je(m,this._rawValidators))}removeAsyncValidators(m){this.setAsyncValidators(je(m,this._rawAsyncValidators))}hasValidator(m){return Ye(this._rawValidators,m)}hasAsyncValidator(m){return Ye(this._rawAsyncValidators,m)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(m={}){this.touched=!0,this._parent&&!m.onlySelf&&this._parent.markAsTouched(m)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(m=>m.markAllAsTouched())}markAsUntouched(m={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(l=>{l.markAsUntouched({onlySelf:!0})}),this._parent&&!m.onlySelf&&this._parent._updateTouched(m)}markAsDirty(m={}){this.pristine=!1,this._parent&&!m.onlySelf&&this._parent.markAsDirty(m)}markAsPristine(m={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(l=>{l.markAsPristine({onlySelf:!0})}),this._parent&&!m.onlySelf&&this._parent._updatePristine(m)}markAsPending(m={}){this.status=Et,!1!==m.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!m.onlySelf&&this._parent.markAsPending(m)}disable(m={}){const l=this._parentMarkedDirty(m.onlySelf);this.status=Nt,this.errors=null,this._forEachChild(_=>{_.disable({...m,onlySelf:!0})}),this._updateValue(),!1!==m.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...m,skipPristineCheck:l}),this._onDisabledChange.forEach(_=>_(!0))}enable(m={}){const l=this._parentMarkedDirty(m.onlySelf);this.status=At,this._forEachChild(_=>{_.enable({...m,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:m.emitEvent}),this._updateAncestors({...m,skipPristineCheck:l}),this._onDisabledChange.forEach(_=>_(!1))}_updateAncestors(m){this._parent&&!m.onlySelf&&(this._parent.updateValueAndValidity(m),m.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(m){this._parent=m}getRawValue(){return this.value}updateValueAndValidity(m={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===At||this.status===Et)&&this._runAsyncValidator(m.emitEvent)),!1!==m.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!m.onlySelf&&this._parent.updateValueAndValidity(m)}_updateTreeValidity(m={emitEvent:!0}){this._forEachChild(l=>l._updateTreeValidity(m)),this.updateValueAndValidity({onlySelf:!0,emitEvent:m.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nt:At}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(m){if(this.asyncValidator){this.status=Et,this._hasOwnPendingAsyncValidator=!0;const l=ie(this.asyncValidator(this));this._asyncValidationSubscription=l.subscribe(_=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(_,{emitEvent:m})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(m,l={}){this.errors=m,this._updateControlsErrors(!1!==l.emitEvent)}get(m){let l=m;return null==l||(Array.isArray(l)||(l=l.split(".")),0===l.length)?null:l.reduce((_,E)=>_&&_._find(E),this)}getError(m,l){const _=l?this.get(l):this;return _&&_.errors?_.errors[m]:null}hasError(m,l){return!!this.getError(m,l)}get root(){let m=this;for(;m._parent;)m=m._parent;return m}_updateControlsErrors(m){this.status=this._calculateStatus(),m&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(m)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Nt:this.errors?kt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Et)?Et:this._anyControlsHaveStatus(kt)?kt:At}_anyControlsHaveStatus(m){return this._anyControls(l=>l.status===m)}_anyControlsDirty(){return this._anyControls(m=>m.dirty)}_anyControlsTouched(){return this._anyControls(m=>m.touched)}_updatePristine(m={}){this.pristine=!this._anyControlsDirty(),this._parent&&!m.onlySelf&&this._parent._updatePristine(m)}_updateTouched(m={}){this.touched=this._anyControlsTouched(),this._parent&&!m.onlySelf&&this._parent._updateTouched(m)}_registerOnCollectionChange(m){this._onCollectionChange=m}_setUpdateStrategy(m){Kt(m)&&null!=m.updateOn&&(this._updateOn=m.updateOn)}_parentMarkedDirty(m){return!m&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(m){return null}_assignValidators(m){this._rawValidators=Array.isArray(m)?m.slice():m,this._composedValidatorFn=function lt(g){return Array.isArray(g)?Ue(g):g||null}(this._rawValidators)}_assignAsyncValidators(m){this._rawAsyncValidators=Array.isArray(m)?m.slice():m,this._composedAsyncValidatorFn=function Sr(g){return Array.isArray(g)?Re(g):g||null}(this._rawAsyncValidators)}}class Vt extends Yt{constructor(m,l,_){super(hn(l),dn(_,l)),this.controls=m,this._initObservables(),this._setUpdateStrategy(l),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(m,l){return this.controls[m]?this.controls[m]:(this.controls[m]=l,l.setParent(this),l._registerOnCollectionChange(this._onCollectionChange),l)}addControl(m,l,_={}){this.registerControl(m,l),this.updateValueAndValidity({emitEvent:_.emitEvent}),this._onCollectionChange()}removeControl(m,l={}){this.controls[m]&&this.controls[m]._registerOnCollectionChange(()=>{}),delete this.controls[m],this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}setControl(m,l,_={}){this.controls[m]&&this.controls[m]._registerOnCollectionChange(()=>{}),delete this.controls[m],l&&this.registerControl(m,l),this.updateValueAndValidity({emitEvent:_.emitEvent}),this._onCollectionChange()}contains(m){return this.controls.hasOwnProperty(m)&&this.controls[m].enabled}setValue(m,l={}){ft(this,0,m),Object.keys(m).forEach(_=>{On(this,!0,_),this.controls[_].setValue(m[_],{onlySelf:!0,emitEvent:l.emitEvent})}),this.updateValueAndValidity(l)}patchValue(m,l={}){null!=m&&(Object.keys(m).forEach(_=>{const E=this.controls[_];E&&E.patchValue(m[_],{onlySelf:!0,emitEvent:l.emitEvent})}),this.updateValueAndValidity(l))}reset(m={},l={}){this._forEachChild((_,E)=>{_.reset(m?m[E]:null,{onlySelf:!0,emitEvent:l.emitEvent})}),this._updatePristine(l),this._updateTouched(l),this.updateValueAndValidity(l)}getRawValue(){return this._reduceChildren({},(m,l,_)=>(m[_]=l.getRawValue(),m))}_syncPendingControls(){let m=this._reduceChildren(!1,(l,_)=>!!_._syncPendingControls()||l);return m&&this.updateValueAndValidity({onlySelf:!0}),m}_forEachChild(m){Object.keys(this.controls).forEach(l=>{const _=this.controls[l];_&&m(_,l)})}_setUpControls(){this._forEachChild(m=>{m.setParent(this),m._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(m){for(const[l,_]of Object.entries(this.controls))if(this.contains(l)&&m(_))return!0;return!1}_reduceValue(){return this._reduceChildren({},(l,_,E)=>((_.enabled||this.disabled)&&(l[E]=_.value),l))}_reduceChildren(m,l){let _=m;return this._forEachChild((E,he)=>{_=l(_,E,he)}),_}_allControlsDisabled(){for(const m of Object.keys(this.controls))if(this.controls[m].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(m){return this.controls.hasOwnProperty(m)?this.controls[m]:null}}class zt extends Vt{}const at=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xt}),xt="always";function Bt(g,m,l=xt){pn(g,m),m.valueAccessor.writeValue(g.value),(g.disabled||"always"===l)&&m.valueAccessor.setDisabledState?.(g.disabled),function Ar(g,m){m.valueAccessor.registerOnChange(l=>{g._pendingValue=l,g._pendingChange=!0,g._pendingDirty=!0,"change"===g.updateOn&&gn(g,m)})}(g,m),function xr(g,m){const l=(_,E)=>{m.valueAccessor.writeValue(_),E&&m.viewToModelUpdate(_)};g.registerOnChange(l),m._registerOnDestroy(()=>{g._unregisterOnChange(l)})}(g,m),function Er(g,m){m.valueAccessor.registerOnTouched(()=>{g._pendingTouched=!0,"blur"===g.updateOn&&g._pendingChange&&gn(g,m),"submit"!==g.updateOn&&g.markAsTouched()})}(g,m),function br(g,m){if(m.valueAccessor.setDisabledState){const l=_=>{m.valueAccessor.setDisabledState(_)};g.registerOnDisabledChange(l),m._registerOnDestroy(()=>{g._unregisterOnDisabledChange(l)})}}(g,m)}function Jt(g,m,l=!0){const _=()=>{};m.valueAccessor&&(m.valueAccessor.registerOnChange(_),m.valueAccessor.registerOnTouched(_)),$t(g,m),g&&(m._invokeOnDestroyCallbacks(),g._registerOnCollectionChange(()=>{}))}function mt(g,m){g.forEach(l=>{l.registerOnValidatorChange&&l.registerOnValidatorChange(m)})}function pn(g,m){const l=Ve(g);null!==m.validator?g.setValidators(Ne(l,m.validator)):"function"==typeof l&&g.setValidators([l]);const _=Ie(g);null!==m.asyncValidator?g.setAsyncValidators(Ne(_,m.asyncValidator)):"function"==typeof _&&g.setAsyncValidators([_]);const E=()=>g.updateValueAndValidity();mt(m._rawValidators,E),mt(m._rawAsyncValidators,E)}function $t(g,m){let l=!1;if(null!==g){if(null!==m.validator){const E=Ve(g);if(Array.isArray(E)&&E.length>0){const he=E.filter(Ae=>Ae!==m.validator);he.length!==E.length&&(l=!0,g.setValidators(he))}}if(null!==m.asyncValidator){const E=Ie(g);if(Array.isArray(E)&&E.length>0){const he=E.filter(Ae=>Ae!==m.asyncValidator);he.length!==E.length&&(l=!0,g.setAsyncValidators(he))}}}const _=()=>{};return mt(m._rawValidators,_),mt(m._rawAsyncValidators,_),l}function gn(g,m){g._pendingDirty&&g.markAsDirty(),g.setValue(g._pendingValue,{emitModelToViewChange:!1}),m.viewToModelUpdate(g._pendingValue),g._pendingChange=!1}function vn(g,m){if(!g.hasOwnProperty("model"))return!1;const l=g.model;return!!l.isFirstChange()||!Object.is(m,l.currentValue)}function yn(g,m){if(!m)return null;let l,_,E;return Array.isArray(m),m.forEach(he=>{he.constructor===_e?l=he:function Ur(g){return Object.getPrototypeOf(g.constructor)===q}(he)?_=he:E=he}),E||_||l||null}function kn(g,m){const l=g.indexOf(m);l>-1&&g.splice(l,1)}function Qt(g){return"object"==typeof g&&null!==g&&2===Object.keys(g).length&&"value"in g&&"disabled"in g}const ht=class extends Yt{constructor(m=null,l,_){super(hn(l),dn(_,l)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(m),this._setUpdateStrategy(l),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kt(l)&&(l.nonNullable||l.initialValueIsDefault)&&(this.defaultValue=Qt(m)?m.value:m)}setValue(m,l={}){this.value=this._pendingValue=m,this._onChange.length&&!1!==l.emitModelToViewChange&&this._onChange.forEach(_=>_(this.value,!1!==l.emitViewToModelChange)),this.updateValueAndValidity(l)}patchValue(m,l={}){this.setValue(m,l)}reset(m=this.defaultValue,l={}){this._applyFormState(m),this.markAsPristine(l),this.markAsUntouched(l),this.setValue(this.value,l),this._pendingChange=!1}_updateValue(){}_anyControls(m){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(m){this._onChange.push(m)}_unregisterOnChange(m){kn(this._onChange,m)}registerOnDisabledChange(m){this._onDisabledChange.push(m)}_unregisterOnDisabledChange(m){kn(this._onDisabledChange,m)}_forEachChild(m){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(m){Qt(m)?(this.value=this._pendingValue=m.value,m.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=m}},Or={provide:s,useExisting:(0,f.Gpc)(()=>Cn)},wn=(()=>Promise.resolve())();let Cn=(()=>{class g extends s{constructor(l,_,E,he,Ae,rt){super(),this._changeDetectorRef=Ae,this.callSetDisabledState=rt,this.control=new ht,this._registered=!1,this.name="",this.update=new f.vpe,this._parent=l,this._setValidators(_),this._setAsyncValidators(E),this.valueAccessor=yn(0,he)}ngOnChanges(l){if(this._checkForErrors(),!this._registered||"name"in l){if(this._registered&&(this._checkName(),this.formDirective)){const _=l.name.previousValue;this.formDirective.removeControl({name:_,path:this._getPath(_)})}this._setUpControl()}"isDisabled"in l&&this._updateDisabled(l),vn(l,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(l){this.viewModel=l,this.update.emit(l)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(l){wn.then(()=>{this.control.setValue(l,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(l){const _=l.isDisabled.currentValue,E=0!==_&&(0,f.VuI)(_);wn.then(()=>{E&&!this.control.disabled?this.control.disable():!E&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(l){return this._parent?function qt(g,m){return[...m.path,g]}(l,this._parent):[l]}static#e=this.\u0275fac=function(_){return new(_||g)(f.Y36(h,9),f.Y36(j,10),f.Y36(B,10),f.Y36(X,10),f.Y36(f.sBO,8),f.Y36(at,8))};static#t=this.\u0275dir=f.lG2({type:g,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([Or]),f.qOj,f.TTD]})}return g})(),Ke=(()=>{class g{static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275dir=f.lG2({type:g,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return g})();const Bn={provide:X,useExisting:(0,f.Gpc)(()=>Sn),multi:!0};let Sn=(()=>{class g extends q{writeValue(l){this.setProperty("value",l??"")}registerOnChange(l){this.onChange=_=>{l(""==_?null:parseFloat(_))}}static#e=this.\u0275fac=(()=>{let l;return function(E){return(l||(l=f.n5z(g)))(E||g)}})();static#t=this.\u0275dir=f.lG2({type:g,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(_,E){1&_&&f.NdJ("input",function(Ae){return E.onChange(Ae.target.value)})("blur",function(){return E.onTouched()})},features:[f._Bn([Bn]),f.qOj]})}return g})(),Ln=(()=>{class g{static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275mod=f.oAB({type:g});static#n=this.\u0275inj=f.cJS({})}return g})();const bn=new f.OlP("NgModelWithFormControlWarning"),Vr={provide:s,useExisting:(0,f.Gpc)(()=>An)};let An=(()=>{class g extends s{set isDisabled(l){}static#e=this._ngModelWarningSentOnce=!1;constructor(l,_,E,he,Ae){super(),this._ngModelWarningConfig=he,this.callSetDisabledState=Ae,this.update=new f.vpe,this._ngModelWarningSent=!1,this._setValidators(l),this._setAsyncValidators(_),this.valueAccessor=yn(0,E)}ngOnChanges(l){if(this._isControlChanged(l)){const _=l.form.previousValue;_&&Jt(_,this,!1),Bt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}vn(l,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Jt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(l){this.viewModel=l,this.update.emit(l)}_isControlChanged(l){return l.hasOwnProperty("form")}static#t=this.\u0275fac=function(_){return new(_||g)(f.Y36(j,10),f.Y36(B,10),f.Y36(X,10),f.Y36(bn,8),f.Y36(at,8))};static#n=this.\u0275dir=f.lG2({type:g,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f._Bn([Vr]),f.qOj,f.TTD]})}return g})();const Hn={provide:h,useExisting:(0,f.Gpc)(()=>vt)};let vt=(()=>{class g extends h{constructor(l,_,E){super(),this.callSetDisabledState=E,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(l),this._setAsyncValidators(_)}ngOnChanges(l){this._checkFormPresent(),l.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($t(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(l){const _=this.form.get(l.path);return Bt(_,l,this.callSetDisabledState),_.updateValueAndValidity({emitEvent:!1}),this.directives.push(l),_}getControl(l){return this.form.get(l.path)}removeControl(l){Jt(l.control||null,l,!1),function Zt(g,m){const l=g.indexOf(m);l>-1&&g.splice(l,1)}(this.directives,l)}addFormGroup(l){this._setUpFormContainer(l)}removeFormGroup(l){this._cleanUpFormContainer(l)}getFormGroup(l){return this.form.get(l.path)}addFormArray(l){this._setUpFormContainer(l)}removeFormArray(l){this._cleanUpFormContainer(l)}getFormArray(l){return this.form.get(l.path)}updateModel(l,_){this.form.get(l.path).setValue(_)}onSubmit(l){return this.submitted=!0,function Rn(g,m){g._syncPendingControls(),m.forEach(l=>{const _=l.control;"submit"===_.updateOn&&_._pendingChange&&(l.viewToModelUpdate(_._pendingValue),_._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(l),"dialog"===l?.target?.method}onReset(){this.resetForm()}resetForm(l=void 0){this.form.reset(l),this.submitted=!1}_updateDomValue(){this.directives.forEach(l=>{const _=l.control,E=this.form.get(l.path);_!==E&&(Jt(_||null,l),(g=>g instanceof ht)(E)&&(Bt(E,l,this.callSetDisabledState),l.control=E))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(l){const _=this.form.get(l.path);(function Fn(g,m){pn(g,m)})(_,l),_.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(l){if(this.form){const _=this.form.get(l.path);_&&function Ir(g,m){return $t(g,m)}(_,l)&&_.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pn(this.form,this),this._oldForm&&$t(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(_){return new(_||g)(f.Y36(j,10),f.Y36(B,10),f.Y36(at,8))};static#t=this.\u0275dir=f.lG2({type:g,selectors:[["","formGroup",""]],hostBindings:function(_,E){1&_&&f.NdJ("submit",function(Ae){return E.onSubmit(Ae)})("reset",function(){return E.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Hn]),f.qOj,f.TTD]})}return g})();function Jn(g){return"number"==typeof g?g:parseFloat(g)}let yt=(()=>{class g{constructor(){this._validator=re}ngOnChanges(l){if(this.inputName in l){const _=this.normalizeInput(l[this.inputName].currentValue);this._enabled=this.enabled(_),this._validator=this._enabled?this.createValidator(_):re,this._onChange&&this._onChange()}}validate(l){return this._validator(l)}registerOnValidatorChange(l){this._onChange=l}enabled(l){return null!=l}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275dir=f.lG2({type:g,features:[f.TTD]})}return g})();const Yr={provide:j,useExisting:(0,f.Gpc)(()=>_t),multi:!0};let _t=(()=>{class g extends yt{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=l=>Jn(l),this.createValidator=l=>F(l)}static#e=this.\u0275fac=(()=>{let l;return function(E){return(l||(l=f.n5z(g)))(E||g)}})();static#t=this.\u0275dir=f.lG2({type:g,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(_,E){2&_&&f.uIk("max",E._enabled?E.max:null)},inputs:{max:"max"},features:[f._Bn([Yr]),f.qOj]})}return g})();const en={provide:j,useExisting:(0,f.Gpc)(()=>Ut),multi:!0};let Ut=(()=>{class g extends yt{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=l=>Jn(l),this.createValidator=l=>z(l)}static#e=this.\u0275fac=(()=>{let l;return function(E){return(l||(l=f.n5z(g)))(E||g)}})();static#t=this.\u0275dir=f.lG2({type:g,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(_,E){2&_&&f.uIk("min",E._enabled?E.min:null)},inputs:{min:"min"},features:[f._Bn([en]),f.qOj]})}return g})(),ir=(()=>{class g{static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275mod=f.oAB({type:g});static#n=this.\u0275inj=f.cJS({imports:[Ln]})}return g})();class or extends Yt{constructor(m,l,_){super(hn(l),dn(_,l)),this.controls=m,this._initObservables(),this._setUpdateStrategy(l),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(m){return this.controls[this._adjustIndex(m)]}push(m,l={}){this.controls.push(m),this._registerControl(m),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}insert(m,l,_={}){this.controls.splice(m,0,l),this._registerControl(l),this.updateValueAndValidity({emitEvent:_.emitEvent})}removeAt(m,l={}){let _=this._adjustIndex(m);_<0&&(_=0),this.controls[_]&&this.controls[_]._registerOnCollectionChange(()=>{}),this.controls.splice(_,1),this.updateValueAndValidity({emitEvent:l.emitEvent})}setControl(m,l,_={}){let E=this._adjustIndex(m);E<0&&(E=0),this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),this.controls.splice(E,1),l&&(this.controls.splice(E,0,l),this._registerControl(l)),this.updateValueAndValidity({emitEvent:_.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(m,l={}){ft(this,0,m),m.forEach((_,E)=>{On(this,!1,E),this.at(E).setValue(_,{onlySelf:!0,emitEvent:l.emitEvent})}),this.updateValueAndValidity(l)}patchValue(m,l={}){null!=m&&(m.forEach((_,E)=>{this.at(E)&&this.at(E).patchValue(_,{onlySelf:!0,emitEvent:l.emitEvent})}),this.updateValueAndValidity(l))}reset(m=[],l={}){this._forEachChild((_,E)=>{_.reset(m[E],{onlySelf:!0,emitEvent:l.emitEvent})}),this._updatePristine(l),this._updateTouched(l),this.updateValueAndValidity(l)}getRawValue(){return this.controls.map(m=>m.getRawValue())}clear(m={}){this.controls.length<1||(this._forEachChild(l=>l._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:m.emitEvent}))}_adjustIndex(m){return m<0?m+this.length:m}_syncPendingControls(){let m=this.controls.reduce((l,_)=>!!_._syncPendingControls()||l,!1);return m&&this.updateValueAndValidity({onlySelf:!0}),m}_forEachChild(m){this.controls.forEach((l,_)=>{m(l,_)})}_updateValue(){this.value=this.controls.filter(m=>m.enabled||this.disabled).map(m=>m.value)}_anyControls(m){return this.controls.some(l=>l.enabled&&m(l))}_setUpControls(){this._forEachChild(m=>this._registerControl(m))}_allControlsDisabled(){for(const m of this.controls)if(m.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(m){m.setParent(this),m._registerOnCollectionChange(this._onCollectionChange)}_find(m){return this.at(m)??null}}function nn(g){return!!g&&(void 0!==g.asyncValidators||void 0!==g.validators||void 0!==g.updateOn)}let Un=(()=>{class g{constructor(){this.useNonNullable=!1}get nonNullable(){const l=new g;return l.useNonNullable=!0,l}group(l,_=null){const E=this._reduceControls(l);let he={};return nn(_)?he=_:null!==_&&(he.validators=_.validator,he.asyncValidators=_.asyncValidator),new Vt(E,he)}record(l,_=null){const E=this._reduceControls(l);return new zt(E,_)}control(l,_,E){let he={};return this.useNonNullable?(nn(_)?he=_:(he.validators=_,he.asyncValidators=E),new ht(l,{...he,nonNullable:!0})):new ht(l,_,E)}array(l,_,E){const he=l.map(Ae=>this._createControl(Ae));return new or(he,_,E)}_reduceControls(l){const _={};return Object.keys(l).forEach(E=>{_[E]=this._createControl(l[E])}),_}_createControl(l){return l instanceof ht||l instanceof Yt?l:Array.isArray(l)?this.control(l[0],l.length>1?l[1]:null,l.length>2?l[2]:null):this.control(l)}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275prov=f.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})(),sr=(()=>{class g{static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275prov=f.Yz7({token:g,factory:()=>(0,f.f3M)(Un).nonNullable,providedIn:"root"})}return g})(),$r=(()=>{class g{static withConfig(l){return{ngModule:g,providers:[{provide:at,useValue:l.callSetDisabledState??xt}]}}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275mod=f.oAB({type:g});static#n=this.\u0275inj=f.cJS({imports:[ir]})}return g})(),ar=(()=>{class g{static withConfig(l){return{ngModule:g,providers:[{provide:bn,useValue:l.warnOnNgModelWithFormControl??"always"},{provide:at,useValue:l.callSetDisabledState??xt}]}}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275mod=f.oAB({type:g});static#n=this.\u0275inj=f.cJS({imports:[ir]})}return g})()}}]);