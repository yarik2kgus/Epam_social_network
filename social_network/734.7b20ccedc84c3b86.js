"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[734],{5734:(J,g,o)=>{o.r(g),o.d(g,{default:()=>S});var m=o(6814),l=o(9281),h=o(7650),t=o(5678);let u=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["epm-auth"]],standalone:!0,features:[t.jDz],decls:3,vars:0,consts:[[1,"header"]],template:function(a,e){1&a&&(t.TgZ(0,"header",0),t._UZ(1,"epm-header"),t.qZA(),t._UZ(2,"router-outlet"))},dependencies:[m.ez,l.lC,h.z],styles:["[_nghost-%COMP%]{display:block;background-color:#fff;min-height:calc(100vh - 56px)}"]})}return n})();var i=o(7110),r=o(95),f=o(4664),v=o(9397),C=o(6306),P=o(4716),x=o(6232),U=o(3500),L=o(8954),c=o(9685),y=o(8050),I=o(1310),M=o(9834),Z=o(2333),F=o(5323);function T(n,p){if(1&n){const s=t.EpF();t.TgZ(0,"epm-button",12),t.NdJ("click",function(){t.CHM(s);const e=t.oxw();return t.KtG(e.onLogIn())}),t._uU(1," Log In "),t.qZA()}if(2&n){const s=t.oxw();t.Tol(s.buttonThemes.Primary),t.Q6J("isDisabled",!s.isFormValid)}}function A(n,p){1&n&&t._UZ(0,"epm-loader")}const d=(n,p)=>["/",n,p];let z=(()=>{class n{get email(){return this.loginForm.controls.email}get password(){return this.loginForm.controls.password}get isFormValid(){return this.loginForm.valid}constructor(s,a,e,O,w){this.router=s,this.fb=a,this.cognitoService=e,this.authService=O,this.loaderService=w,this.requestInProgress=this.loaderService.isLoading,this.appRoutes=i.zV,this.buttonThemes=i.uY,this.inputTypes=i.Ar}ngOnInit(){this.initLoginForm()}onLogIn(){const s={email:this.email.value.toLowerCase(),password:this.password.value};this.loaderService.showLoader(),this.cognitoService.signIn(s).pipe((0,f.w)(()=>this.authService.getCurrentUser(s.email)),(0,v.b)(()=>this.router.navigateByUrl(`/${this.appRoutes.Main}`)),(0,C.K)(a=>this.errorHandler(a.message)),(0,P.x)(()=>this.loaderService.hideLoader())).subscribe()}initLoginForm(){this.loginForm=this.fb.group({email:["",{validators:[r.kI.required]}],password:["",{validators:[r.kI.required]}]})}errorHandler(s){switch(s){case c.Fp.IncorrectUser:this.loginForm.get("email")?.setErrors({emailWrong:!0});break;case c.Fp.IncorrectPassword:this.loginForm.get("password")?.setErrors({passwordWrong:!0});break;default:this.router.navigateByUrl(`/${i.zV.NotFound}`)}return x.E}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(l.F0),t.Y36(r.j3),t.Y36(M.A),t.Y36(Z.e),t.Y36(F.D))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["epm-log-in"]],standalone:!0,features:[t.jDz],decls:20,vars:15,consts:[["src","assets/icons/logo_dark.svg","width","76","height","84","alt","logo",1,"logo"],[1,"title"],[1,"subtitle"],[1,"form",3,"formGroup"],["labelPlaceholder","Login",1,"password",3,"control"],[3,"control"],["labelPlaceholder","Password",1,"confirm",3,"type","control"],[1,"forgot-pass"],[1,"link",3,"routerLink"],["class","submit-button",3,"class","isDisabled"],[1,"sign-up"],[1,"space-right"],[1,"submit-button",3,"isDisabled","click"]],template:function(a,e){1&a&&(t._UZ(0,"img",0),t.TgZ(1,"h2",1),t._uU(2,"U-pamers"),t.qZA(),t.TgZ(3,"h3",2),t._uU(4,"Log in to expand your social network and communicate with colleagues."),t.qZA(),t.TgZ(5,"form",3),t._UZ(6,"epm-input",4)(7,"epm-error-message",5)(8,"epm-input",6)(9,"epm-error-message",5),t.TgZ(10,"p",7)(11,"a",8),t._uU(12,"Forgot password?"),t.qZA()(),t.YNc(13,T,2,3,"epm-button",9)(14,A,1,0),t.qZA(),t.TgZ(15,"span",10)(16,"span",11),t._uU(17,"Don\u2019t have an account?"),t.qZA(),t.TgZ(18,"a",8),t._uU(19,"Sign Up"),t.qZA()()),2&a&&(t.xp6(5),t.Q6J("formGroup",e.loginForm),t.xp6(1),t.Q6J("control",e.email),t.xp6(1),t.Q6J("control",e.email),t.xp6(1),t.Q6J("type",e.inputTypes.Password)("control",e.password),t.xp6(1),t.Q6J("control",e.password),t.xp6(2),t.Q6J("routerLink",t.WLB(9,d,e.appRoutes.Auth,e.appRoutes.ResetPassword)),t.xp6(2),t.um2(13,e.requestInProgress()?14:13),t.xp6(5),t.Q6J("routerLink",t.WLB(12,d,e.appRoutes.Auth,e.appRoutes.SignUp)))},dependencies:[m.ez,l.rH,U.o,L.c,r.UX,r._Y,r.JL,r.sg,y.m,I.N],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;min-height:calc(100vh - 56px);padding:40px 16px}.title[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:700;margin-top:16px;font-size:32px;line-height:1.4;color:#1f1f26}.subtitle[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500;margin-top:4px;font-size:16px;line-height:1.5;text-align:center;color:#65697e}.form[_ngcontent-%COMP%]{margin-top:32px;width:100%}.confirm[_ngcontent-%COMP%]{margin-top:16px}.forgot-pass[_ngcontent-%COMP%]{margin-top:12px;text-align:end}.link[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500;font-size:16px;color:#0078ff}.submit-button[_ngcontent-%COMP%]{display:block;margin-top:32px}.sign-up[_ngcontent-%COMP%]{margin-top:12px}.space-right[_ngcontent-%COMP%]{margin-right:5px}epm-error-message[_ngcontent-%COMP%]{padding:4px 0}epm-loader[_ngcontent-%COMP%]{position:relative;bottom:0;display:inline-block;margin:54px 0 16px}"]})}return n})();var R=o(1573);const S=[{path:"",component:u,children:[{path:"",redirectTo:i.zV.LogIn,pathMatch:"full"},{path:i.zV.LogIn,component:z,title:"U-PAMERS | Log in",data:i.dR.logIn},{path:i.zV.SignUp,loadComponent:()=>Promise.all([o.e(592),o.e(992)]).then(o.bind(o,992)),canDeactivate:[R.v],title:"U-PAMERS | Sign Up",data:i.dR.signUp},{path:i.zV.ResetPassword,loadComponent:()=>o.e(131).then(o.bind(o,8131)),title:"U-PAMERS | Password reset",data:i.dR.resetPassword},{path:i.zV.NewPassword,loadComponent:()=>Promise.all([o.e(592),o.e(426)]).then(o.bind(o,4426)),title:"U-PAMERS | Change password",data:i.dR.newPassword}]}]}}]);