"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[426],{4426:(Z,p,r)=>{r.r(p),r.d(p,{default:()=>F});var m=r(6814),i=r(95),g=r(9397),f=r(8180),h=r(6306),P=r(3500),C=r(8954),a=r(7110),l=r(5981),x=r(8050),u=r(9685),w=r(9281),e=r(5678);let b=(()=>{class o{constructor(){this.loginLink=`/${a.zV.Auth}/${a.zV.LogIn}`}static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["epm-password-saved"]],standalone:!0,features:[e.jDz],decls:7,vars:1,consts:[[1,"success-message__wrapper"],[1,"title"],[1,"subtitle"],[1,"button-link",3,"routerLink"]],template:function(s,n){1&s&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Password saved"),e.qZA(),e.TgZ(3,"h3",2),e._uU(4,"Please use your new password to log in."),e.qZA()(),e.TgZ(5,"a",3),e._uU(6,"Log in"),e.qZA()),2&s&&(e.xp6(5),e.Q6J("routerLink",n.loginLink))},dependencies:[m.ez,w.rH],styles:["[_nghost-%COMP%]{padding:120px 0 0}.success-message__wrapper[_ngcontent-%COMP%]{padding-top:144px;margin-bottom:32px;width:100%;background-repeat:no-repeat;background-position:top center;background-image:url(success.604ed8a33623b63a.svg)}.title[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:700;font-size:24px;line-height:1.4;text-align:center;color:#2c2c2d}.subtitle[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500;margin:8px 0 0;font-size:16px;line-height:1.5;text-align:center;color:#65697e}"]})}return o})();var _=r(9834);const v=["codeRef"];function y(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",1)(1,"h1",2),e._uU(2,"Enter code"),e.qZA(),e.TgZ(3,"h3",3),e._uU(4,"Please check your email and provide the verification code"),e.qZA()(),e.TgZ(5,"form",4),e._UZ(6,"epm-input",5)(7,"epm-error-message",6)(8,"epm-input",7,8)(10,"epm-error-message",6),e.TgZ(11,"epm-button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onCodeSubmit())}),e._uU(12," Confirm code "),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.createNewPasswordForm),e.xp6(1),e.Q6J("type",t.inputTypes.Text)("control",t.email),e.xp6(1),e.Q6J("control",t.email),e.xp6(1),e.Q6J("type",t.inputTypes.Text)("control",t.code)("maskConfig",t.codeMaskConfig),e.xp6(2),e.Q6J("control",t.code),e.xp6(1),e.Tol(t.buttonThemes.Primary),e.Q6J("isDisabled",t.email.invalid||t.code.invalid)}}function N(o,d){1&o&&(e.TgZ(0,"p",16),e._uU(1," Create a strong password that is at least 8\xa0characters long, includes upper-case, lower-case letters, at least 1\xa0digit and 1\xa0special character. "),e.qZA())}function T(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"form",10)(1,"h1",2),e._uU(2,"Create new password"),e.qZA(),e._UZ(3,"epm-input",11)(4,"epm-error-message",12),e.YNc(5,N,2,0,"p",13),e._UZ(6,"epm-input",14)(7,"epm-error-message",12),e.TgZ(8,"epm-button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onNewPasswordSubmit())}),e._uU(9," Save password "),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.createNewPasswordForm),e.xp6(3),e.Q6J("type",t.inputTypes.Password)("control",t.newPassword),e.xp6(1),e.Q6J("control",t.newPassword)("priorityErrors",t.priorityErrors),e.xp6(1),e.um2(5,t.newPassword.pristine||t.newPassword.valid?5:-1),e.xp6(1),e.Q6J("type",t.inputTypes.Password)("control",t.confirmNewPassword),e.xp6(1),e.Q6J("control",t.confirmNewPassword)("priorityErrors",t.priorityErrors),e.xp6(1),e.Tol(t.buttonThemes.Primary),e.Q6J("isDisabled",t.createNewPasswordForm.touched&&t.createNewPasswordForm.invalid)}}function k(o,d){1&o&&e._UZ(0,"epm-password-saved")}let F=(()=>{class o{get email(){return this.createNewPasswordForm.controls.email}get code(){return this.createNewPasswordForm.controls.code}get newPassword(){return this.createNewPasswordForm.controls.newPassword}get confirmNewPassword(){return this.createNewPasswordForm.controls.confirmNewPassword}constructor(t,s,n){this.fb=t,this.cognitoService=s,this.router=n,this.isCodeSubmitted=!1,this.isNewPasswordFormSubmited=!1,this.priorityErrors=["samePasswordsValue"],this.buttonThemes=a.uY,this.inputTypes=a.Ar,this.inputPlaceholders=a.Nx,this.codeMaskConfig={symbol:"_",quantity:6,regExp:/\d/}}ngOnInit(){this.initCreateNewPasswordForm()}onCodeSubmit(){this.isCodeSubmitted=!0}onNewPasswordSubmit(){const{email:t="",code:s="",newPassword:n=""}=this.createNewPasswordForm.value,c=t.toLowerCase();this.cognitoService.forgotPasswordSubmit(c,s,n).pipe((0,g.b)(()=>{this.isNewPasswordFormSubmited=!0}),(0,f.q)(1),(0,h.K)(()=>this.router.navigateByUrl(`/${a.zV.NotFound}`))).subscribe()}initCreateNewPasswordForm(){this.createNewPasswordForm=this.fb.group({newPassword:["",[i.kI.required,i.kI.minLength(8),l.d.password()]],confirmNewPassword:["",[i.kI.required]],code:["",[i.kI.required]],email:["",[i.kI.required,i.kI.email]]},{validators:[l.d.matchControlsValue("samePasswordsValue",u.HF.NewPassword,u.HF.ConfirmNewPassword)]})}static#e=this.\u0275fac=function(s){return new(s||o)(e.Y36(i.j3),e.Y36(_.A),e.Y36(w.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["epm-new-password"]],viewQuery:function(s,n){if(1&s&&e.Gf(v,5),2&s){let c;e.iGM(c=e.CRH())&&(n.codeInputRef=c.first)}},standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[["class","create-password__form",3,"formGroup"],[1,"block-head"],[1,"title"],[1,"subtitle"],[3,"formGroup"],["labelPlaceholder","User email",1,"input__email",3,"type","control"],[1,"input__error",3,"control"],["labelPlaceholder","Verification Code",1,"input__code",3,"type","control","maskConfig"],["codeRef",""],["type","submit",1,"submit-button",3,"isDisabled","click"],[1,"create-password__form",3,"formGroup"],["labelPlaceholder","New password",1,"input__new-password",3,"type","control"],[1,"input__error",3,"control","priorityErrors"],["class","input__comment"],["labelPlaceholder","Confirm new password",1,"input__confirm-password",3,"type","control"],[1,"submit-button",3,"isDisabled","click"],[1,"input__comment"]],template:function(s,n){1&s&&e.YNc(0,y,13,11)(1,T,10,13,"form",0)(2,k,1,0,"epm-password-saved"),2&s&&(e.um2(0,n.isCodeSubmitted?-1:0),e.xp6(1),e.um2(1,n.isCodeSubmitted&&!n.isNewPasswordFormSubmited?1:-1),e.xp6(1),e.um2(2,n.isCodeSubmitted&&n.isNewPasswordFormSubmited?2:-1))},dependencies:[m.ez,P.o,C.c,i.UX,i._Y,i.JL,i.sg,x.m,b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:calc(100vh - 56px);padding:24px 16px}.input__confirm-password[_ngcontent-%COMP%], .input__code[_ngcontent-%COMP%]{margin-top:16px}.input__comment[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:400;margin-top:4px;font-size:12px;line-height:1.5}.input__error[_ngcontent-%COMP%]{margin-top:4px}.title[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:700;font-size:24px;line-height:1.4;text-align:center;color:#2c2c2d}.subtitle[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500;margin:8px 0 0;font-size:16px;line-height:1.5;text-align:center;color:#65697e}.submit-button[_ngcontent-%COMP%]{display:block;margin-top:32px}.block-head[_ngcontent-%COMP%]{padding-top:144px;margin-bottom:32px;width:100%;background-repeat:no-repeat;background-position:top center;background-image:url(email-check.1fd44d4984bb9fbf.svg)}.create-password__form[_ngcontent-%COMP%]{padding-top:120px}.create-password__form[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:32px}"]})}return o})()}}]);